{"version":3,"sources":["assets\\script\\tscript\\ui\\main\\AccountUI.ts"],"names":[],"mappings":";;;;;AACA,yCAAoC;AACpC,uDAAkD;AAClD,sDAAiD;AACjD,iDAA8D;AAC9D,sDAAiD;AACjD,wCAAmC;AACnC,0CAAqC;AAErC,yCAAoC;AACpC,mCAA8B;AAC9B,0CAAqC;AACrC,wDAAmD;AACnD,mDAAsD;AAEtD,oBAAoB;AACpB,kFAAkF;AAClF,yFAAyF;AACzF,mBAAmB;AACnB,4FAA4F;AAC5F,mGAAmG;AACnG,8BAA8B;AAC9B,4FAA4F;AAC5F,mGAAmG;AAE7F,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAG1C;IAAuC,6BAAM;IAD7C;QAAA,qEAwVC;QApVG,eAAS,GAAc,IAAI,CAAC;QAG5B,mBAAa,GAAmB,IAAI,CAAC;QAGrC,mBAAa,GAAa,IAAI,CAAC;QAG/B,kBAAY,GAAa,IAAI,CAAC;QAG9B,kBAAY,GAAa,IAAI,CAAC;QAG9B,mBAAa,GAAa,IAAI,CAAC;QAG/B,iBAAW,GAAa,IAAI,CAAC;QAG7B,aAAO,GAAa,IAAI,CAAC;QAGzB,iBAAW,GAAa,IAAI,CAAC;QAG7B,cAAQ,GAAc,IAAI,CAAC;QAG3B,iBAAW,GAAc,IAAI,CAAC;QAG9B,eAAS,GAAc,IAAI,CAAC;QAG5B,eAAS,GAAc,IAAI,CAAC;QAG5B,gBAAU,GAAc,IAAI,CAAC;QAG7B,eAAS,GAAc,IAAI,CAAC;QAG5B,aAAO,GAAc,IAAI,CAAC;QAG1B,YAAM,GAAqB,EAAE,CAAC;QAGtB,eAAS,GAAa,IAAI,CAAC;QAE3B,UAAI,GAAU,CAAC,CAAC;;QA0RvB;;;;WAIG;IACR,CAAC;IApRG,yBAAK,GAAL;QAAA,iBAsIC;QApIG,IAAI,CAAC,SAAS,GAAG,qBAAW,CAAC,QAAQ,CAAC,SAAS,CAAC,YAAY,CAAC,mBAAS,CAAC,CAAC;QAGxE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAC,UAAC,KAAK;YAEpD,IAAI,QAAQ,GAAG,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC;YACzD,IAAI,WAAW,GAAG,qBAAW,CAAC,QAAQ,CAAC,UAAU,CAAC,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,CAAC;YAE7F,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;YACxD,qBAAW,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC;YAEtC,eAAK,CAAC,QAAQ,CAAC,kBAAkB,CAAC,MAAM,EAAC,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,CAAC;YAEpF,IAAI,OAAO,GAAG,qBAAW,CAAC,QAAQ,CAAC,UAAU,CAAC,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,CAAC;YAEzF,IAAG,OAAO,GAAG,WAAW,EACxB;gBACI,KAAI,CAAC,KAAK,EAAE,CAAC;gBACb,mBAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;gBACpC,mBAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,OAAO,EAAC,IAAI,CAAC,CAAC;gBACvD,mBAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG;oBAClC,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC;gBACvD,CAAC,CAAC;aACL;iBAAK,IAAG,OAAO,GAAG,WAAW,EAC9B;gBACI,KAAI,CAAC,KAAK,EAAE,CAAC;gBACb,mBAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;gBACpC,mBAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,OAAO,EAAC,KAAK,CAAC,CAAC;gBACxD,mBAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG;oBAClC,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC;gBACvD,CAAC,CAAC;gBAEF,mBAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,SAAS,GAAG;oBAErC,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,IAAI,GAAG,QAAQ,CAAC;oBACrD,qBAAW,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC;oBACtC,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC;gBACvD,CAAC,CAAC;aACL;iBACD;gBACI,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC;aACtD;QAEL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAC,UAAC,KAAK;YAGrD,eAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,yBAAyB,EAAC,UAAC,UAAiB;gBAEjE,IAAG,UAAU,IAAI,CAAC,EAClB;oBACI,OAAO;iBACV;gBAED,IAAI,QAAQ,GAAG,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC;gBACzD,IAAI,WAAW,GAAG,qBAAW,CAAC,QAAQ,CAAC,UAAU,CAAC,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,CAAC;gBAE7F,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;gBAAA,CAAC;gBAC7D,qBAAW,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC;gBAEtC,eAAK,CAAC,QAAQ,CAAC,kBAAkB,CAAC,MAAM,EAAC,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,CAAC;gBAEpF,IAAI,OAAO,GAAG,qBAAW,CAAC,QAAQ,CAAC,UAAU,CAAC,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,CAAC;gBAGzF,IAAG,OAAO,GAAG,WAAW,EACxB;oBACI,KAAI,CAAC,KAAK,EAAE,CAAC;oBACb,mBAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;oBACpC,mBAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,OAAO,EAAC,IAAI,CAAC,CAAC;oBACvD,mBAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG;wBAClC,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC;oBACvD,CAAC,CAAC;iBACL;qBAAK,IAAG,OAAO,GAAG,WAAW,EAC9B;oBACI,KAAI,CAAC,KAAK,EAAE,CAAC;oBACb,mBAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;oBACpC,mBAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,OAAO,EAAC,KAAK,CAAC,CAAC;oBACxD,mBAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG;wBAClC,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC;oBACvD,CAAC,CAAC;oBAEF,mBAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,SAAS,GAAG;wBAErC,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,IAAI,GAAG,QAAQ,CAAC;wBACrD,qBAAW,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC;wBACtC,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC;oBACvD,CAAC,CAAC;iBAEL;qBACD;oBACI,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC;iBACtD;YAEL,CAAC,CAAC,CAAC;QAEP,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAC,UAAC,KAAK;YAEtD,eAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,yBAAyB,EAAC,UAAC,UAAiB;gBAEjE,IAAG,UAAU,IAAI,CAAC,EAClB;oBACI,OAAO;iBACV;gBAED,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC;YAEvD,CAAC,CAAC,CAAC;QAEP,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAC,UAAC,KAAK;YAEvD,mBAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;QAEjD,CAAC,EAAC,IAAI,CAAC,CAAC;QAER,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAC,UAAC,KAAK;YAErD,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;YACxD,qBAAW,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC;YAEtC,eAAK,CAAC,QAAQ,CAAC,kBAAkB,CAAC,MAAM,EAAC,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,CAAC;YAEpF,gBAAM,CAAC,cAAc,GAAG,IAAI,CAAC;YAC7B,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC;IAGP,CAAC;IAEM,wBAAI,GAAX;QAEI,IAAI,CAAC,SAAS,GAAG,qBAAW,CAAC,QAAQ,CAAC,SAAS,CAAC,YAAY,CAAC,mBAAS,CAAC,CAAC;QAExE,IAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,IAAI,qBAAY,CAAC,GAAG,EACnD;YACI,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,gBAAgB,GAAG,CAAC,CAAC;SAE7D;aACD;YAEI,IAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,EAClC;gBACI,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,IAAI,IAAG,CAAC,CAAC;gBAE9C,qDAAqD;gBAErD,IAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,YAAY,GAAG,CAAC,GAAG,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,aAAa,EAC7F;oBACI,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,YAAY,GAAG,CAAC,CAAC;iBAC9F;aAEJ;YAED,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,gBAAgB,EAAG,CAAC;YAEzD,IAAG,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,gBAAgB,GAAG,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,QAAQ,EACxG;gBACI,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,QAAQ,GAAG,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,gBAAgB,CAAC;aACzG;SACJ;QAGD,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;QAEd,IAAI,IAAI,GAAU,eAAK,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,EAAC,CAAC,EAAC,CAAC,CAAC,CAAC;QAG9D,oCAAoC;QACpC,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;QACjD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC;QAChE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,MAAM,CAAC;QAElE,IAAI,OAAO,GAAU,qBAAW,CAAC,QAAQ,CAAC,UAAU,CAAC,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,CAAC;QAChG,IAAI,QAAQ,GAAmB,qBAAW,CAAC,QAAQ,CAAC,sBAAsB,CAAC,OAAO,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;QAE9F,IAAI,EAAE,GAAU,QAAQ,CAAC,MAAM,CAAC;QAEhC,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC;QAEhB,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,MAAI,EAAI,CAAC,CAAC,CAAC,KAAG,EAAI,CAAC;QACxD,IAAG,EAAE,GAAG,CAAC,EACT;YACI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC;SAC/C;QAED,IAAI,SAAS,GAAU,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC;QAEvD,IAAI,EAAE,GAAU,CAAC,CAAC;QAElB,IAAG,SAAS,GAAG,CAAC,EAChB;YACI,QAAQ;SACX;aACD;YACI,EAAE,GAAG,SAAS,GAAG,CAAC,CAAC;SACtB;QAED,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,KAAG,SAAW,CAAA;QACpC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,MAAI,EAAI,CAAC;QAEpC,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC;QAEhB,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,MAAI,IAAI,CAAC,IAAM,CAAC,CAAC,CAAC,KAAG,IAAI,CAAC,IAAM,CAAC;QAG9E,4CAA4C;QAC5C,gDAAgD;QAGhD,IAAG,IAAI,CAAC,IAAI,GAAG,CAAC,EAChB;YACI,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC;YAE7C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YAEnC,sBAAY,CAAC,QAAQ,CAAC,aAAa,CAAC,yBAAa,CAAC,IAAI,CAAC,CAAC;SAE3D;aACD;YACI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YAElC,sBAAY,CAAC,QAAQ,CAAC,aAAa,CAAC,yBAAa,CAAC,OAAO,CAAC,CAAC;SAC9D;QAED,qBAAW,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC;QAEtC,IAAI,OAAO,GAAG,qBAAW,CAAC,QAAQ,CAAC,UAAU,CAAC,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,CAAC;QACzF,IAAI,YAAY,GAAG,qBAAW,CAAC,QAAQ,CAAC,gBAAgB,CAAC;QAEzD,IAAG,OAAO,IAAI,YAAY,CAAC,MAAM,EACjC;YACI,IAAI,CAAC,aAAa,CAAC,MAAM,GAAI,EAAE,GAAG,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC;YAC5E,IAAI,CAAC,aAAa,CAAC,QAAQ,GAAG,CAAC,CAAC;SAEnC;aACD;YACI,IAAI,CAAC,aAAa,CAAC,MAAM,GAAI,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,IAAI,GAAG,GAAG,GAAG,YAAY,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC;YAC3G,IAAI,CAAC,aAAa,CAAC,QAAQ,GAAG,qBAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,IAAI,GAAG,YAAY,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC;SACzG;QAED,IAAI,CAAC,SAAS,CAAC,gBAAgB,EAAE,CAAC;IAGtC,CAAC;IAEM,wBAAI,GAAX;QAEI,iBAAM,IAAI,WAAE,CAAC;QACb,IAAI,CAAC,IAAI,EAAE,CAAC;QAEZ,eAAK,CAAC,QAAQ,CAAC,gBAAgB,CAAC,yBAAyB,CAAC,CAAC;QAE3D,uDAAuD;IAC3D,CAAC;IAEM,yBAAK,GAAZ;QAEI,iBAAM,KAAK,WAAE,CAAC;QACd,eAAK,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;IAClC,CAAC;IA5UD;QADC,QAAQ,CAAC,mBAAS,CAAC;gDACQ;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;oDACY;IAGrC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;oDACY;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;mDACW;IAG9B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;mDACW;IAG9B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;oDACY;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;kDACU;IAG7B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;8CACM;IAGzB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;kDACU;IAG7B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;+CACO;IAG3B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;kDACU;IAG9B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;gDACQ;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;gDACQ;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;iDACS;IAG7B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;gDACQ;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;8CACM;IAG1B;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;6CACK;IAnDb,SAAS;QAD7B,OAAO;OACa,SAAS,CAuV7B;IAAD,gBAAC;CAvVD,AAuVC,CAvVsC,gBAAM,GAuV5C;kBAvVoB,SAAS","file":"","sourceRoot":"/","sourcesContent":["import DuanWei from \"./DuanWei\";\r\nimport BaseUI from \"../base/BaseUI\";\r\nimport GameScene from \"../../gamescene/GameScene\";\r\nimport GameManager from \"../../core/GameManager\";\r\nimport Player, { PlayerStatus } from \"../../gamescene/Player\";\r\nimport DataManager from \"../../core/DataManager\";\r\nimport WXSdk from \"../../wx/WXSdk\";\r\nimport UIManager from \"../UIManager\";\r\nimport AccountRankData from \"../../configdata/AccountRankData\";\r\nimport LevelIcon from \"./LevelIcon\";\r\nimport MainUI from \"./MainUI\";\r\nimport Mathf from \"../../util/Mathf\";\r\nimport SoundManager from \"../../core/SoundManager\";\r\nimport { SoundClipType } from \"../../audio/SoundClip\";\r\n\r\n// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class AccountUI extends BaseUI {\r\n\r\n    @property(LevelIcon)\r\n    levelIcon: LevelIcon = null;\r\n\r\n    @property(cc.ProgressBar)\r\n    levelProgress: cc.ProgressBar = null;\r\n\r\n    @property(cc.Label)\r\n    levelvalueTxt: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    rankValueTxt: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    killValueTxt: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    totalValueTxt: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    winStarTxt1: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    killTxt: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    winStarTxt2: cc.Label = null;\r\n\r\n    @property(cc.Button)\r\n    turnBack: cc.Button = null;\r\n\r\n    @property(cc.Button)\r\n    lookRankBtn: cc.Button = null;\r\n\r\n    @property(cc.Button)\r\n    huoquBtn1: cc.Button = null;\r\n\r\n    @property(cc.Button)\r\n    huoquBtn2: cc.Button = null;\r\n\r\n    @property(cc.Button)\r\n    recoverBtn: cc.Button = null;\r\n\r\n    @property(cc.Button)\r\n    replayBtn: cc.Button = null;\r\n\r\n    @property(cc.Sprite)\r\n    rankImg: cc.Sprite = null;\r\n\r\n    @property(cc.SpriteFrame)\r\n    numArr: cc.SpriteFrame[] = [];\r\n\r\n\r\n    private gameScene:GameScene = null;\r\n\r\n    private star:number = 0;\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    /*public onLoad () {\r\n        //this.basePos = this.node.position;\r\n    }*/\r\n\r\n    private isInit:boolean;\r\n    \r\n\r\n    start () {\r\n\r\n        this.gameScene = GameManager.instance.gameScene.getComponent(GameScene);\r\n        \r\n\r\n        this.turnBack.node.on(cc.Node.EventType.TOUCH_END,(event)=>{\r\n\r\n            var lastStar = DataManager.instance.getPlayerData().star;\r\n            var lastLevelId = DataManager.instance.getLevelId(DataManager.instance.getPlayerData().star);\r\n\r\n            DataManager.instance.getPlayerData().addStar(this.star);\r\n            DataManager.instance.savePlayerData();\r\n\r\n            WXSdk.instance.setUserRankStorage(\"star\",DataManager.instance.getPlayerData().star);\r\n\r\n            var levelId = DataManager.instance.getLevelId(DataManager.instance.getPlayerData().star);\r\n\r\n            if(levelId > lastLevelId)\r\n            {\r\n                this.close();\r\n                UIManager.instance.upgradeUI.open();\r\n                UIManager.instance.upgradeUI.showUpgrade(levelId,true);\r\n                UIManager.instance.upgradeUI.onExit = ()=>{\r\n                    cc.director.loadScene(cc.director.getScene().name);\r\n                };\r\n            }else if(levelId < lastLevelId)\r\n            {\r\n                this.close();\r\n                UIManager.instance.upgradeUI.open();\r\n                UIManager.instance.upgradeUI.showUpgrade(levelId,false);\r\n                UIManager.instance.upgradeUI.onExit = ()=>{\r\n                    cc.director.loadScene(cc.director.getScene().name);\r\n                };\r\n\r\n                UIManager.instance.upgradeUI.onRecover = ()=>{\r\n\r\n                    DataManager.instance.getPlayerData().star = lastStar;\r\n                    DataManager.instance.savePlayerData();\r\n                    cc.director.loadScene(cc.director.getScene().name);\r\n                };\r\n            }else\r\n            {\r\n                cc.director.loadScene(cc.director.getScene().name);\r\n            }\r\n            \r\n        });\r\n\r\n        this.huoquBtn2.node.on(cc.Node.EventType.TOUCH_END,(event)=>{\r\n\r\n\r\n            WXSdk.instance.showVideo(\"adunit-82c0e31583967848\",(closeState:number)=>{\r\n\r\n                if(closeState == 0)\r\n                {\r\n                    return;\r\n                }\r\n\r\n                var lastStar = DataManager.instance.getPlayerData().star;\r\n                var lastLevelId = DataManager.instance.getLevelId(DataManager.instance.getPlayerData().star);\r\n    \r\n                DataManager.instance.getPlayerData().addStar(this.star * 3);;\r\n                DataManager.instance.savePlayerData();\r\n    \r\n                WXSdk.instance.setUserRankStorage(\"star\",DataManager.instance.getPlayerData().star);\r\n    \r\n                var levelId = DataManager.instance.getLevelId(DataManager.instance.getPlayerData().star);\r\n    \r\n    \r\n                if(levelId > lastLevelId)\r\n                {\r\n                    this.close();\r\n                    UIManager.instance.upgradeUI.open();\r\n                    UIManager.instance.upgradeUI.showUpgrade(levelId,true);\r\n                    UIManager.instance.upgradeUI.onExit = ()=>{\r\n                        cc.director.loadScene(cc.director.getScene().name);\r\n                    };\r\n                }else if(levelId < lastLevelId)\r\n                {\r\n                    this.close();\r\n                    UIManager.instance.upgradeUI.open();\r\n                    UIManager.instance.upgradeUI.showUpgrade(levelId,false);\r\n                    UIManager.instance.upgradeUI.onExit = ()=>{\r\n                        cc.director.loadScene(cc.director.getScene().name);\r\n                    };\r\n    \r\n                    UIManager.instance.upgradeUI.onRecover = ()=>{\r\n    \r\n                        DataManager.instance.getPlayerData().star = lastStar;\r\n                        DataManager.instance.savePlayerData();\r\n                        cc.director.loadScene(cc.director.getScene().name);\r\n                    };\r\n    \r\n                }else\r\n                {\r\n                    cc.director.loadScene(cc.director.getScene().name);\r\n                }\r\n\r\n            });\r\n\r\n        });\r\n\r\n        this.recoverBtn.node.on(cc.Node.EventType.TOUCH_END,(event)=>{\r\n\r\n            WXSdk.instance.showVideo(\"adunit-58c67892748cf639\",(closeState:number)=>{\r\n\r\n                if(closeState == 0)\r\n                {\r\n                    return;\r\n                }\r\n\r\n                cc.director.loadScene(cc.director.getScene().name);\r\n\r\n            });\r\n\r\n        });\r\n\r\n        this.lookRankBtn.node.on(cc.Node.EventType.TOUCH_END,(event)=>\r\n        {\r\n            UIManager.instance.wxOpenDataUI.openRankUI();\r\n            \r\n        },this);\r\n\r\n        this.replayBtn.node.on(cc.Node.EventType.TOUCH_END,(event)=>{\r\n\r\n            DataManager.instance.getPlayerData().addStar(this.star);\r\n            DataManager.instance.savePlayerData();\r\n\r\n            WXSdk.instance.setUserRankStorage(\"star\",DataManager.instance.getPlayerData().star);\r\n\r\n            MainUI.startRightAway = true;\r\n            cc.director.loadScene(cc.director.getScene().name);\r\n        });\r\n\r\n\r\n    }\r\n\r\n    public init()\r\n    {\r\n        this.gameScene = GameManager.instance.gameScene.getComponent(GameScene);\r\n\r\n        if(this.gameScene.player.status == PlayerStatus.die)\r\n        {\r\n            DataManager.instance.getPlayerData().continueStraking = 0;\r\n\r\n        }else\r\n        {\r\n\r\n            if(this.gameScene.player.rank == 1)\r\n            {\r\n                DataManager.instance.getPlayerData().num1 +=1;\r\n\r\n                //cc.log(\"用时\",this.gameScene.clock.currentCount - 1);\r\n\r\n                if(this.gameScene.clock.currentCount - 1 > DataManager.instance.getPlayerData().timelimitnum1)\r\n                {\r\n                    DataManager.instance.getPlayerData().timelimitnum1 = this.gameScene.clock.currentCount - 1;\r\n                }\r\n\r\n            }\r\n\r\n            DataManager.instance.getPlayerData().continueStraking ++;\r\n\r\n            if(DataManager.instance.getPlayerData().continueStraking > DataManager.instance.getPlayerData().straking)\r\n            {\r\n                DataManager.instance.getPlayerData().straking = DataManager.instance.getPlayerData().continueStraking;\r\n            }\r\n        }\r\n\r\n        \r\n        this.star = 0;\r\n\r\n        var rank:number = Mathf.clamp(this.gameScene.player.rank,1,8);\r\n\r\n\r\n        //this.rankTxt.string = `第${rank}名`;\r\n        this.rankImg.spriteFrame = this.numArr[rank - 1];\r\n        this.rankImg.node.width = this.numArr[rank - 1].getRect().width;\r\n        this.rankImg.node.height = this.numArr[rank - 1].getRect().height;\r\n\r\n        var levelId:number = DataManager.instance.getLevelId(DataManager.instance.getPlayerData().star);\r\n        var rankData:AccountRankData = DataManager.instance.accountRankCnfDatasDic[levelId][rank - 1];\r\n\r\n        var rw:number = rankData.reward;\r\n\r\n        this.star += rw;\r\n\r\n        this.rankValueTxt.string = rw >= 0 ? `+${rw}` : `${rw}`;\r\n        if(rw < 0)\r\n        {\r\n            this.rankValueTxt.node.color = cc.Color.RED;\r\n        }\r\n\r\n        var killCount:number = this.gameScene.player.killCount;\r\n\r\n        var kr:number = 0;\r\n\r\n        if(killCount < 2)\r\n        {\r\n            //------\r\n        }else\r\n        {\r\n            kr = killCount - 1;\r\n        }\r\n\r\n        this.killTxt.string = `${killCount}`\r\n        this.killValueTxt.string = `+${kr}`;\r\n\r\n        this.star += kr;\r\n\r\n        this.totalValueTxt.string = this.star >= 0 ? `+${this.star}` : `${this.star}`;\r\n\r\n\r\n        //this.winStarTxt1.string = `+${this.star}`;\r\n        //this.winStarTxt2.string = `+${this.star * 3}`;\r\n\r\n        \r\n        if(this.star < 0)\r\n        {\r\n            this.totalValueTxt.node.color = cc.Color.RED;\r\n\r\n            this.recoverBtn.node.active = true;\r\n            this.huoquBtn2.node.active = false;\r\n\r\n            SoundManager.instance.playAudioClip(SoundClipType.fail);\r\n\r\n        }else\r\n        {\r\n            this.recoverBtn.node.active = false;\r\n            this.huoquBtn2.node.active = true;\r\n\r\n            SoundManager.instance.playAudioClip(SoundClipType.victory);\r\n        }\r\n\r\n        DataManager.instance.savePlayerData();\r\n\r\n        var levelId = DataManager.instance.getLevelId(DataManager.instance.getPlayerData().star);\r\n        var leveCnfdatas = DataManager.instance.levelConfigDatas;\r\n\r\n        if(levelId == leveCnfdatas.length)\r\n        {\r\n            this.levelvalueTxt.string =  \"\" + DataManager.instance.getPlayerData().star;\r\n            this.levelProgress.progress = 1;\r\n\r\n        }else\r\n        {\r\n            this.levelvalueTxt.string =  DataManager.instance.getPlayerData().star + \"/\" + leveCnfdatas[levelId].stars;\r\n            this.levelProgress.progress = DataManager.instance.getPlayerData().star / leveCnfdatas[levelId].stars;\r\n        }\r\n\r\n        this.levelIcon.updatePlayerSkin();\r\n        \r\n\r\n    }\r\n\r\n    public open()\r\n    {\r\n        super.open();\r\n        this.init();\r\n\r\n        WXSdk.instance.showBottomBanner(\"adunit-d39672ca59cf15a2\");\r\n\r\n        //cc.log(\"account open\",this.node.position.toString());\r\n    }\r\n\r\n    public close()\r\n    {\r\n        super.close();\r\n        WXSdk.instance.removeBanner();\r\n    }\r\n\r\n\r\n     /*update (dt) {\r\n\r\n       \r\n     \r\n     }*/\r\n}\r\n"]}