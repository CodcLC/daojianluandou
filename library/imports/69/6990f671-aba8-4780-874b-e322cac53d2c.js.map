{"version":3,"sources":["assets\\script\\tscript\\ui\\message\\MessageUI.ts"],"names":[],"mappings":";;;;;AAAA,yCAAoC;AAEpC,mDAAsD;AACtD,wDAAmD;AAEnD,oBAAoB;AACpB,kFAAkF;AAClF,yFAAyF;AACzF,mBAAmB;AACnB,4FAA4F;AAC5F,mGAAmG;AACnG,8BAA8B;AAC9B,4FAA4F;AAC5F,mGAAmG;AAE7F,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAG1C;IAAuC,6BAAM;IAD7C;QAAA,qEAyEC;QArEG,mBAAa,GAAa,IAAI,CAAC;QAG/B,eAAS,GAAa,IAAI,CAAC;QAG3B,WAAK,GAAc,IAAI,CAAC;QAGxB,cAAQ,GAAqB,EAAE,CAAC;QAIhC,QAAE,GAAc,IAAI,CAAC;QAGrB,gBAAU,GAAY,IAAI,CAAC;QAE3B,wBAAwB;QAExB,kFAAkF;QAC1E,oBAAc,GAAmB;YACrC,yBAAa,CAAC,KAAK;YACnB,yBAAa,CAAC,KAAK;YACnB,yBAAa,CAAC,KAAK;YACnB,yBAAa,CAAC,KAAK;YACnB,yBAAa,CAAC,KAAK;YACnB,yBAAa,CAAC,KAAK;YACnB,yBAAa,CAAC,KAAK;SACtB,CAAA;;IAwCL,CAAC;IAtCG,cAAc;IAEd,yBAAK,GAAL;QACI,4CAA4C;IAChD,CAAC;IAED,iBAAiB;IAEV,+BAAW,GAAlB,UAAmB,MAAa,EAAC,MAAa;QAA9C,iBA4BC;QA1BG,IAAG,MAAM,CAAC,IAAI;YACd,OAAO;QACP,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAE9B,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;QAC7C,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;QAEzC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;QAE5C,IAAG,CAAC,MAAM,CAAC,IAAI,EACf;YACI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;YAE9B,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;YAE7D,sBAAY,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC;SAClF;aACD;YACI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;SAClC;QAED,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,IAAI,CAAC,YAAY,CAAC;YAEd,KAAI,CAAC,KAAK,EAAE,CAAC;QACjB,CAAC,EAAC,CAAC,CAAC,CAAC;IACT,CAAC;IAnED;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;oDACY;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;gDACQ;IAG3B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;4CACI;IAGxB;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;+CACO;IAIhC;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;yCACC;IAGrB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;iDACS;IAnBV,SAAS;QAD7B,OAAO;OACa,SAAS,CAwE7B;IAAD,gBAAC;CAxED,AAwEC,CAxEsC,gBAAM,GAwE5C;kBAxEoB,SAAS","file":"","sourceRoot":"/","sourcesContent":["import BaseUI from \"../base/BaseUI\";\r\nimport Player from \"../../gamescene/Player\";\r\nimport { SoundClipType } from \"../../audio/SoundClip\";\r\nimport SoundManager from \"../../core/SoundManager\";\r\n\r\n// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class MessageUI extends BaseUI {\r\n\r\n    @property(cc.Label)\r\n    killerNameTxt: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    dieManTxt: cc.Label = null;\r\n\r\n    @property(cc.Sprite)\r\n    jisha: cc.Sprite = null;\r\n\r\n    @property(cc.SpriteFrame)\r\n    jishaArr: cc.SpriteFrame[] = [];\r\n    \r\n\r\n    @property(cc.Sprite)\r\n    bg: cc.Sprite = null;\r\n\r\n    @property(cc.Node)\r\n    killAcount: cc.Node = null;\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    //private killMsgArr:string[] = [\"\",\"双杀\",\"三杀\",\"四杀\",\"五杀\",\"六杀\",\"七杀\",\"八杀\",\"九杀\",\"十杀\"];\r\n    private soundClipTypes:SoundClipType[] = [\r\n        SoundClipType.kill1,\r\n        SoundClipType.kill1,\r\n        SoundClipType.kill1,\r\n        SoundClipType.kill1,\r\n        SoundClipType.kill5,\r\n        SoundClipType.kill6,\r\n        SoundClipType.kill7\r\n    ]\r\n\r\n    //onLoad () {}\r\n\r\n    start () {\r\n        //var renderTexture = new cc.RenderTexture()\r\n    }\r\n\r\n    // update (dt) {}\r\n\r\n    public showMessage(killer:Player,dieMan:Player)\r\n    {\r\n        if(killer.isAI)\r\n        return;\r\n        this.unscheduleAllCallbacks();\r\n\r\n        this.killerNameTxt.string = killer.getName();\r\n        this.dieManTxt.string = dieMan.getName();\r\n\r\n        this.bg.node.color = killer.body.node.color;\r\n\r\n        if(!killer.isAI)\r\n        {\r\n            this.killAcount.active = true;\r\n\r\n            this.jisha.spriteFrame = this.jishaArr[killer.killCount - 1];\r\n\r\n            SoundManager.instance.playAudioClip(this.soundClipTypes[killer.killCount - 1]);\r\n        }else\r\n        {\r\n            this.killAcount.active = false;\r\n        }\r\n\r\n        this.open();\r\n        this.scheduleOnce(()=>\r\n        {\r\n            this.close();\r\n        },1);\r\n    }\r\n\r\n}\r\n"]}