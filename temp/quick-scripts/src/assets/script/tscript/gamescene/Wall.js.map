{"version":3,"sources":["assets\\script\\tscript\\gamescene\\Wall.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import GameManager, { GameStatus } from \"../core/GameManager\";\r\nimport GameScene from \"./GameScene\";\r\nimport Vector2 from \"../util/Vector2\";\r\nimport DataManager from \"../core/DataManager\";\r\n\r\n// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Wall extends cc.Component {\r\n\r\n    @property(cc.Node)\r\n    left: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    right: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    top: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    down: cc.Node = null;\r\n\r\n    @property(cc.Animation)\r\n    promptMsgTxt:cc.Animation = null;\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n\r\n    private dis:number = 1000;\r\n\r\n    private speed:number = 30;\r\n\r\n    public shrinkTime:number = 0;\r\n\r\n    private isShrink:boolean = false;\r\n\r\n\r\n    private gameScene:GameScene;\r\n\r\n    start () {\r\n\r\n        //this.left.runAction(cc.moveTo(1.2,-800,0));\r\n        this.gameScene = GameManager.instance.gameScene.getComponent(GameScene);\r\n        this.promptMsgTxt.node.active = false;\r\n    }\r\n\r\n\r\n    private zoom:cc.Vec2 = cc.v2(0.5,0);\r\n    \r\n     update (dt) \r\n     {\r\n        //return;\r\n        if(this.shrinkTime > 0)\r\n        {\r\n            this.shrinkTime -= dt;\r\n\r\n            this.isShrink = true;\r\n\r\n            if(this.left.x < -(this.dis + this.left.width / 2))\r\n            {\r\n                this.left.x += this.speed * dt;\r\n                this.gameScene.sceneSize.width -= 2 * this.speed * dt;\r\n            }\r\n\r\n            if(this.right.x > (this.dis + this.right.width / 2))\r\n            {\r\n                this.right.x -= this.speed * dt;\r\n            }\r\n\r\n            if(this.top.y > (this.dis + this.top.height / 2))\r\n            {\r\n                this.top.y -= this.speed * dt;\r\n                this.gameScene.sceneSize.height -= 2 * this.speed * dt;\r\n            }\r\n\r\n            if(this.down.y < -(this.dis + this.down.height / 2))\r\n            {\r\n                this.down.y += this.speed * dt;\r\n            }\r\n\r\n            \r\n            \r\n\r\n        }else\r\n        {\r\n            if(this.isShrink)\r\n            {\r\n                this.isShrink = false;\r\n\r\n                this.left.getComponent(cc.Animation).stop(\"splash\");\r\n                this.right.getComponent(cc.Animation).stop(\"splash\");\r\n                this.top.getComponent(cc.Animation).stop(\"splash\");\r\n                this.down.getComponent(cc.Animation).stop(\"splash\");\r\n                this.left.getComponent(cc.Animation).setCurrentTime(0,\"splash\");\r\n                this.right.getComponent(cc.Animation).setCurrentTime(0,\"splash\");\r\n                this.top.getComponent(cc.Animation).setCurrentTime(0,\"splash\");\r\n                this.down.getComponent(cc.Animation).setCurrentTime(0,\"splash\");\r\n\r\n            }\r\n        }\r\n     }\r\n\r\n     public shrink()\r\n     {\r\n        this.node.stopAllActions();\r\n\r\n        this.promptMsgTxt.node.active = true;\r\n        this.promptMsgTxt.play();\r\n\r\n\r\n        this.scheduleOnce(()=>{\r\n\r\n            this.shrinkTime = 15;\r\n\r\n            this.left.getComponent(cc.Animation).play(\"splash\");\r\n            this.right.getComponent(cc.Animation).play(\"splash\");\r\n            this.top.getComponent(cc.Animation).play(\"splash\");\r\n            this.down.getComponent(cc.Animation).play(\"splash\");\r\n\r\n        },10);\r\n\r\n     }\r\n\r\n}\r\n"]}