{"version":3,"sources":["assets\\script\\tscript\\wx\\WXRank.ts"],"names":[],"mappings":";;;;AAAA,oBAAoB;AACpB,kFAAkF;AAClF,yFAAyF;AACzF,mBAAmB;AACnB,4FAA4F;AAC5F,mGAAmG;AACnG,8BAA8B;AAC9B,4FAA4F;AAC5F,mGAAmG;;AAE7F,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAG1C;IAAoC,0BAAY;IADhD;QAAA,uEA4DC;QAxDG,aAAK,GAAa,IAAI,CAAC;QAGvB,YAAI,GAAW,OAAO,CAAC;QAcX,iBAAS,GAAU,CAAC,CAAC;QAErB,gBAAQ,GAAU,CAAC,CAAC;;IAqCpC,CAAC;IAnDG,wBAAwB;IAExB,eAAe;IAEf,sBAAK,GAAL;IAEA,CAAC;IAUG,+BAAc,GAAd;QACI,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,GAAC,IAAI,CAAA;QAChC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,QAAQ,GAAG;YACX,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,EAAE,GAAC,IAAI,CAAC;YAC9B,IAAG,OAAO,GAAG,KAAK,CAAC,SAAS,IAAI,CAAC,EAAC;gBAC9B,IAAG,KAAK,CAAC,QAAQ,IAAI,CAAC;oBAClB,KAAK,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC;;oBAEjC,KAAK,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;gBAEjC,KAAK,CAAC,QAAQ,EAAE,CAAC;aACpB;iBAAI;gBACD,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;gBAC9B,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC;aACtB;QACL,CAAC,CAAA;QACD,MAAM,CAAC,IAAI,CAAC,CAAC,eAAe,CAAC,EAAC,KAAK,EAAC,mBAAmB,EAAC,QAAQ,EAAC,kEAAkE,EAAC,KAAK,EAAC,EAAE,EAAC,CAAC,CAAA;QAC9I,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAC,GAAG,CAAC,CAAC;IACpC,CAAC;IACD,MAAM;IACN,0BAAS,GAAT,UAAU,GAAG;QACT;;;;;;;;;wCASgC;IACpC,CAAC;IAtDL;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;yCACI;IAGvB;QADC,QAAQ;wCACc;IANN,MAAM;QAD1B,OAAO;OACa,MAAM,CA2D1B;IAAD,aAAC;CA3DD,AA2DC,CA3DmC,EAAE,CAAC,SAAS,GA2D/C;kBA3DoB,MAAM","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class WXRank extends cc.Component {\r\n\r\n    @property(cc.Label)\r\n    label: cc.Label = null;\r\n\r\n    @property\r\n    text: string = 'hello';\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n\r\n    start () {\r\n\r\n    }\r\n\r\n   \r\n\r\n\r\n\r\n        private shareTime:number = 0;\r\n\r\n        private shareCnt:number = 0;\r\n\r\n        onBtnShareTest(){\r\n            let date = new Date();\r\n            this.shareTime = Date.now()/1000\r\n            let _this = this;\r\n            let callfunc = function(){\r\n                let curTime = Date.now()/1000;\r\n                if(curTime - _this.shareTime <= 3){\r\n                    if(_this.shareCnt >= 1)\r\n                        _this.onShowTip(\"短时间内,不要分享同一个群\");\r\n                    else\r\n                        _this.onShowTip(\"请换个群试试哦~~\");\r\n                    \r\n                    _this.shareCnt++;\r\n                }else{\r\n                    _this.onShowTip(\"恭喜,获得xxx奖励\");\r\n                    _this.shareCnt = 0;\r\n                }\r\n            }\r\n            window[\"wx\"].shareAppMessage({title:\"世界唯一被猪统治的岛，被遗忘却幸福\",imageUrl:\"https://pigwander-1258819150.file.myqcloud.com/share/share_2.png\",query:\"\"})\r\n            this.scheduleOnce(callfunc,0.1);\r\n        }\r\n        //系统提示\r\n        onShowTip(msg){\r\n            /*this.sysMessage.active = true;\r\n            this.sysMessage.width = String(msg).length * 40\r\n            let labMsg = this.sysMessage.getChildByName(\"lab_msg\")\r\n            labMsg.getComponent(cc.Label).string = msg\r\n            let _this = this;\r\n            let callfunc = function(){\r\n    \r\n                _this.sysMessage.active = false;\r\n            }\r\n            this.scheduleOnce(callfunc,1);*/\r\n        }\r\n\r\n}\r\n"]}