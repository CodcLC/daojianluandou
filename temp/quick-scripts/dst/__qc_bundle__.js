
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/__qc_index__.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}
require('./assets/migration/use_v2.1-2.2.1_cc.Toggle_event');
require('./assets/script/TestPhysics');
require('./assets/script/tscript/Launch');
require('./assets/script/tscript/Main');
require('./assets/script/tscript/Test');
require('./assets/script/tscript/audio/BgSoundClip');
require('./assets/script/tscript/audio/SoundClip');
require('./assets/script/tscript/config/Config');
require('./assets/script/tscript/configdata/AccountRankData');
require('./assets/script/tscript/configdata/KnifeConfigData');
require('./assets/script/tscript/configdata/LevelConfigData');
require('./assets/script/tscript/configdata/NameConfigData');
require('./assets/script/tscript/core/DataManager');
require('./assets/script/tscript/core/DataStorage');
require('./assets/script/tscript/core/GameManager');
require('./assets/script/tscript/core/ResourcesManager');
require('./assets/script/tscript/core/ResourcesPool');
require('./assets/script/tscript/core/SoundManager');
require('./assets/script/tscript/data/LevelData');
require('./assets/script/tscript/data/PlayerData');
require('./assets/script/tscript/event/CustomEventType');
require('./assets/script/tscript/gamescene/Barrier');
require('./assets/script/tscript/gamescene/BlackHole');
require('./assets/script/tscript/gamescene/Body');
require('./assets/script/tscript/gamescene/CameraFollow');
require('./assets/script/tscript/gamescene/GameScene');
require('./assets/script/tscript/gamescene/Guide');
require('./assets/script/tscript/gamescene/Joystick');
require('./assets/script/tscript/gamescene/Knife');
require('./assets/script/tscript/gamescene/KnifePool');
require('./assets/script/tscript/gamescene/Mark');
require('./assets/script/tscript/gamescene/Player');
require('./assets/script/tscript/gamescene/PlayerAI');
require('./assets/script/tscript/gamescene/PlayerController');
require('./assets/script/tscript/gamescene/Wall');
require('./assets/script/tscript/item/Item');
require('./assets/script/tscript/ui/UIManager');
require('./assets/script/tscript/ui/base/BaseUI');
require('./assets/script/tscript/ui/base/CustomButton');
require('./assets/script/tscript/ui/base/SelectView');
require('./assets/script/tscript/ui/base/TabButton');
require('./assets/script/tscript/ui/base/TabSelectView');
require('./assets/script/tscript/ui/base/View');
require('./assets/script/tscript/ui/common/PopupMsg');
require('./assets/script/tscript/ui/common/PopupText');
require('./assets/script/tscript/ui/main/AccountUI');
require('./assets/script/tscript/ui/main/DuanWei');
require('./assets/script/tscript/ui/main/LevelIcon');
require('./assets/script/tscript/ui/main/LevelMessageUI');
require('./assets/script/tscript/ui/main/MainUI');
require('./assets/script/tscript/ui/main/MatchingUI');
require('./assets/script/tscript/ui/main/NavigateOtherGameIcon');
require('./assets/script/tscript/ui/main/TryOutUI');
require('./assets/script/tscript/ui/main/UpgradeUI');
require('./assets/script/tscript/ui/main/WXOpenDataUI');
require('./assets/script/tscript/ui/message/MessageUI');
require('./assets/script/tscript/ui/rank/RankItem');
require('./assets/script/tscript/ui/rank/RankUI');
require('./assets/script/tscript/ui/result/FailPanel');
require('./assets/script/tscript/ui/result/SuccessPanel');
require('./assets/script/tscript/ui/selector/SelectItem');
require('./assets/script/tscript/util/AnimationController');
require('./assets/script/tscript/util/Clock');
require('./assets/script/tscript/util/CommonUils');
require('./assets/script/tscript/util/Mathf');
require('./assets/script/tscript/util/MovieClip');
require('./assets/script/tscript/util/Quake');
require('./assets/script/tscript/util/Random');
require('./assets/script/tscript/util/SplashScreen');
require('./assets/script/tscript/util/Vector2');
require('./assets/script/tscript/wx/SystemTools');
require('./assets/script/tscript/wx/WXRank');
require('./assets/script/tscript/wx/WXSdk');

                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/gamescene/GameScene.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd4e1bWErCJGeY9M0ENtxngp', 'GameScene');
// script/tscript/gamescene/GameScene.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Player_1 = require("./Player");
var UIManager_1 = require("../ui/UIManager");
;
var GameManager_1 = require("../core/GameManager");
var Knife_1 = require("./Knife");
var Random_1 = require("../util/Random");
var Clock_1 = require("../util/Clock");
var DataManager_1 = require("../core/DataManager");
var WXSdk_1 = require("../wx/WXSdk");
var Wall_1 = require("./Wall");
var Item_1 = require("../item/Item");
var PlayerAI_1 = require("./PlayerAI");
var CameraFollow_1 = require("./CameraFollow");
var SoundManager_1 = require("../core/SoundManager");
var SoundClip_1 = require("../audio/SoundClip");
var BgSoundClip_1 = require("../audio/BgSoundClip");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var GameScene = /** @class */ (function (_super) {
    __extends(GameScene, _super);
    function GameScene() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.sceneSize = null;
        _this.player = null;
        _this.clock = null;
        _this.cdTxt = null;
        _this.wall = null;
        _this.bg = null;
        _this.halfSize = cc.Size.ZERO;
        _this.knifeNum = 25;
        _this.knifeArr = [];
        _this.playerArr = [];
        _this.rank = 8;
        _this.skinIndexArr = [];
        _this.nameIndexArr = [];
        _this.aiPlayerCount = 7;
        _this.aiNameIndexArr = [];
        _this.levelConfigData = null;
        _this.blackHole = null;
        return _this;
    }
    // LIFE-CYCLE CALLBACKS:
    GameScene.prototype.onLoad = function () {
        cc.director.getCollisionManager().enabled = true;
        cc.director.getPhysicsManager().enabled = true;
        //cc.director.getPhysicsManager().debugDrawFlags = 1;
        cc.director.getPhysicsManager().gravity = cc.Vec2.ZERO;
        //this.node
        //this.player = this.getComponentInChildren(Player);
        //this.player.gameScene = this;
        this.halfSize.width = (this.sceneSize.width - cc.winSize.width) / 2;
        this.halfSize.height = (this.sceneSize.height - cc.winSize.height) / 2;
        this.player.initKnife(3); //初始化3把刀
        this.player.showface = DataManager_1.default.instance.getPlayerData().todayUseFace;
    };
    GameScene.prototype.start = function () {
        SoundManager_1.default.instance.PlayBGSound(BgSoundClip_1.BgSoundClipType.main);
        this.clock.node.active = false;
        this.cdTxt.node.active = false;
        this.playerArr.push(this.player);
        this.player.skin = 1;
        if (WXSdk_1.default.instance.isWXPlatform()) {
            if (WXSdk_1.default.instance.isLogin) {
                this.onWxLogin();
            }
            else {
                this.player.setName("");
                cc.systemEvent.on("wxLogin", this.onWxLogin, this);
            }
        }
        else {
            var nn = cc.sys.localStorage.getItem("playname");
            if (nn == "" || nn == null || nn == undefined) {
                nn = "小李飞刀";
                cc.sys.localStorage.setItem("playname", nn);
            }
            this.player.setName(nn);
        }
        for (var i = 0; i < this.aiPlayerCount; i++) {
            this.aiNameIndexArr.push(this.getRandomNameIndex());
        }
    };
    GameScene.prototype.onWxLogin = function () {
        this.player.setName(WXSdk_1.default.instance.nickname);
    };
    GameScene.prototype.startGame = function () {
        var _this = this;
        GameManager_1.default.instance.gameStatus = GameManager_1.GameStatus.start;
        GameManager_1.default.gameTimes++;
        DataManager_1.default.instance.getPlayerData().games++;
        DataManager_1.default.instance.savePlayerData();
        var star = DataManager_1.default.instance.getPlayerData().star;
        var levelId = DataManager_1.default.instance.getLevelId(star);
        this.levelConfigData = DataManager_1.default.instance.levelConfigDatas[levelId - 1];
        //cc.log("levelConfigData",this.levelConfigData);
        var leveCnfdatas = DataManager_1.default.instance.levelConfigDatas;
        if (levelId <= 5) {
            //当玩家还处于第一阶段时 显示导航
            GameManager_1.default.instance.guide.node.active = true;
        }
        else {
            GameManager_1.default.instance.guide.node.active = false;
        }
        this.initBarriers();
        this.initAIPlayer(this.aiPlayerCount);
        this.initKnifes(this.knifeNum);
        this.initMark();
        this.player.onGameStart();
        //var cdTxt:cc.Label = this.clock.getComponent(cc.Label);
        this.clock.node.active = true;
        this.clock.hms = 2;
        this.clock.timeLength = 2 * 60 + 31;
        var timeTxt = this.clock.getComponentInChildren(cc.Label);
        timeTxt.string = "" + this.clock.timeLength;
        this.clock.Play(function (s, m, h, str, t) {
            if (t == 100 || t == 70 || t == 40) {
                _this.wall.shrink();
            }
            if (_this.clock.currentCount % 25 == 0) {
                var otherKfCount = 0;
                if (_this.blackHole) {
                    otherKfCount = Math.ceil(_this.blackHole.knifecount / 2);
                    _this.blackHole.knifecount = 0;
                }
                _this.initKnifes(5 + otherKfCount);
            }
            if (_this.levelConfigData.hotWheels != "") {
                var arr = _this.levelConfigData.hotWheels.split("-");
                if (t % Number(arr[0]) == 0) {
                    _this.initItem(Number(arr[1]), Item_1.ItemType.fhl);
                }
            }
            if (_this.levelConfigData.speedUp != "") {
                var arr = _this.levelConfigData.speedUp.split("-");
                if (t % Number(arr[0]) == 0) {
                    _this.initItem(Number(arr[1]), Item_1.ItemType.rocket);
                }
            }
            if (_this.levelConfigData.magnet != "") {
                var arr = _this.levelConfigData.magnet.split("-");
                if (t % Number(arr[0]) == 0) {
                    _this.initItem(Number(arr[1]), Item_1.ItemType.magnet);
                }
            }
            if (t == 120) {
                if (_this.levelConfigData.blackHole != 0) {
                    var rangeWidth = _this.sceneSize.width / 2 - 350;
                    var rangeHeight = _this.sceneSize.height / 2 - 350;
                    _this.blackHole = GameManager_1.default.instance.getBlackHole();
                    _this.blackHole.node.parent = _this.node;
                    _this.blackHole.node.position = cc.v2(Random_1.default.Range(-rangeWidth, rangeWidth), Random_1.default.Range(-rangeHeight, rangeHeight));
                }
            }
            timeTxt.string = "" + t;
            if (t <= 5) {
                _this.cdTxt.node.active = true;
                _this.cdTxt.string = "" + t;
                SoundManager_1.default.instance.playAudioClip(SoundClip_1.SoundClipType.dida);
            }
            if (t == 0) {
                _this.cdTxt.node.active = false;
            }
        }, function () {
            _this.clock.Stop();
            var arr = [];
            for (var i = 0; i < _this.playerArr.length; i++) {
                if (_this.playerArr[i].status != Player_1.PlayerStatus.die && _this.playerArr[i].rank == 1) {
                    arr.push(_this.playerArr[i]);
                }
            }
            arr.sort(function (player1, player2) {
                if (player1.killCount > player2.killCount) {
                    return -1;
                }
                else if (player1.killCount < player2.killCount) {
                    return 1;
                }
                else {
                    var len1 = player1.knifePool.knifes.length;
                    var len2 = player2.knifePool.knifes.length;
                    if (len1 > len2) {
                        return -1;
                    }
                    if (len1 < len2) {
                        return 1;
                    }
                }
                return 0;
            });
            for (var i = 0; i < arr.length; i++) {
                arr[i].rank = i + 1;
            }
            _this.gameOver();
        });
        UIManager_1.default.instance.rankUI.node.active = true;
    };
    GameScene.prototype.gameOver = function () {
        GameManager_1.default.instance.gameStatus = GameManager_1.GameStatus.over;
        console.log("game over");
        this.scheduleOnce(function () {
            //GameManager.instance.gameStatus = GameStatus.over;
            UIManager_1.default.instance.rankUI.node.active = false;
            UIManager_1.default.instance.accountUI.open();
        }, 1.8);
    };
    GameScene.prototype.initBarriers = function () {
        var rangeWidth = this.sceneSize.width / 2 - 350;
        var rangeHeight = this.sceneSize.height / 2 - 350;
        if (this.levelConfigData.meteor != "") {
            var arr = this.levelConfigData.meteor.split("-");
            var count = Random_1.default.RangeInteger(Number(arr[0]), Number(arr[0]));
            for (var i = 0; i < count; i++) {
                var barrier = GameManager_1.default.instance.getRandomBarrier(0);
                barrier.parent = this.node;
                barrier.position = cc.v2(Random_1.default.Range(-rangeWidth, rangeWidth), Random_1.default.Range(-rangeHeight, rangeHeight));
            }
        }
        if (this.levelConfigData.movMeteor != "") {
            var arr = this.levelConfigData.movMeteor.split("-");
            var count = Random_1.default.RangeInteger(Number(arr[0]), Number(arr[0]));
            for (var i = 0; i < count; i++) {
                var barrier = GameManager_1.default.instance.getRandomBarrier(1);
                barrier.parent = this.node;
                barrier.position = cc.v2(Random_1.default.Range(-rangeWidth, rangeWidth), Random_1.default.Range(-rangeHeight, rangeHeight));
            }
        }
    };
    GameScene.prototype.initItem = function (count, itemType) {
        if (itemType === void 0) { itemType = Item_1.ItemType.none; }
        var width = this.sceneSize.width / 2 - 150;
        var height = this.sceneSize.height / 2 - 150;
        for (var i = 0; i < count; i++) {
            var item = null;
            if (itemType == Item_1.ItemType.none) {
                item = GameManager_1.default.instance.getItemByType(Random_1.default.RangeInteger(1, 4));
            }
            else {
                item = GameManager_1.default.instance.getItemByType(itemType);
            }
            item.node.parent = this.node;
            item.node.position = cc.v2(Random_1.default.Range(-width, width), Random_1.default.Range(-height, height));
        }
    };
    /**
     *
     * @param count 初始化AI玩家
     */
    GameScene.prototype.initAIPlayer = function (count) {
        var aiLvArr = [];
        for (var i = 1; i <= 4; i++) {
            for (var j = 0; j < this.levelConfigData["ailv" + i]; j++) {
                aiLvArr.push(i);
            }
        }
        for (var i = 0; i < count; i++) {
            var player = GameManager_1.default.instance.getPlayer();
            player.node.parent = this.node;
            player.isAI = true;
            player.showface = Random_1.default.Range(0, 10) < 3 ? true : false;
            player.getComponent(PlayerAI_1.default).aiLevel = !aiLvArr[i] ? PlayerAI_1.PlayerAILevel.level1 : aiLvArr[i];
            player.onGameStart();
            player.randomKnifeSkin();
            player.getComponent(PlayerAI_1.default).onGameStart();
            var index = Random_1.default.RangeInteger(0, this.getSkinIndexArr().length);
            var skinIndex = this.getSkinIndexArr()[index];
            this.getSkinIndexArr().splice(index, 1);
            player.skin = skinIndex;
            player.setName(DataManager_1.default.instance.nameConfigDatas[this.aiNameIndexArr[i]].name);
            this.playerArr.push(player);
            var width = this.sceneSize.width / 2 - 150;
            var height = this.sceneSize.height / 2 - 150;
            player.node.position = cc.v2(Random_1.default.Range(-width, width), Random_1.default.Range(-height, height));
        }
    };
    GameScene.prototype.getSkinIndexArr = function () {
        if (this.skinIndexArr.length == 0) {
            for (var i = 1; i <= 8; i++) {
                this.skinIndexArr.push(i);
            }
            var index = this.skinIndexArr.indexOf(this.player.skin);
            if (index != -1) {
                this.skinIndexArr.splice(index, 1);
            }
        }
        return this.skinIndexArr;
    };
    GameScene.prototype.getRandomNameIndex = function () {
        var index = Random_1.default.RangeInteger(0, this.getNameIndexArr().length);
        var nameIndex = this.getNameIndexArr()[index];
        this.getNameIndexArr().splice(index, 1);
        //return DataManager.instance.nameConfigDatas[nameIndex].name;
        return nameIndex;
    };
    GameScene.prototype.getNameIndexArr = function () {
        if (this.nameIndexArr.length == 0) {
            var nameArr = DataManager_1.default.instance.nameConfigDatas;
            var len = 50;
            for (var i = 0; i < len; i++) {
                this.nameIndexArr.push(i);
            }
        }
        return this.nameIndexArr;
    };
    /**
     * 有玩家被击杀时
     * @param killer 击杀人
     * @param dieMan 被击杀对象
     */
    GameScene.prototype.playerKilled = function (killer, dieMan) {
        //cc.log(killer.getName(),"击杀了",dieMan.getName());
        killer.killCount++;
        dieMan.rank = this.rank;
        this.rank--;
        var killEffect = GameManager_1.default.instance.getKillEffect();
        killEffect.node.color = dieMan.body.node.color;
        killEffect.node.parent = this.node;
        killEffect.node.position = dieMan.node.position;
        killer.changeFace(2, 1.5);
        if (killer == this.player) {
            DataManager_1.default.instance.getPlayerData().kills++;
            if (this.player.killCount == 4) {
                DataManager_1.default.instance.getPlayerData().kills4++;
            }
            else if (this.player.killCount == 5) {
                DataManager_1.default.instance.getPlayerData().kills5++;
            }
            else if (this.player.killCount == 6) {
                DataManager_1.default.instance.getPlayerData().kills6++;
            }
            DataManager_1.default.instance.savePlayerData();
        }
        //if(!killer.isAI)
        //{
        UIManager_1.default.instance.messageUI.showMessage(killer, dieMan);
        //}
        if (!dieMan.isAI) {
            WXSdk_1.default.instance.vibrateLong(); //玩家自己死亡，长震动
            CameraFollow_1.default.instance.shake(1);
            this.clock.Stop();
            this.gameOver();
        }
        else {
            if (!killer.isAI) {
                WXSdk_1.default.instance.vibrateShort(); //别的玩家自己死亡
                CameraFollow_1.default.instance.shake(1);
                SoundManager_1.default.instance.playAudioClip(SoundClip_1.SoundClipType.killMam);
            }
            var playerArr = this.getComponentsInChildren(Player_1.default);
            var isEnd = true;
            for (var i = 0; i < playerArr.length; i++) {
                if (!playerArr[i].node.active) {
                    continue;
                }
                if (playerArr[i].isAI && playerArr[i].status != Player_1.PlayerStatus.die) {
                    isEnd = false;
                    break;
                }
            }
            if (isEnd) {
                this.clock.Stop();
                this.gameOver();
            }
        }
    };
    GameScene.prototype.initKnifes = function (count) {
        for (var i = 0; i < count; i++) {
            var knife = GameManager_1.default.instance.getKnife(Knife_1.KnifeType.normal);
            var width = this.sceneSize.width / 2 - 150;
            var height = this.sceneSize.height / 2 - 150;
            knife.node.rotation = Random_1.default.Range(0, 360);
            knife.node.position = cc.v2(Random_1.default.Range(-width, width), Random_1.default.Range(-height, height));
            this.addKnife(knife);
        }
    };
    GameScene.prototype.initMark = function () {
        var playerArr = this.getComponentsInChildren(Player_1.default);
        for (var i = 0; i < playerArr.length; i++) {
            var player = playerArr[i];
            if (player.isAI && player.node.active) {
                var mark = GameManager_1.default.instance.getMark();
                //mark.node.parent = cc.Camera.main.node;
                mark.node.parent = UIManager_1.default.instance.getLayer(UIManager_1.LayerType.back);
                mark.player = this.player;
                mark.targetPlayer = player;
            }
        }
    };
    GameScene.prototype.addKnife = function (knife) {
        if (knife.node.parent) {
            knife.node.parent.removeChild(knife.node);
        }
        this.node.addChild(knife.node, 0);
        if (this.knifeArr.indexOf(knife) == -1) {
            this.knifeArr.push(knife);
        }
        this.node.emit("knifesChange", {});
    };
    GameScene.prototype.removeKnife = function (knife) {
        var index = this.knifeArr.indexOf(knife);
        if (index != -1) {
            this.knifeArr.splice(index, 1);
        }
        this.node.emit("knifesChange", {});
    };
    /*update (dt)
    {
        
    }*/
    GameScene.prototype.onDestroy = function () {
        cc.systemEvent.off("wxLogin", this.onWxLogin, this);
    };
    GameScene.levelMax = 1;
    GameScene.levelMin = 1;
    __decorate([
        property(cc.Node)
    ], GameScene.prototype, "sceneSize", void 0);
    __decorate([
        property(Player_1.default)
    ], GameScene.prototype, "player", void 0);
    __decorate([
        property(Clock_1.default)
    ], GameScene.prototype, "clock", void 0);
    __decorate([
        property(cc.Label)
    ], GameScene.prototype, "cdTxt", void 0);
    __decorate([
        property(Wall_1.default)
    ], GameScene.prototype, "wall", void 0);
    __decorate([
        property(cc.Sprite)
    ], GameScene.prototype, "bg", void 0);
    GameScene = __decorate([
        ccclass
    ], GameScene);
    return GameScene;
}(cc.Component));
exports.default = GameScene;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxnYW1lc2NlbmVcXEdhbWVTY2VuZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbUNBQWdEO0FBRWhELDZDQUFpRTtBQUVULENBQUM7QUFDekQsbURBQThEO0FBQzlELGlDQUEyQztBQUMzQyx5Q0FBb0M7QUFDcEMsdUNBQWtDO0FBQ2xDLG1EQUE4QztBQUM5QyxxQ0FBZ0M7QUFDaEMsK0JBQTBCO0FBRzFCLHFDQUE4QztBQUU5Qyx1Q0FBcUQ7QUFDckQsK0NBQTBDO0FBQzFDLHFEQUFnRDtBQUNoRCxnREFBbUQ7QUFDbkQsb0RBQXVEO0FBRXZELG9CQUFvQjtBQUNwQixrRkFBa0Y7QUFDbEYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5Qiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBRTdGLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFHMUM7SUFBdUMsNkJBQVk7SUFEbkQ7UUFBQSxxRUE0bkJDO1FBcG5CVSxlQUFTLEdBQVksSUFBSSxDQUFDO1FBRzFCLFlBQU0sR0FBVSxJQUFJLENBQUM7UUFHckIsV0FBSyxHQUFTLElBQUksQ0FBQztRQUduQixXQUFLLEdBQVksSUFBSSxDQUFDO1FBR3RCLFVBQUksR0FBUSxJQUFJLENBQUM7UUFHakIsUUFBRSxHQUFhLElBQUksQ0FBQztRQUVuQixjQUFRLEdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7UUFFaEMsY0FBUSxHQUFVLEVBQUUsQ0FBQztRQUV0QixjQUFRLEdBQWdCLEVBQUUsQ0FBQztRQUUzQixlQUFTLEdBQWlCLEVBQUUsQ0FBQztRQUU1QixVQUFJLEdBQVUsQ0FBQyxDQUFDO1FBRWhCLGtCQUFZLEdBQVksRUFBRSxDQUFDO1FBRTNCLGtCQUFZLEdBQVksRUFBRSxDQUFDO1FBRTNCLG1CQUFhLEdBQVUs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Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGxheWVyLCB7IFBsYXllclN0YXR1cyB9IGZyb20gXCIuL1BsYXllclwiO1xyXG5pbXBvcnQgVmVjdG9yMiBmcm9tIFwiLi4vdXRpbC9WZWN0b3IyXCI7XHJcbmltcG9ydCBVSU1hbmFnZXIsIHsgVmlld05hbWUsIExheWVyVHlwZSB9IGZyb20gXCIuLi91aS9VSU1hbmFnZXJcIjtcclxuaW1wb3J0IEN1c3RvbUV2ZW50VHlwZSBmcm9tIFwiLi4vZXZlbnQvQ3VzdG9tRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBSZXNvdXJjZXNNYW5hZ2VyIGZyb20gXCIuLi9jb3JlL1Jlc291cmNlc01hbmFnZXJcIjs7XHJcbmltcG9ydCBHYW1lTWFuYWdlciwgeyBHYW1lU3RhdHVzIH0gZnJvbSBcIi4uL2NvcmUvR2FtZU1hbmFnZXJcIjtcclxuaW1wb3J0IEtuaWZlLCB7IEtuaWZlVHlwZSB9IGZyb20gXCIuL0tuaWZlXCI7XHJcbmltcG9ydCBSYW5kb20gZnJvbSBcIi4uL3V0aWwvUmFuZG9tXCI7XHJcbmltcG9ydCBDbG9jayBmcm9tIFwiLi4vdXRpbC9DbG9ja1wiO1xyXG5pbXBvcnQgRGF0YU1hbmFnZXIgZnJvbSBcIi4uL2NvcmUvRGF0YU1hbmFnZXJcIjtcclxuaW1wb3J0IFdYU2RrIGZyb20gXCIuLi93eC9XWFNka1wiO1xyXG5pbXBvcnQgV2FsbCBmcm9tIFwiLi9XYWxsXCI7XHJcbmltcG9ydCBNb3ZpZUNsaXAgZnJvbSBcIi4uL3V0aWwvTW92aWVDbGlwXCI7XHJcbmltcG9ydCBCbGFja0hvbGUgZnJvbSBcIi4vQmxhY2tIb2xlXCI7XHJcbmltcG9ydCBJdGVtLCB7IEl0ZW1UeXBlIH0gZnJvbSBcIi4uL2l0ZW0vSXRlbVwiO1xyXG5pbXBvcnQgTGV2ZWxDb25maWdEYXRhIGZyb20gXCIuLi9jb25maWdkYXRhL0xldmVsQ29uZmlnRGF0YVwiO1xyXG5pbXBvcnQgUGxheWVyQUksIHsgUGxheWVyQUlMZXZlbCB9IGZyb20gXCIuL1BsYXllckFJXCI7XHJcbmltcG9ydCBDYW1lcmFGb2xsb3cgZnJvbSBcIi4vQ2FtZXJhRm9sbG93XCI7XHJcbmltcG9ydCBTb3VuZE1hbmFnZXIgZnJvbSBcIi4uL2NvcmUvU291bmRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFNvdW5kQ2xpcFR5cGUgfSBmcm9tIFwiLi4vYXVkaW8vU291bmRDbGlwXCI7XHJcbmltcG9ydCB7IEJnU291bmRDbGlwVHlwZSB9IGZyb20gXCIuLi9hdWRpby9CZ1NvdW5kQ2xpcFwiO1xyXG5cclxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVTY2VuZSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBsZXZlbE1heDpudW1iZXIgPSAxO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbGV2ZWxNaW46bnVtYmVyID0gMTtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHB1YmxpYyBzY2VuZVNpemU6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShQbGF5ZXIpXHJcbiAgICBwdWJsaWMgcGxheWVyOlBsYXllciA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KENsb2NrKVxyXG4gICAgcHVibGljIGNsb2NrOkNsb2NrID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBwdWJsaWMgY2RUeHQ6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShXYWxsKVxyXG4gICAgcHVibGljIHdhbGw6V2FsbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIHB1YmxpYyBiZzpjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgaGFsZlNpemU6Y2MuU2l6ZSA9IGNjLlNpemUuWkVSTztcclxuXHJcbiAgICBwcml2YXRlIGtuaWZlTnVtOm51bWJlciA9IDI1O1xyXG5cclxuICAgIHB1YmxpYyBrbmlmZUFycjpBcnJheTxLbmlmZT4gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgcGxheWVyQXJyOkFycmF5PFBsYXllcj4gPSBbXTtcclxuXHJcbiAgICBwcml2YXRlIHJhbms6bnVtYmVyID0gODtcclxuXHJcbiAgICBwcml2YXRlIHNraW5JbmRleEFycjpudW1iZXJbXSA9IFtdO1xyXG5cclxuICAgIHByaXZhdGUgbmFtZUluZGV4QXJyOm51bWJlcltdID0gW107XHJcblxyXG4gICAgcHJpdmF0ZSBhaVBsYXllckNvdW50Om51bWJlciA9IDc7XHJcblxyXG4gICAgcHVibGljIGFpTmFtZUluZGV4QXJyOm51bWJlcltdID0gW107XHJcblxyXG5cclxuICAgIHByaXZhdGUgbGV2ZWxDb25maWdEYXRhOkxldmVsQ29uZmlnRGF0YSA9IG51bGw7XHJcblxyXG4gICAgcHVibGljIGJsYWNrSG9sZTpCbGFja0hvbGUgPSBudWxsO1xyXG5cclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcbiAgICBvbkxvYWQgKCkge1xyXG5cclxuXHJcbiAgICAgICAgY2MuZGlyZWN0b3IuZ2V0Q29sbGlzaW9uTWFuYWdlcigpLmVuYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICBjYy5kaXJlY3Rvci5nZXRQaHlzaWNzTWFuYWdlcigpLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vY2MuZGlyZWN0b3IuZ2V0UGh5c2ljc01hbmFnZXIoKS5kZWJ1Z0RyYXdGbGFncyA9IDE7XHJcbiAgICAgICAgY2MuZGlyZWN0b3IuZ2V0UGh5c2ljc01hbmFnZXIoKS5ncmF2aXR5ID0gY2MuVmVjMi5aRVJPO1xyXG5cclxuICAgICAgICAvL3RoaXMubm9kZVxyXG4gICAgICAgIC8vdGhpcy5wbGF5ZXIgPSB0aGlzLmdldENvbXBvbmVudEluQ2hpbGRyZW4oUGxheWVyKTtcclxuICAgICAgICAvL3RoaXMucGxheWVyLmdhbWVTY2VuZSA9IHRoaXM7XHJcblxyXG4gICAgICAgIHRoaXMuaGFsZlNpemUud2lkdGggPSAodGhpcy5zY2VuZVNpemUud2lkdGggLSBjYy53aW5TaXplLndpZHRoKSAvIDIgO1xyXG4gICAgICAgIHRoaXMuaGFsZlNpemUuaGVpZ2h0ID0gKHRoaXMuc2NlbmVTaXplLmhlaWdodCAtIGNjLndpblNpemUuaGVpZ2h0KSAvIDIgO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllci5pbml0S25pZmUoMyk7IC8v5Yid5aeL5YyWM+aKiuWIgFxyXG4gICAgICAgIHRoaXMucGxheWVyLnNob3dmYWNlID0gRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLnRvZGF5VXNlRmFjZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG5cclxuICAgICAgICBTb3VuZE1hbmFnZXIuaW5zdGFuY2UuUGxheUJHU291bmQoQmdTb3VuZENsaXBUeXBlLm1haW4pO1xyXG5cclxuICAgICAgICB0aGlzLmNsb2NrLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jZFR4dC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucGxheWVyQXJyLnB1c2godGhpcy5wbGF5ZXIpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllci5za2luID0gMTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgaWYoV1hTZGsuaW5zdGFuY2UuaXNXWFBsYXRmb3JtKCkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZihXWFNkay5pbnN0YW5jZS5pc0xvZ2luKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIHRoaXMub25XeExvZ2luKCk7XHJcbiAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnNldE5hbWUoXCJcIik7XHJcbiAgICAgICAgICAgICAgICBjYy5zeXN0ZW1FdmVudC5vbihcInd4TG9naW5cIix0aGlzLm9uV3hMb2dpbix0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuXHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgbm4gPSAgY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicGxheW5hbWVcIik7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiggbm49PSBcIlwiIHx8IG5uPT1udWxsIHx8IG5uPT0gdW5kZWZpbmVkICApXHJcblx0XHRcdHtcclxuXHRcdFx0XHRubiA9IFwi5bCP5p2O6aOe5YiAXCI7XHJcblx0XHRcdFx0Y2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicGxheW5hbWVcIixubik7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNldE5hbWUobm4pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmFpUGxheWVyQ291bnQgOyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmFpTmFtZUluZGV4QXJyLnB1c2godGhpcy5nZXRSYW5kb21OYW1lSW5kZXgoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbld4TG9naW4oKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMucGxheWVyLnNldE5hbWUoV1hTZGsuaW5zdGFuY2Uubmlja25hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGFydEdhbWUoKVxyXG4gICAge1xyXG4gICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLmdhbWVTdGF0dXMgPSBHYW1lU3RhdHVzLnN0YXJ0O1xyXG4gICAgICAgIEdhbWVNYW5hZ2VyLmdhbWVUaW1lcyArKztcclxuXHJcbiAgICAgICAgRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLmdhbWVzKys7XHJcbiAgICAgICAgRGF0YU1hbmFnZXIuaW5zdGFuY2Uuc2F2ZVBsYXllckRhdGEoKTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgdmFyIHN0YXI6bnVtYmVyID0gRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLnN0YXI7XHJcblxyXG4gICAgICAgIHZhciBsZXZlbElkID0gRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0TGV2ZWxJZChzdGFyKTtcclxuXHJcbiAgICAgICAgdGhpcy5sZXZlbENvbmZpZ0RhdGEgPSBEYXRhTWFuYWdlci5pbnN0YW5jZS5sZXZlbENvbmZpZ0RhdGFzW2xldmVsSWQgLSAxXTtcclxuXHJcbiAgICAgICAgLy9jYy5sb2coXCJsZXZlbENvbmZpZ0RhdGFcIix0aGlzLmxldmVsQ29uZmlnRGF0YSk7XHJcblxyXG4gICAgICAgIHZhciBsZXZlQ25mZGF0YXMgPSBEYXRhTWFuYWdlci5pbnN0YW5jZS5sZXZlbENvbmZpZ0RhdGFzO1xyXG5cclxuICAgICAgICBpZihsZXZlbElkIDw9IDUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL+W9k+eOqeWutui/mOWkhOS6juesrOS4gOmYtuauteaXtiDmmL7npLrlr7zoiKpcclxuICAgICAgICAgICAgR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ3VpZGUubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBHYW1lTWFuYWdlci5pbnN0YW5jZS5ndWlkZS5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHRoaXMuaW5pdEJhcnJpZXJzKCk7XHJcbiAgICAgICAgdGhpcy5pbml0QUlQbGF5ZXIodGhpcy5haVBsYXllckNvdW50KTtcclxuICAgICAgICB0aGlzLmluaXRLbmlmZXModGhpcy5rbmlmZU51bSk7XHJcbiAgICAgICAgdGhpcy5pbml0TWFyaygpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllci5vbkdhbWVTdGFydCgpO1xyXG5cclxuICAgICAgICAvL3ZhciBjZFR4dDpjYy5MYWJlbCA9IHRoaXMuY2xvY2suZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuXHJcbiAgICAgICAgdGhpcy5jbG9jay5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jbG9jay5obXMgPSAyO1xyXG4gICAgICAgIHRoaXMuY2xvY2sudGltZUxlbmd0aCA9IDIgKiA2MCArIDMxO1xyXG5cclxuICAgICAgICB2YXIgdGltZVR4dCA9IHRoaXMuY2xvY2suZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihjYy5MYWJlbCk7XHJcbiAgICAgICAgdGltZVR4dC5zdHJpbmcgPSBcIlwiICsgdGhpcy5jbG9jay50aW1lTGVuZ3RoO1xyXG5cclxuICAgICAgICB0aGlzLmNsb2NrLlBsYXkoKHMsbSxoLHN0cix0KT0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZih0ID09IDEwMCB8fCB0ID09IDcwIHx8IHQgPT0gNDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud2FsbC5zaHJpbmsoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5jbG9jay5jdXJyZW50Q291bnQgJSAyNSA9PSAwKVxyXG4gICAgICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG90aGVyS2ZDb3VudCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5ibGFja0hvbGUpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJLZkNvdW50ID0gTWF0aC5jZWlsKHRoaXMuYmxhY2tIb2xlLmtuaWZlY291bnQgLyAyKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsYWNrSG9sZS5rbmlmZWNvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRLbmlmZXMoNSArIG90aGVyS2ZDb3VudCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxDb25maWdEYXRhLmhvdFdoZWVscyAhPSBcIlwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyID0gdGhpcy5sZXZlbENvbmZpZ0RhdGEuaG90V2hlZWxzLnNwbGl0KFwiLVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0ICUgTnVtYmVyKGFyclswXSkgPT0gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRJdGVtKE51bWJlcihhcnJbMV0pLEl0ZW1UeXBlLmZobClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5sZXZlbENvbmZpZ0RhdGEuc3BlZWRVcCAhPSBcIlwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyID0gdGhpcy5sZXZlbENvbmZpZ0RhdGEuc3BlZWRVcC5zcGxpdChcIi1cIik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodCAlIE51bWJlcihhcnJbMF0pID09IDApXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0SXRlbShOdW1iZXIoYXJyWzFdKSxJdGVtVHlwZS5yb2NrZXQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxDb25maWdEYXRhLm1hZ25ldCAhPSBcIlwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyID0gdGhpcy5sZXZlbENvbmZpZ0RhdGEubWFnbmV0LnNwbGl0KFwiLVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0ICUgTnVtYmVyKGFyclswXSkgPT0gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRJdGVtKE51bWJlcihhcnJbMV0pLEl0ZW1UeXBlLm1hZ25ldClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYodCA9PSAxMjApXHJcbiAgICAgICAgICAgIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmxldmVsQ29uZmlnRGF0YS5ibGFja0hvbGUgIT0gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2VXaWR0aCA9IHRoaXMuc2NlbmVTaXplLndpZHRoLzIgLSAzNTA7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlSGVpZ2h0ID0gdGhpcy5zY2VuZVNpemUuaGVpZ2h0LzIgLSAzNTA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmxhY2tIb2xlID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ2V0QmxhY2tIb2xlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGFja0hvbGUubm9kZS5wYXJlbnQgPSB0aGlzLm5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGFja0hvbGUubm9kZS5wb3NpdGlvbiA9IGNjLnYyKFJhbmRvbS5SYW5nZSgtcmFuZ2VXaWR0aCxyYW5nZVdpZHRoKSxSYW5kb20uUmFuZ2UoLXJhbmdlSGVpZ2h0LHJhbmdlSGVpZ2h0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGltZVR4dC5zdHJpbmcgPSBgJHt0fWA7XHJcblxyXG4gICAgICAgICAgICBpZih0IDw9IDUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2RUeHQubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jZFR4dC5zdHJpbmcgPSBcIlwiICsgdDtcclxuICAgICAgICAgICAgICAgIFNvdW5kTWFuYWdlci5pbnN0YW5jZS5wbGF5QXVkaW9DbGlwKFNvdW5kQ2xpcFR5cGUuZGlkYSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHQgPT0gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jZFR4dC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB9LFxyXG4gICAgICAgICgpPT57XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmNsb2NrLlN0b3AoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBhcnI6QXJyYXk8UGxheWVyPiA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMCA7IGkgPCB0aGlzLnBsYXllckFyci5sZW5ndGggOyBpKyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMucGxheWVyQXJyW2ldLnN0YXR1cyAhPSBQbGF5ZXJTdGF0dXMuZGllICYmIHRoaXMucGxheWVyQXJyW2ldLnJhbmsgPT0gMSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnIucHVzaCh0aGlzLnBsYXllckFycltpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGFyci5zb3J0KChwbGF5ZXIxOlBsYXllcixwbGF5ZXIyOlBsYXllcik6bnVtYmVyPT5cclxuICAgICAgICAgICAge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHBsYXllcjEua2lsbENvdW50ID4gcGxheWVyMi5raWxsQ291bnQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYocGxheWVyMS5raWxsQ291bnQgPCBwbGF5ZXIyLmtpbGxDb3VudClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxlbjE6bnVtYmVyID0gcGxheWVyMS5rbmlmZVBvb2wua25pZmVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGVuMjpudW1iZXIgPSBwbGF5ZXIyLmtuaWZlUG9vbC5rbmlmZXMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihsZW4xID4gbGVuMilcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYobGVuMSA8IGxlbjIpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICAwO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAgOyBpIDwgYXJyLmxlbmd0aCA7IGkrKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYXJyW2ldLnJhbmsgPSBpICsgMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5nYW1lT3ZlcigpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIFVJTWFuYWdlci5pbnN0YW5jZS5yYW5rVUkubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnYW1lT3ZlcigpXHJcbiAgICB7XHJcbiAgICAgICAgR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ2FtZVN0YXR1cyA9IEdhbWVTdGF0dXMub3ZlcjtcclxuXHRcdGNvbnNvbGUubG9nKFwiZ2FtZSBvdmVyXCIpO1xyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XHJcblxyXG4gICAgICAgICAgICAvL0dhbWVNYW5hZ2VyLmluc3RhbmNlLmdhbWVTdGF0dXMgPSBHYW1lU3RhdHVzLm92ZXI7XHJcblxyXG4gICAgICAgICAgICBVSU1hbmFnZXIuaW5zdGFuY2UucmFua1VJLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIFVJTWFuYWdlci5pbnN0YW5jZS5hY2NvdW50VUkub3BlbigpO1xyXG4gICAgICAgIH0sMS44KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5pdEJhcnJpZXJzKClcclxuICAgIHtcclxuXHJcbiAgICAgICAgdmFyIHJhbmdlV2lkdGggPSB0aGlzLnNjZW5lU2l6ZS53aWR0aC8yIC0gMzUwO1xyXG4gICAgICAgIHZhciByYW5nZUhlaWdodCA9IHRoaXMuc2NlbmVTaXplLmhlaWdodC8yIC0gMzUwO1xyXG5cclxuICAgICAgICBpZih0aGlzLmxldmVsQ29uZmlnRGF0YS5tZXRlb3IgIT0gXCJcIilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBhcnIgPSB0aGlzLmxldmVsQ29uZmlnRGF0YS5tZXRlb3Iuc3BsaXQoXCItXCIpO1xyXG4gICAgICAgICAgICB2YXIgY291bnQ6bnVtYmVyID0gUmFuZG9tLlJhbmdlSW50ZWdlcihOdW1iZXIoYXJyWzBdKSxOdW1iZXIoYXJyWzBdKSk7XHJcblxyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwIDsgaSA8IGNvdW50IDsgaSsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmFycmllcjpjYy5Ob2RlID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ2V0UmFuZG9tQmFycmllcigwKTtcclxuICAgICAgICAgICAgICAgIGJhcnJpZXIucGFyZW50ID0gdGhpcy5ub2RlO1xyXG4gICAgICAgICAgICAgICAgYmFycmllci5wb3NpdGlvbiA9IGNjLnYyKFJhbmRvbS5SYW5nZSgtcmFuZ2VXaWR0aCxyYW5nZVdpZHRoKSxSYW5kb20uUmFuZ2UoLXJhbmdlSGVpZ2h0LHJhbmdlSGVpZ2h0KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMubGV2ZWxDb25maWdEYXRhLm1vdk1ldGVvciAhPSBcIlwiKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGFyciA9IHRoaXMubGV2ZWxDb25maWdEYXRhLm1vdk1ldGVvci5zcGxpdChcIi1cIik7XHJcbiAgICAgICAgICAgIHZhciBjb3VudDpudW1iZXIgPSBSYW5kb20uUmFuZ2VJbnRlZ2VyKE51bWJlcihhcnJbMF0pLE51bWJlcihhcnJbMF0pKTtcclxuXHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAgOyBpIDwgY291bnQgOyBpKyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHZhciBiYXJyaWVyOmNjLk5vZGUgPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5nZXRSYW5kb21CYXJyaWVyKDEpO1xyXG4gICAgICAgICAgICAgICAgYmFycmllci5wYXJlbnQgPSB0aGlzLm5vZGU7XHJcbiAgICAgICAgICAgICAgICBiYXJyaWVyLnBvc2l0aW9uID0gY2MudjIoUmFuZG9tLlJhbmdlKC1yYW5nZVdpZHRoLHJhbmdlV2lkdGgpLFJhbmRvbS5SYW5nZSgtcmFuZ2VIZWlnaHQscmFuZ2VIZWlnaHQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5pdEl0ZW0oY291bnQ6bnVtYmVyLGl0ZW1UeXBlOkl0ZW1UeXBlID0gSXRlbVR5cGUubm9uZSlcclxuICAgIHtcclxuICAgICAgICB2YXIgd2lkdGg6bnVtYmVyID0gdGhpcy5zY2VuZVNpemUud2lkdGggLyAyIC0gMTUwO1xyXG4gICAgICAgIHZhciBoZWlnaHQ6bnVtYmVyID0gdGhpcy5zY2VuZVNpemUuaGVpZ2h0IC8gMiAtIDE1MDtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGNvdW50IDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW06SXRlbSA9IG51bGw7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZihpdGVtVHlwZSA9PSBJdGVtVHlwZS5ub25lKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpdGVtID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ2V0SXRlbUJ5VHlwZShSYW5kb20uUmFuZ2VJbnRlZ2VyKDEsNCkpXHJcbiAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0gPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5nZXRJdGVtQnlUeXBlKGl0ZW1UeXBlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpdGVtLm5vZGUucGFyZW50ID0gdGhpcy5ub2RlO1xyXG4gICAgICAgICAgICBpdGVtLm5vZGUucG9zaXRpb24gPSBjYy52MihSYW5kb20uUmFuZ2UoLXdpZHRoLHdpZHRoKSxSYW5kb20uUmFuZ2UoLWhlaWdodCxoZWlnaHQpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBjb3VudCDliJ3lp4vljJZBSeeOqeWutlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaW5pdEFJUGxheWVyKGNvdW50Om51bWJlcilcclxuICAgIHtcclxuXHJcbiAgICAgICAgdmFyIGFpTHZBcnI6UGxheWVyQUlMZXZlbFtdID0gW107XHJcblxyXG4gICAgICAgIGZvcih2YXIgaSA9IDEgOyBpIDw9IDQgOyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IodmFyIGogPSAwIDsgaiA8IHRoaXMubGV2ZWxDb25maWdEYXRhW2BhaWx2JHtpfWBdOyBqKyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGFpTHZBcnIucHVzaChpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGNvdW50IDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIHBsYXllciA9IEdhbWVNYW5hZ2VyLmluc3RhbmNlLmdldFBsYXllcigpO1xyXG4gICAgICAgICAgICBwbGF5ZXIubm9kZS5wYXJlbnQgPSB0aGlzLm5vZGU7XHJcbiAgICAgICAgICAgIHBsYXllci5pc0FJID0gdHJ1ZTtcclxuICAgICAgICAgICAgcGxheWVyLnNob3dmYWNlID0gUmFuZG9tLlJhbmdlKDAsMTApIDwgMyA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgcGxheWVyLmdldENvbXBvbmVudChQbGF5ZXJBSSkuYWlMZXZlbCA9ICFhaUx2QXJyW2ldID8gUGxheWVyQUlMZXZlbC5sZXZlbDEgOiBhaUx2QXJyW2ldO1xyXG4gICAgICAgICAgICBwbGF5ZXIub25HYW1lU3RhcnQoKTtcclxuICAgICAgICAgICAgcGxheWVyLnJhbmRvbUtuaWZlU2tpbigpO1xyXG4gICAgICAgICAgICBwbGF5ZXIuZ2V0Q29tcG9uZW50KFBsYXllckFJKS5vbkdhbWVTdGFydCgpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gUmFuZG9tLlJhbmdlSW50ZWdlcigwLHRoaXMuZ2V0U2tpbkluZGV4QXJyKCkubGVuZ3RoKTtcclxuICAgICAgICAgICAgdmFyIHNraW5JbmRleCA9IHRoaXMuZ2V0U2tpbkluZGV4QXJyKClbaW5kZXhdO1xyXG4gICAgICAgICAgICB0aGlzLmdldFNraW5JbmRleEFycigpLnNwbGljZShpbmRleCwxKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHBsYXllci5za2luID0gc2tpbkluZGV4O1xyXG4gICAgICAgICAgICBwbGF5ZXIuc2V0TmFtZShEYXRhTWFuYWdlci5pbnN0YW5jZS5uYW1lQ29uZmlnRGF0YXNbdGhpcy5haU5hbWVJbmRleEFycltpXV0ubmFtZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBsYXllckFyci5wdXNoKHBsYXllcik7XHJcblxyXG4gICAgICAgICAgICB2YXIgd2lkdGg6bnVtYmVyID0gdGhpcy5zY2VuZVNpemUud2lkdGggLyAyIC0gMTUwO1xyXG4gICAgICAgICAgICB2YXIgaGVpZ2h0Om51bWJlciA9IHRoaXMuc2NlbmVTaXplLmhlaWdodCAvIDIgLSAxNTA7XHJcbiAgICAgICAgICAgIHBsYXllci5ub2RlLnBvc2l0aW9uID0gY2MudjIoUmFuZG9tLlJhbmdlKC13aWR0aCx3aWR0aCksUmFuZG9tLlJhbmdlKC1oZWlnaHQsaGVpZ2h0KSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFNraW5JbmRleEFycigpXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy5za2luSW5kZXhBcnIubGVuZ3RoID09IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAxIDsgaSA8PSA4OyBpKyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2tpbkluZGV4QXJyLnB1c2goaSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGluZGV4Om51bWJlciA9IHRoaXMuc2tpbkluZGV4QXJyLmluZGV4T2YodGhpcy5wbGF5ZXIuc2tpbik7XHJcbiAgICAgICAgICAgIGlmKGluZGV4ICE9IC0xKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNraW5JbmRleEFyci5zcGxpY2UoaW5kZXgsMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnNraW5JbmRleEFycjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0UmFuZG9tTmFtZUluZGV4KCk6bnVtYmVyXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGluZGV4Om51bWJlciA9IFJhbmRvbS5SYW5nZUludGVnZXIoMCx0aGlzLmdldE5hbWVJbmRleEFycigpLmxlbmd0aCk7XHJcbiAgICAgICAgdmFyIG5hbWVJbmRleDpudW1iZXIgPSB0aGlzLmdldE5hbWVJbmRleEFycigpW2luZGV4XTtcclxuICAgICAgICB0aGlzLmdldE5hbWVJbmRleEFycigpLnNwbGljZShpbmRleCwxKTtcclxuICAgICAgICAvL3JldHVybiBEYXRhTWFuYWdlci5pbnN0YW5jZS5uYW1lQ29uZmlnRGF0YXNbbmFtZUluZGV4XS5uYW1lO1xyXG4gICAgICAgIHJldHVybiBuYW1lSW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldE5hbWVJbmRleEFycigpXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy5uYW1lSW5kZXhBcnIubGVuZ3RoID09IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgbmFtZUFyciA9IERhdGFNYW5hZ2VyLmluc3RhbmNlLm5hbWVDb25maWdEYXRhcztcclxuICAgICAgICAgICAgdmFyIGxlbjpudW1iZXIgPSA1MDtcclxuXHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAgOyBpIDwgbGVuOyBpKyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubmFtZUluZGV4QXJyLnB1c2goaSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZUluZGV4QXJyO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOacieeOqeWutuiiq+WHu+adgOaXtlxyXG4gICAgICogQHBhcmFtIGtpbGxlciDlh7vmnYDkurpcclxuICAgICAqIEBwYXJhbSBkaWVNYW4g6KKr5Ye75p2A5a+56LGhXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBwbGF5ZXJLaWxsZWQoa2lsbGVyOlBsYXllcixkaWVNYW46UGxheWVyKVxyXG4gICAge1xyXG5cclxuICAgICAgICAvL2NjLmxvZyhraWxsZXIuZ2V0TmFtZSgpLFwi5Ye75p2A5LqGXCIsZGllTWFuLmdldE5hbWUoKSk7XHJcblxyXG4gICAgICAgIGtpbGxlci5raWxsQ291bnQgKys7XHJcblxyXG4gICAgICAgIGRpZU1hbi5yYW5rID0gdGhpcy5yYW5rO1xyXG4gICAgICAgIHRoaXMucmFuay0tO1xyXG5cclxuICAgICAgICB2YXIga2lsbEVmZmVjdDpNb3ZpZUNsaXAgPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5nZXRLaWxsRWZmZWN0KCk7XHJcbiAgICAgICAga2lsbEVmZmVjdC5ub2RlLmNvbG9yID0gZGllTWFuLmJvZHkubm9kZS5jb2xvcjtcclxuICAgICAgICBraWxsRWZmZWN0Lm5vZGUucGFyZW50ID0gdGhpcy5ub2RlO1xyXG4gICAgICAgIGtpbGxFZmZlY3Qubm9kZS5wb3NpdGlvbiA9IGRpZU1hbi5ub2RlLnBvc2l0aW9uO1xyXG5cclxuICAgICAgICBraWxsZXIuY2hhbmdlRmFjZSgyLDEuNSk7XHJcblxyXG4gICAgICAgIGlmKGtpbGxlciA9PSB0aGlzLnBsYXllcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldFBsYXllckRhdGEoKS5raWxscyArKztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKHRoaXMucGxheWVyLmtpbGxDb3VudCA9PSA0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBEYXRhTWFuYWdlci5pbnN0YW5jZS5nZXRQbGF5ZXJEYXRhKCkua2lsbHM0ICsrO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih0aGlzLnBsYXllci5raWxsQ291bnQgPT0gNSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLmtpbGxzNSArKztcclxuICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5wbGF5ZXIua2lsbENvdW50ID09IDYpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldFBsYXllckRhdGEoKS5raWxsczYgKys7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIERhdGFNYW5hZ2VyLmluc3RhbmNlLnNhdmVQbGF5ZXJEYXRhKCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9pZigha2lsbGVyLmlzQUkpXHJcbiAgICAgICAgLy97XHJcbiAgICAgICAgICAgIFVJTWFuYWdlci5pbnN0YW5jZS5tZXNzYWdlVUkuc2hvd01lc3NhZ2Uoa2lsbGVyLGRpZU1hbik7XHJcbiAgICAgICAgLy99XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIGlmKCFkaWVNYW4uaXNBSSlcclxuICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICBXWFNkay5pbnN0YW5jZS52aWJyYXRlTG9uZygpOy8v546p5a626Ieq5bex5q275Lqh77yM6ZW/6ZyH5YqoXHJcbiAgICAgICAgICAgIENhbWVyYUZvbGxvdy5pbnN0YW5jZS5zaGFrZSgxKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2xvY2suU3RvcCgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5nYW1lT3ZlcigpXHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICBpZigha2lsbGVyLmlzQUkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFdYU2RrLmluc3RhbmNlLnZpYnJhdGVTaG9ydCgpOy8v5Yir55qE546p5a626Ieq5bex5q275LqhXHJcbiAgICAgICAgICAgICAgICBDYW1lcmFGb2xsb3cuaW5zdGFuY2Uuc2hha2UoMSk7XHJcbiAgICAgICAgICAgICAgICBTb3VuZE1hbmFnZXIuaW5zdGFuY2UucGxheUF1ZGlvQ2xpcChTb3VuZENsaXBUeXBlLmtpbGxNYW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgdmFyIHBsYXllckFycjpQbGF5ZXJbXSA9IHRoaXMuZ2V0Q29tcG9uZW50c0luQ2hpbGRyZW4oUGxheWVyKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBpc0VuZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwIDsgaSA8IHBsYXllckFyci5sZW5ndGggOyBpKyspXHJcbiAgICAgICAgICAgIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZighcGxheWVyQXJyW2ldLm5vZGUuYWN0aXZlKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmKHBsYXllckFycltpXS5pc0FJICYmIHBsYXllckFycltpXS5zdGF0dXMgIT0gUGxheWVyU3RhdHVzLmRpZSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0VuZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihpc0VuZClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9jay5TdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVPdmVyKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBpbml0S25pZmVzKGNvdW50Om51bWJlcilcclxuICAgIHtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMCA7IGkgPCBjb3VudCA7IGkrKylcclxuICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICB2YXIga25pZmU6S25pZmUgPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5nZXRLbmlmZShLbmlmZVR5cGUubm9ybWFsKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB3aWR0aDpudW1iZXIgPSB0aGlzLnNjZW5lU2l6ZS53aWR0aCAvIDIgLSAxNTA7XHJcbiAgICAgICAgICAgIHZhciBoZWlnaHQ6bnVtYmVyID0gdGhpcy5zY2VuZVNpemUuaGVpZ2h0IC8gMiAtIDE1MDtcclxuICAgICAgICAgICAga25pZmUubm9kZS5yb3RhdGlvbiA9IFJhbmRvbS5SYW5nZSgwLDM2MCk7XHJcbiAgICAgICAgICAgIGtuaWZlLm5vZGUucG9zaXRpb24gPSBjYy52MihSYW5kb20uUmFuZ2UoLXdpZHRoLHdpZHRoKSxSYW5kb20uUmFuZ2UoLWhlaWdodCxoZWlnaHQpKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYWRkS25pZmUoa25pZmUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluaXRNYXJrKClcclxuICAgIHtcclxuXHJcbiAgICAgICAgdmFyIHBsYXllckFycjpBcnJheTxQbGF5ZXI+ID0gdGhpcy5nZXRDb21wb25lbnRzSW5DaGlsZHJlbihQbGF5ZXIpO1xyXG5cclxuICAgICAgICBmb3IodmFyIGkgPSAwIDsgaSA8IHBsYXllckFyci5sZW5ndGggOyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgcGxheWVyOlBsYXllciA9IHBsYXllckFycltpXTtcclxuICAgICAgICAgICAgaWYocGxheWVyLmlzQUkgJiYgcGxheWVyLm5vZGUuYWN0aXZlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFyayA9IEdhbWVNYW5hZ2VyLmluc3RhbmNlLmdldE1hcmsoKTtcclxuICAgICAgICAgICAgICAgIC8vbWFyay5ub2RlLnBhcmVudCA9IGNjLkNhbWVyYS5tYWluLm5vZGU7XHJcbiAgICAgICAgICAgICAgICBtYXJrLm5vZGUucGFyZW50ID0gVUlNYW5hZ2VyLmluc3RhbmNlLmdldExheWVyKExheWVyVHlwZS5iYWNrKTtcclxuICAgICAgICAgICAgICAgIG1hcmsucGxheWVyID0gdGhpcy5wbGF5ZXI7XHJcbiAgICAgICAgICAgICAgICBtYXJrLnRhcmdldFBsYXllciA9IHBsYXllcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBhZGRLbmlmZShrbmlmZTpLbmlmZSlcclxuICAgIHtcclxuICAgICAgICBpZihrbmlmZS5ub2RlLnBhcmVudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGtuaWZlLm5vZGUucGFyZW50LnJlbW92ZUNoaWxkKGtuaWZlLm5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLm5vZGUuYWRkQ2hpbGQoa25pZmUubm9kZSwwKTtcclxuICAgICAgICBpZih0aGlzLmtuaWZlQXJyLmluZGV4T2Yoa25pZmUpID09IC0xKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5rbmlmZUFyci5wdXNoKGtuaWZlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubm9kZS5lbWl0KFwia25pZmVzQ2hhbmdlXCIse30pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVLbmlmZShrbmlmZTpLbmlmZSlcclxuICAgIHtcclxuICAgICAgICB2YXIgaW5kZXg6bnVtYmVyID0gdGhpcy5rbmlmZUFyci5pbmRleE9mKGtuaWZlKTtcclxuXHJcbiAgICAgICAgaWYoaW5kZXggIT0gLTEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmtuaWZlQXJyLnNwbGljZShpbmRleCwxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubm9kZS5lbWl0KFwia25pZmVzQ2hhbmdlXCIse30pO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyp1cGRhdGUgKGR0KSBcclxuICAgIHtcclxuICAgICAgICBcclxuICAgIH0qL1xyXG5cclxuICAgIG9uRGVzdHJveSgpXHJcbiAgICB7IFxyXG4gICAgICAgIGNjLnN5c3RlbUV2ZW50Lm9mZihcInd4TG9naW5cIix0aGlzLm9uV3hMb2dpbix0aGlzKTsgICBcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/TestPhysics.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1d501n6Sg5LyL+2wQch5LeV', 'TestPhysics');
// script/TestPhysics.ts

// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var NewClass = /** @class */ (function (_super) {
    __extends(NewClass, _super);
    function NewClass() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.label = null;
        _this.text = 'hello';
        _this.rigibody = null;
        return _this;
    }
    // LIFE-CYCLE CALLBACKS:
    NewClass.prototype.onLoad = function () {
        cc.director.getPhysicsManager().enabled = true;
        cc.director.getPhysicsManager().debugDrawFlags = 1;
        //cc.director.getPhysicsManager().gravity = cc.Vec2.ZERO;
    };
    NewClass.prototype.start = function () {
        //this.rigibody.applyTorque(1000,true);
        var _this = this;
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, function (event) {
            switch (event.keyCode) {
                case cc.macro.KEY.a:
                    _this.rigibody.node.position = cc.Vec2.ZERO;
                    _this.rigibody.linearVelocity = cc.Vec2.ZERO;
                    break;
                case cc.macro.KEY.s:
                    _this.rigibody.applyForce(cc.v2(0, -1).mul(100000), cc.v2(0, 25), true);
                    break;
                case cc.macro.KEY.d:
                    break;
            }
        });
    };
    NewClass.prototype.update = function (dt) {
        //var fp:cc.Vec2 = cc.v2(10,10).sub(this.rigibody.node.position);//向心力矢量，但此时向量模不正确
        //fp = fp.normalize().mul(this.rigibody.getMass() * 1.0);//纠正向量的模
        //this.rigibody.applyForce(cc.v2(-1,0).mul(100),cc.v2(0,500),true);
        //this.rigibody.node.x += dt * 10;
        //this.rigibody.node.rotation += dt * 5;
    };
    __decorate([
        property(cc.Label)
    ], NewClass.prototype, "label", void 0);
    __decorate([
        property
    ], NewClass.prototype, "text", void 0);
    __decorate([
        property(cc.RigidBody)
    ], NewClass.prototype, "rigibody", void 0);
    NewClass = __decorate([
        ccclass
    ], NewClass);
    return NewClass;
}(cc.Component));
exports.default = NewClass;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFxUZXN0UGh5c2ljcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsa0ZBQWtGO0FBQ2xGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsNEZBQTRGO0FBQzVGLG1HQUFtRzs7QUFFN0YsSUFBQSxrQkFBbUMsRUFBbEMsb0JBQU8sRUFBRSxzQkFBeUIsQ0FBQztBQUcxQztJQUFzQyw0QkFBWTtJQURsRDtRQUFBLHFFQThEQztRQTFERyxXQUFLLEdBQWEsSUFBSSxDQUFDO1FBR3ZCLFVBQUksR0FBVyxPQUFPLENBQUM7UUFHaEIsY0FBUSxHQUFnQixJQUFJLENBQUM7O0lBb0R4QyxDQUFDO0lBbERHLHdCQUF3QjtJQUV4Qix5QkFBTSxHQUFOO1FBRUksRUFBRSxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7UUFDL0MsRUFBRSxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLGNBQWMsR0FBRyxDQUFDLENBQUM7UUFDbkQseURBQXlEO0lBQzdELENBQUM7SUFFRCx3QkFBSyxHQUFMO1FBRUksdUNBQXVDO1FBRjNDLGlCQTZCQztRQXpCRyxFQUFFLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUMsVUFBQyxLQUFLO1lBRXBELFFBQU8sS0FBSyxDQUFDLE9BQU8sRUFDcEI7Z0JBQ0ksS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUduQixLQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7b0JBQzNDLEtBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO29CQUM1QyxNQUFNO2dCQUVOLEtBQUssRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFFbkIsS0FBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUMsRUFBRSxDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUM7b0JBRW5FLE1BQU07Z0JBRU4sS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUluQixNQUFNO2FBQ1Q7UUFDTCxDQUFDLENBQUMsQ0FBQTtJQUVOLENBQUM7SUFFQSx5QkFBTSxHQUFOLFVBQVEsRUFBRTtRQUVQLGtGQUFrRjtRQUN4RixpRUFBaUU7UUFDakUsbUVBQW1FO1FBRTdELGtDQUFrQztRQUNsQyx3Q0FBd0M7SUFFM0MsQ0FBQztJQXpERjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzJDQUNJO0lBR3ZCO1FBREMsUUFBUTswQ0FDYztJQUd2QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDOzhDQUNhO0lBVG5CLFFBQVE7UUFENUIsT0FBTztPQUNhLFFBQVEsQ0E2RDVCO0lBQUQsZUFBQztDQTdERCxBQTZEQyxDQTdEcUMsRUFBRSxDQUFDLFNBQVMsR0E2RGpEO2tCQTdEb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZXdDbGFzcyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgbGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHlcclxuICAgIHRleHQ6IHN0cmluZyA9ICdoZWxsbyc7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlJpZ2lkQm9keSlcclxuICAgIHB1YmxpYyByaWdpYm9keTpjYy5SaWdpZEJvZHkgPSBudWxsO1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIG9uTG9hZCAoKSBcclxuICAgIHtcclxuICAgICAgICBjYy5kaXJlY3Rvci5nZXRQaHlzaWNzTWFuYWdlcigpLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGNjLmRpcmVjdG9yLmdldFBoeXNpY3NNYW5hZ2VyKCkuZGVidWdEcmF3RmxhZ3MgPSAxO1xyXG4gICAgICAgIC8vY2MuZGlyZWN0b3IuZ2V0UGh5c2ljc01hbmFnZXIoKS5ncmF2aXR5ID0gY2MuVmVjMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuXHJcbiAgICAgICAgLy90aGlzLnJpZ2lib2R5LmFwcGx5VG9ycXVlKDEwMDAsdHJ1ZSk7XHJcblxyXG4gICAgICAgIGNjLnN5c3RlbUV2ZW50Lm9uKGNjLlN5c3RlbUV2ZW50LkV2ZW50VHlwZS5LRVlfVVAsKGV2ZW50KT0+e1xyXG5cclxuICAgICAgICAgICAgc3dpdGNoKGV2ZW50LmtleUNvZGUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgY2MubWFjcm8uS0VZLmE6XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucmlnaWJvZHkubm9kZS5wb3NpdGlvbiA9IGNjLlZlYzIuWkVSTztcclxuICAgICAgICAgICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkgPSBjYy5WZWMyLlpFUk87XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIGNjLm1hY3JvLktFWS5zOlxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucmlnaWJvZHkuYXBwbHlGb3JjZShjYy52MigwLC0xKS5tdWwoMTAwMDAwKSxjYy52MigwLDI1KSx0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIGNjLm1hY3JvLktFWS5kOlxyXG5cclxuICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgIHVwZGF0ZSAoZHQpIFxyXG4gICAgIHtcclxuICAgICAgICAvL3ZhciBmcDpjYy5WZWMyID0gY2MudjIoMTAsMTApLnN1Yih0aGlzLnJpZ2lib2R5Lm5vZGUucG9zaXRpb24pOy8v5ZCR5b+D5Yqb55+i6YeP77yM5L2G5q2k5pe25ZCR6YeP5qih5LiN5q2j56GuXHJcblx0XHQvL2ZwID0gZnAubm9ybWFsaXplKCkubXVsKHRoaXMucmlnaWJvZHkuZ2V0TWFzcygpICogMS4wKTsvL+e6oOato+WQkemHj+eahOaooVxyXG5cdFx0Ly90aGlzLnJpZ2lib2R5LmFwcGx5Rm9yY2UoY2MudjIoLTEsMCkubXVsKDEwMCksY2MudjIoMCw1MDApLHRydWUpO1xyXG5cclxuICAgICAgICAvL3RoaXMucmlnaWJvZHkubm9kZS54ICs9IGR0ICogMTA7XHJcbiAgICAgICAgLy90aGlzLnJpZ2lib2R5Lm5vZGUucm90YXRpb24gKz0gZHQgKiA1O1xyXG5cclxuICAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/core/GameManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b3027iHD85Hg43cxeD7A4Ly', 'GameManager');
// script/tscript/core/GameManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
var PopupText_1 = require("../ui/common/PopupText");
var ResourcesPool_1 = require("./ResourcesPool");
var ResourcesManager_1 = require("./ResourcesManager");
var Knife_1 = require("../gamescene/Knife");
var Mark_1 = require("../gamescene/Mark");
var Player_1 = require("../gamescene/Player");
var Joystick_1 = require("../gamescene/Joystick");
var Guide_1 = require("../gamescene/Guide");
var MovieClip_1 = require("../util/MovieClip");
var Random_1 = require("../util/Random");
var BlackHole_1 = require("../gamescene/BlackHole");
var Item_1 = require("../item/Item");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var GameStatus;
(function (GameStatus) {
    GameStatus[GameStatus["none"] = 0] = "none";
    GameStatus[GameStatus["start"] = 1] = "start";
    GameStatus[GameStatus["over"] = 2] = "over";
})(GameStatus = exports.GameStatus || (exports.GameStatus = {}));
var GameManager = /** @class */ (function (_super) {
    __extends(GameManager, _super);
    function GameManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.canvas = null;
        _this.gameScene = null;
        _this.touchPlane = null;
        _this.playerPrefab = null;
        _this.knifePrefab = null;
        _this.markPrefab = null;
        _this.killEffectPrefab = null;
        _this.blackHolePrefab = null;
        _this.joystick = null;
        _this.guide = null;
        _this.bgImgs = [];
        _this.daoImgs = [];
        _this.levelImgs = [];
        _this.barrierPrefabArr = [];
        _this.itemPrefabArr = [];
        _this.gameStatus = GameStatus.none;
        return _this;
        /*start () {
    
        }*/
        // update (dt) {}
    }
    GameManager_1 = GameManager;
    Object.defineProperty(GameManager, "instance", {
        get: function () {
            /*if(this._instance == null)
            {
                this._instance = new GameManager();
                this._instance.init();
            }*/
            return GameManager_1._instance;
        },
        enumerable: true,
        configurable: true
    });
    /*@property(Product)
    private productList:Product[] = [];
    private productDic:{[key:number]:Product} = {};*/
    // LIFE-CYCLE CALLBACKS:
    GameManager.prototype.onLoad = function () {
        GameManager_1._instance = this;
        //GameManager._instance.init();
    };
    GameManager.prototype.init = function () {
        //this.canvas = cc.find("Canvas");
    };
    GameManager.prototype.showPopupText = function (position, msg, size, color) {
        var _this = this;
        if (size === void 0) { size = 32; }
        if (color === void 0) { color = cc.Color.YELLOW; }
        var popupText = ResourcesPool_1.default.instance.get(PopupText_1.default);
        if (popupText) {
            popupText.node.setParent(this.canvas);
            popupText.node.position = position;
            popupText.showText(msg, size, color);
        }
        else {
            ResourcesManager_1.default.instance.load("PopupText", function (node) {
                popupText = node.getComponent(PopupText_1.default);
                popupText.node.setParent(_this.canvas);
                popupText.node.position = position;
                popupText.showText(msg, size, color);
            });
        }
    };
    GameManager.prototype.showPopupMsg = function (position, msg, size, color) {
        if (size === void 0) { size = 32; }
        if (color === void 0) { color = cc.Color.YELLOW; }
    };
    /**
     * 获得玩家
     */
    GameManager.prototype.getPlayer = function () {
        var node = cc.instantiate(this.playerPrefab);
        var player = node.getComponent(Player_1.default);
        player.node.position = cc.Vec2.ZERO;
        player.node.active = true;
        return player;
    };
    /**
     * 获得飞刀
     */
    GameManager.prototype.getKnife = function (type) {
        var knife = ResourcesPool_1.default.instance.get(Knife_1.default);
        if (knife) {
            return knife;
        }
        var node = cc.instantiate(this.knifePrefab);
        knife = node.getComponent(Knife_1.default);
        knife.node.position = cc.Vec2.ZERO;
        knife.type = type;
        knife.node.active = true;
        return knife;
    };
    /**
     * 获得飞刀
     */
    GameManager.prototype.getMark = function () {
        var node = cc.instantiate(this.markPrefab);
        var mark = node.getComponent(Mark_1.default);
        mark.node.position = cc.Vec2.ZERO;
        mark.node.active = true;
        return mark;
    };
    /**
     * 获得飞刀
     */
    GameManager.prototype.getKillEffect = function () {
        var node = cc.instantiate(this.killEffectPrefab);
        var mc = node.getComponent(MovieClip_1.default);
        mc.node.position = cc.Vec2.ZERO;
        mc.node.active = true;
        return mc;
    };
    GameManager.prototype.getRandomBarrier = function (type) {
        var node = null;
        if (type == 0) {
            node = cc.instantiate(this.barrierPrefabArr[Random_1.default.RangeInteger(0, 4)]);
        }
        else {
            node = cc.instantiate(this.barrierPrefabArr[Random_1.default.RangeInteger(4, this.barrierPrefabArr.length)]);
        }
        node.position = cc.Vec2.ZERO;
        node.rotation = Random_1.default.RangeInteger(0, 360);
        node.active = true;
        return node;
    };
    GameManager.prototype.getBlackHole = function () {
        var node = cc.instantiate(this.blackHolePrefab);
        node.position = cc.Vec2.ZERO;
        node.active = true;
        return node.getComponent(BlackHole_1.default);
    };
    /**
     * 获得飞刀
     */
    GameManager.prototype.getItemByType = function (type) {
        var node = cc.instantiate(this.itemPrefabArr[type - 1]);
        node.position = cc.Vec2.ZERO;
        node.active = true;
        return node.getComponent(Item_1.default);
    };
    var GameManager_1;
    /**
     * 玩家打开游戏后，玩了多少次游戏
     */
    GameManager.gameTimes = 0; //
    __decorate([
        property(cc.Node)
    ], GameManager.prototype, "canvas", void 0);
    __decorate([
        property(cc.Node)
    ], GameManager.prototype, "gameScene", void 0);
    __decorate([
        property(cc.Node)
    ], GameManager.prototype, "touchPlane", void 0);
    __decorate([
        property(cc.Prefab)
    ], GameManager.prototype, "playerPrefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], GameManager.prototype, "knifePrefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], GameManager.prototype, "markPrefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], GameManager.prototype, "killEffectPrefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], GameManager.prototype, "blackHolePrefab", void 0);
    __decorate([
        property(Joystick_1.default)
    ], GameManager.prototype, "joystick", void 0);
    __decorate([
        property(Guide_1.default)
    ], GameManager.prototype, "guide", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], GameManager.prototype, "bgImgs", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], GameManager.prototype, "daoImgs", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], GameManager.prototype, "levelImgs", void 0);
    __decorate([
        property(cc.Prefab)
    ], GameManager.prototype, "barrierPrefabArr", void 0);
    __decorate([
        property(cc.Prefab)
    ], GameManager.prototype, "itemPrefabArr", void 0);
    GameManager = GameManager_1 = __decorate([
        ccclass
    ], GameManager);
    return GameManager;
}(cc.Component));
exports.default = GameManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxjb3JlXFxHYW1lTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0RBQStDO0FBQy9DLGlEQUE0QztBQUM1Qyx1REFBa0Q7QUFDbEQsNENBQXNEO0FBRXRELDBDQUFxQztBQUNyQyw4Q0FBeUM7QUFFekMsa0RBQTZDO0FBQzdDLDRDQUF1QztBQUN2QywrQ0FBMEM7QUFFMUMseUNBQW9DO0FBQ3BDLG9EQUErQztBQUMvQyxxQ0FBOEM7QUFHOUMsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFFN0YsSUFBQSxrQkFBbUMsRUFBbEMsb0JBQU8sRUFBRSxzQkFBeUIsQ0FBQztBQUUxQyxJQUFZLFVBS1g7QUFMRCxXQUFZLFVBQVU7SUFFbEIsMkNBQVEsQ0FBQTtJQUNSLDZDQUFTLENBQUE7SUFDVCwyQ0FBUSxDQUFBO0FBQ1osQ0FBQyxFQUxXLFVBQVUsR0FBVixrQkFBVSxLQUFWLGtCQUFVLFFBS3JCO0FBR0Q7SUFBeUMsK0JBQVk7SUFEckQ7UUFBQSxxRUFvTkM7UUFyTVUsWUFBTSxHQUFXLElBQUksQ0FBQztRQUd0QixlQUFTLEdBQVcsSUFBSSxDQUFDO1FBR3pCLGdCQUFVLEdBQVcsSUFBSSxDQUFDO1FBRzFCLGtCQUFZLEdBQWEsSUFBSSxDQUFDO1FBSTlCLGlCQUFXLEdBQWEsSUFBSSxDQUFDO1FBRzdCLGdCQUFVLEdBQWEsSUFBSSxDQUFDO1FBRzVCLHNCQUFnQixHQUFhLElBQUksQ0FBQztRQUdsQyxxQkFBZSxHQUFhLElBQUksQ0FBQztRQUdqQyxjQUFRLEdBQVksSUFBSSxDQUFDO1FBR3pCLFdBQUssR0FBUyxJQUFJLENBQUM7UUFHbkIsWUFBTSxHQUFvQixFQUFFLENBQUM7UUFHN0IsYUFBTyxHQUFvQixFQUFFLENBQUM7UUFHOUIsZUFBUyxHQUFvQixFQUFFLENBQUM7UUFHaEMsc0JBQWdCLEdBQWUsRUFBRSxDQUFDO1FBR2xDLG1CQUFhLEdBQWUsRUFBRSxDQUFDO1FBRy9CLGdCQUFVLEdBQWMsVUFBVSxDQUFDLElBQUksQ0FBQzs7UUFrSi9DOztXQUVHO1FBRUgsaUJBQWlCO0lBQ3JCLENBQUM7b0JBbk5vQixXQUFXO0lBRzVCLHNCQUFrQix1QkFBUTthQUExQjtZQUNJOzs7O2VBSUc7WUFDSCxPQUFPLGFBQVcsQ0FBQyxTQUFTLENBQUM7UUFDakMsQ0FBQzs7O09BQUE7SUEwREQ7O3FEQUVpRDtJQUVqRCx3QkFBd0I7SUFFeEIsNEJBQU0sR0FBTjtRQUVJLGFBQVcsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQzdCLCtCQUErQjtJQUNuQyxDQUFDO0lBRU0sMEJBQUksR0FBWDtRQUVJLGtDQUFrQztJQUV0QyxDQUFDO0lBRU0sbUNBQWEsR0FBcEIsVUFBcUIsUUFBZ0IsRUFBQyxHQUFVLEVBQUMsSUFBZ0IsRUFBQyxLQUFnQztRQUFsRyxpQkFrQkM7UUFsQmdELHFCQUFBLEVBQUEsU0FBZ0I7UUFBQyxzQkFBQSxFQUFBLFFBQWlCLEVBQUUsQ0FBQyxLQUFLLENBQUMsTUFBTTtRQUU5RixJQUFJLFNBQVMsR0FBYSx1QkFBYSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQVksbUJBQVMsQ0FBQyxDQUFDO1FBRTNFLElBQUcsU0FBUyxFQUNaO1lBQ0ksU0FBUyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3RDLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztZQUNuQyxTQUFTLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBQyxJQUFJLEVBQUMsS0FBSyxDQUFDLENBQUM7U0FDdEM7YUFDRDtZQUNJLDBCQUFnQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFDLFVBQUMsSUFBWTtnQkFDcEQsU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsbUJBQVMsQ0FBQyxDQUFDO2dCQUN6QyxTQUFTLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3RDLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztnQkFDbkMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3ZDLENBQUMsQ0FBQyxDQUFDO1NBQ047SUFDTCxDQUFDO0lBRU0sa0NBQVksR0FBbkIsVUFBb0IsUUFBZ0IsRUFBQyxHQUFVLEVBQUMsSUFBZ0IsRUFBQyxLQUFnQztRQUFqRCxxQkFBQSxFQUFBLFNBQWdCO1FBQUMsc0JBQUEsRUFBQSxRQUFpQixFQUFFLENBQUMsS0FBSyxDQUFDLE1BQU07SUFHakcsQ0FBQztJQUVEOztPQUVHO0lBQ0ksK0JBQVMsR0FBaEI7UUFFSSxJQUFJLElBQUksR0FBVyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUNyRCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGdCQUFNLENBQUMsQ0FBQztRQUN2QyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNwQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDMUIsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUVEOztPQUVHO0lBQ0ksOEJBQVEsR0FBZixVQUFnQixJQUFjO1FBRTFCLElBQUksS0FBSyxHQUFTLHVCQUFhLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBUSxlQUFLLENBQUMsQ0FBQztRQUUzRCxJQUFHLEtBQUssRUFDUjtZQUNJLE9BQU8sS0FBSyxDQUFDO1NBQ2hCO1FBRUQsSUFBSSxJQUFJLEdBQVcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDcEQsS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsZUFBSyxDQUFDLENBQUM7UUFDakMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDbkMsS0FBSyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDbEIsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBRXpCLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRDs7T0FFRztJQUNJLDZCQUFPLEdBQWQ7UUFFSSxJQUFJLElBQUksR0FBVyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNuRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGNBQUksQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUN4QixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQ7O09BRUc7SUFDSSxtQ0FBYSxHQUFwQjtRQUVJLElBQUksSUFBSSxHQUFXLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDekQsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxtQkFBUyxDQUFDLENBQUM7UUFDdEMsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDaEMsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLE9BQU8sRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUVNLHNDQUFnQixHQUF2QixVQUF3QixJQUFXO1FBRS9CLElBQUksSUFBSSxHQUFXLElBQUksQ0FBQztRQUV4QixJQUFHLElBQUksSUFBSSxDQUFDLEVBQ1o7WUFDSSxJQUFJLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsZ0JBQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUMxRTthQUNEO1lBQ0ksSUFBSSxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGdCQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3JHO1FBRUQsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztRQUM3QixJQUFJLENBQUMsUUFBUSxHQUFHLGdCQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBQyxHQUFHLENBQUMsQ0FBQztRQUMzQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUNuQixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sa0NBQVksR0FBbkI7UUFFSSxJQUFJLElBQUksR0FBVyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUN4RCxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQzdCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ25CLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxtQkFBUyxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUdEOztPQUVHO0lBQ0ksbUNBQWEsR0FBcEIsVUFBcUIsSUFBYTtRQUU5QixJQUFJLElBQUksR0FBVyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEUsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztRQUM3QixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUNuQixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBSSxDQUFDLENBQUM7SUFDbkMsQ0FBQzs7SUE3SUQ7O09BRUc7SUFDVyxxQkFBUyxHQUFVLENBQUMsQ0FBQyxDQUFBLEVBQUU7SUFwRHJDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7K0NBQ1c7SUFHN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztrREFDYztJQUdoQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO21EQUNlO0lBR2pDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7cURBQ2lCO0lBSXJDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7b0RBQ2dCO0lBR3BDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7bURBQ2U7SUFHbkM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzt5REFDcUI7SUFHekM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzt3REFDb0I7SUFHeEM7UUFEQyxRQUFRLENBQUMsa0JBQVEsQ0FBQztpREFDYTtJQUdoQztRQURDLFFBQVEsQ0FBQyxlQUFLLENBQUM7OENBQ1U7SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzsrQ0FDVztJQUdwQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDO2dEQUNZO0lBR3JDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7a0RBQ2M7SUFHdkM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzt5REFDcUI7SUFHekM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztzREFDa0I7SUF6RHJCLFdBQVc7UUFEL0IsT0FBTztPQUNhLFdBQVcsQ0FtTi9CO0lBQUQsa0JBQUM7Q0FuTkQsQUFtTkMsQ0FuTndDLEVBQUUsQ0FBQyxTQUFTLEdBbU5wRDtrQkFuTm9CLFdBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUG9wdXBUZXh0IGZyb20gXCIuLi91aS9jb21tb24vUG9wdXBUZXh0XCI7XHJcbmltcG9ydCBSZXNvdXJjZXNQb29sIGZyb20gXCIuL1Jlc291cmNlc1Bvb2xcIjtcclxuaW1wb3J0IFJlc291cmNlc01hbmFnZXIgZnJvbSBcIi4vUmVzb3VyY2VzTWFuYWdlclwiO1xyXG5pbXBvcnQgS25pZmUsIHsgS25pZmVUeXBlIH0gZnJvbSBcIi4uL2dhbWVzY2VuZS9LbmlmZVwiO1xyXG5pbXBvcnQgR2FtZVNjZW5lIGZyb20gXCIuLi9nYW1lc2NlbmUvR2FtZVNjZW5lXCI7XHJcbmltcG9ydCBNYXJrIGZyb20gXCIuLi9nYW1lc2NlbmUvTWFya1wiO1xyXG5pbXBvcnQgUGxheWVyIGZyb20gXCIuLi9nYW1lc2NlbmUvUGxheWVyXCI7XHJcbmltcG9ydCBEYXRhTWFuYWdlciBmcm9tIFwiLi9EYXRhTWFuYWdlclwiO1xyXG5pbXBvcnQgSm95c3RpY2sgZnJvbSBcIi4uL2dhbWVzY2VuZS9Kb3lzdGlja1wiO1xyXG5pbXBvcnQgR3VpZGUgZnJvbSBcIi4uL2dhbWVzY2VuZS9HdWlkZVwiO1xyXG5pbXBvcnQgTW92aWVDbGlwIGZyb20gXCIuLi91dGlsL01vdmllQ2xpcFwiO1xyXG5pbXBvcnQgQmFycmllciBmcm9tIFwiLi4vZ2FtZXNjZW5lL0JhcnJpZXJcIjtcclxuaW1wb3J0IFJhbmRvbSBmcm9tIFwiLi4vdXRpbC9SYW5kb21cIjtcclxuaW1wb3J0IEJsYWNrSG9sZSBmcm9tIFwiLi4vZ2FtZXNjZW5lL0JsYWNrSG9sZVwiO1xyXG5pbXBvcnQgSXRlbSwgeyBJdGVtVHlwZSB9IGZyb20gXCIuLi9pdGVtL0l0ZW1cIjtcclxuXHJcblxyXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuZXhwb3J0IGVudW0gR2FtZVN0YXR1c1xyXG57XHJcbiAgICBub25lID0gMCxcclxuICAgIHN0YXJ0ID0gMSxcclxuICAgIG92ZXIgPSAyLFxyXG59XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lTWFuYWdlciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBHYW1lTWFuYWdlcjtcclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCk6IEdhbWVNYW5hZ2VyIHtcclxuICAgICAgICAvKmlmKHRoaXMuX2luc3RhbmNlID09IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBHYW1lTWFuYWdlcigpO1xyXG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZS5pbml0KCk7XHJcbiAgICAgICAgfSovXHJcbiAgICAgICAgcmV0dXJuIEdhbWVNYW5hZ2VyLl9pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBwdWJsaWMgY2FudmFzOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgcHVibGljIGdhbWVTY2VuZTpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHB1YmxpYyB0b3VjaFBsYW5lOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXHJcbiAgICBwdWJsaWMgcGxheWVyUHJlZmFiOmNjLlByZWZhYiA9IG51bGw7XHJcblxyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXHJcbiAgICBwdWJsaWMga25pZmVQcmVmYWI6Y2MuUHJlZmFiID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgcHVibGljIG1hcmtQcmVmYWI6Y2MuUHJlZmFiID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgcHVibGljIGtpbGxFZmZlY3RQcmVmYWI6Y2MuUHJlZmFiID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgcHVibGljIGJsYWNrSG9sZVByZWZhYjpjYy5QcmVmYWIgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShKb3lzdGljaylcclxuICAgIHB1YmxpYyBqb3lzdGljazpKb3lzdGljayA9IG51bGw7IFxyXG5cclxuICAgIEBwcm9wZXJ0eShHdWlkZSlcclxuICAgIHB1YmxpYyBndWlkZTpHdWlkZSA9IG51bGw7IFxyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIHB1YmxpYyBiZ0ltZ3M6Y2MuU3ByaXRlRnJhbWVbXSA9IFtdO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIHB1YmxpYyBkYW9JbWdzOmNjLlNwcml0ZUZyYW1lW10gPSBbXTtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBwdWJsaWMgbGV2ZWxJbWdzOmNjLlNwcml0ZUZyYW1lW10gPSBbXTtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgcHVibGljIGJhcnJpZXJQcmVmYWJBcnI6Y2MuUHJlZmFiW10gPSBbXTsgXHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIHB1YmxpYyBpdGVtUHJlZmFiQXJyOmNjLlByZWZhYltdID0gW107IFxyXG4gICAgXHJcblxyXG4gICAgcHVibGljIGdhbWVTdGF0dXM6R2FtZVN0YXR1cyA9IEdhbWVTdGF0dXMubm9uZTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnjqnlrrbmiZPlvIDmuLjmiI/lkI7vvIznjqnkuoblpJrlsJHmrKHmuLjmiI9cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnYW1lVGltZXM6bnVtYmVyID0gMDsvL1xyXG5cclxuICAgIC8qQHByb3BlcnR5KFByb2R1Y3QpXHJcbiAgICBwcml2YXRlIHByb2R1Y3RMaXN0OlByb2R1Y3RbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBwcm9kdWN0RGljOntba2V5Om51bWJlcl06UHJvZHVjdH0gPSB7fTsqL1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIG9uTG9hZCAoKSBcclxuICAgIHtcclxuICAgICAgICBHYW1lTWFuYWdlci5faW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgIC8vR2FtZU1hbmFnZXIuX2luc3RhbmNlLmluaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5pdCgpXHJcbiAgICB7XHJcbiAgICAgICAgLy90aGlzLmNhbnZhcyA9IGNjLmZpbmQoXCJDYW52YXNcIik7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3dQb3B1cFRleHQocG9zaXRpb246Y2MuVmVjMixtc2c6c3RyaW5nLHNpemU6bnVtYmVyID0gMzIsY29sb3I6Y2MuQ29sb3IgPSBjYy5Db2xvci5ZRUxMT1cpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIHBvcHVwVGV4dDpQb3B1cFRleHQgPSBSZXNvdXJjZXNQb29sLmluc3RhbmNlLmdldDxQb3B1cFRleHQ+KFBvcHVwVGV4dCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYocG9wdXBUZXh0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcG9wdXBUZXh0Lm5vZGUuc2V0UGFyZW50KHRoaXMuY2FudmFzKTtcclxuICAgICAgICAgICAgcG9wdXBUZXh0Lm5vZGUucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgICAgICAgICAgcG9wdXBUZXh0LnNob3dUZXh0KG1zZyxzaXplLGNvbG9yKTtcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgUmVzb3VyY2VzTWFuYWdlci5pbnN0YW5jZS5sb2FkKFwiUG9wdXBUZXh0XCIsKG5vZGU6Y2MuTm9kZSk9PntcclxuICAgICAgICAgICAgICAgIHBvcHVwVGV4dCA9IG5vZGUuZ2V0Q29tcG9uZW50KFBvcHVwVGV4dCk7XHJcbiAgICAgICAgICAgICAgICBwb3B1cFRleHQubm9kZS5zZXRQYXJlbnQodGhpcy5jYW52YXMpO1xyXG4gICAgICAgICAgICAgICAgcG9wdXBUZXh0Lm5vZGUucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgIHBvcHVwVGV4dC5zaG93VGV4dChtc2csc2l6ZSxjb2xvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvd1BvcHVwTXNnKHBvc2l0aW9uOmNjLlZlYzIsbXNnOnN0cmluZyxzaXplOm51bWJlciA9IDMyLGNvbG9yOmNjLkNvbG9yID0gY2MuQ29sb3IuWUVMTE9XKVxyXG4gICAge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635b6X546p5a62XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRQbGF5ZXIoKTpQbGF5ZXJcclxuICAgIHtcclxuICAgICAgICB2YXIgbm9kZTpjYy5Ob2RlID0gY2MuaW5zdGFudGlhdGUodGhpcy5wbGF5ZXJQcmVmYWIpO1xyXG4gICAgICAgIHZhciBwbGF5ZXIgPSBub2RlLmdldENvbXBvbmVudChQbGF5ZXIpO1xyXG4gICAgICAgIHBsYXllci5ub2RlLnBvc2l0aW9uID0gY2MuVmVjMi5aRVJPO1xyXG4gICAgICAgIHBsYXllci5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuIHBsYXllcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+W+l+mjnuWIgFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0S25pZmUodHlwZTpLbmlmZVR5cGUpOktuaWZlXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGtuaWZlOktuaWZlID0gUmVzb3VyY2VzUG9vbC5pbnN0YW5jZS5nZXQ8S25pZmU+KEtuaWZlKTtcclxuXHJcbiAgICAgICAgaWYoa25pZmUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4ga25pZmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbm9kZTpjYy5Ob2RlID0gY2MuaW5zdGFudGlhdGUodGhpcy5rbmlmZVByZWZhYik7XHJcbiAgICAgICAga25pZmUgPSBub2RlLmdldENvbXBvbmVudChLbmlmZSk7XHJcbiAgICAgICAga25pZmUubm9kZS5wb3NpdGlvbiA9IGNjLlZlYzIuWkVSTztcclxuICAgICAgICBrbmlmZS50eXBlID0gdHlwZTtcclxuICAgICAgICBrbmlmZS5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHJldHVybiBrbmlmZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+W+l+mjnuWIgFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TWFyaygpOk1hcmtcclxuICAgIHtcclxuICAgICAgICB2YXIgbm9kZTpjYy5Ob2RlID0gY2MuaW5zdGFudGlhdGUodGhpcy5tYXJrUHJlZmFiKTtcclxuICAgICAgICB2YXIgbWFyayA9IG5vZGUuZ2V0Q29tcG9uZW50KE1hcmspO1xyXG4gICAgICAgIG1hcmsubm9kZS5wb3NpdGlvbiA9IGNjLlZlYzIuWkVSTztcclxuICAgICAgICBtYXJrLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gbWFyaztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+W+l+mjnuWIgFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0S2lsbEVmZmVjdCgpOk1vdmllQ2xpcFxyXG4gICAge1xyXG4gICAgICAgIHZhciBub2RlOmNjLk5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmtpbGxFZmZlY3RQcmVmYWIpO1xyXG4gICAgICAgIHZhciBtYyA9IG5vZGUuZ2V0Q29tcG9uZW50KE1vdmllQ2xpcCk7XHJcbiAgICAgICAgbWMubm9kZS5wb3NpdGlvbiA9IGNjLlZlYzIuWkVSTztcclxuICAgICAgICBtYy5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuIG1jO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRSYW5kb21CYXJyaWVyKHR5cGU6bnVtYmVyKTpjYy5Ob2RlXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIG5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmKHR5cGUgPT0gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmJhcnJpZXJQcmVmYWJBcnJbUmFuZG9tLlJhbmdlSW50ZWdlcigwLDQpXSk7XHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmJhcnJpZXJQcmVmYWJBcnJbUmFuZG9tLlJhbmdlSW50ZWdlcig0LHRoaXMuYmFycmllclByZWZhYkFyci5sZW5ndGgpXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBub2RlLnBvc2l0aW9uID0gY2MuVmVjMi5aRVJPO1xyXG4gICAgICAgIG5vZGUucm90YXRpb24gPSBSYW5kb20uUmFuZ2VJbnRlZ2VyKDAsMzYwKTtcclxuICAgICAgICBub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEJsYWNrSG9sZSgpOkJsYWNrSG9sZVxyXG4gICAge1xyXG4gICAgICAgIHZhciBub2RlOmNjLk5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmJsYWNrSG9sZVByZWZhYik7XHJcbiAgICAgICAgbm9kZS5wb3NpdGlvbiA9IGNjLlZlYzIuWkVSTztcclxuICAgICAgICBub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuIG5vZGUuZ2V0Q29tcG9uZW50KEJsYWNrSG9sZSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635b6X6aOe5YiAXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRJdGVtQnlUeXBlKHR5cGU6SXRlbVR5cGUpOkl0ZW1cclxuICAgIHtcclxuICAgICAgICB2YXIgbm9kZTpjYy5Ob2RlID0gY2MuaW5zdGFudGlhdGUodGhpcy5pdGVtUHJlZmFiQXJyW3R5cGUgLSAxXSk7XHJcbiAgICAgICAgbm9kZS5wb3NpdGlvbiA9IGNjLlZlYzIuWkVSTztcclxuICAgICAgICBub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuIG5vZGUuZ2V0Q29tcG9uZW50KEl0ZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qc3RhcnQgKCkge1xyXG5cclxuICAgIH0qL1xyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/main/MainUI.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '442c8WlqyBFWqEM6A26dU1o', 'MainUI');
// script/tscript/ui/main/MainUI.ts

Object.defineProperty(exports, "__esModule", { value: true });
var GameScene_1 = require("../../gamescene/GameScene");
var BaseUI_1 = require("../base/BaseUI");
var GameManager_1 = require("../../core/GameManager");
var DataManager_1 = require("../../core/DataManager");
var UIManager_1 = require("../UIManager");
var WXSdk_1 = require("../../wx/WXSdk");
var PlayerController_1 = require("../../gamescene/PlayerController");
var LevelIcon_1 = require("./LevelIcon");
var TryOutUI_1 = require("./TryOutUI");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var MainUI = /** @class */ (function (_super) {
    __extends(MainUI, _super);
    function MainUI() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.leftBtn = null;
        _this.rightBtn = null;
        _this.startBtn = null;
        _this.tryOutBtn = null;
        _this.addknifeBtn = null;
        _this.butSkins = [];
        _this.lookBtn = null;
        _this.planetSkinBtn = null;
        _this.levelIcon = null;
        _this.starValueTxt = null;
        _this.conditionTxt = null;
        _this.progressTxt = null;
        _this.playerMsg = null;
        //@property(GameScene)
        _this.gameScene = null;
        _this.btnIndex = 0;
        _this.btnNames = ["开局6把刀", "开局加速", "免费表情", "", "", "", ""];
        _this.lookVidioKfIdDic = {};
        return _this;
        // update (dt) {}
    }
    MainUI_1 = MainUI;
    //@property(Player)
    //player: Player = null;
    // LIFE-CYCLE CALLBACKS:
    MainUI.prototype.onLoad = function () {
        this.basePos = cc.v2(-2500, 0);
    };
    MainUI.prototype.start = function () {
        var _this = this;
        this.node.position = cc.Vec2.ZERO;
        this.gameScene = GameManager_1.default.instance.gameScene.getComponent(GameScene_1.default);
        //var bgImgs:cc.SpriteFrame[] = GameManager.instance.bgImgs;
        //this.gameScene.bg.spriteFrame = bgImgs[Random.RangeInteger(0,bgImgs.length)];
        this.gameScene.player.node.parent = this.node;
        this.updateKnifeMsg();
        this.leftBtn.node.on(cc.Node.EventType.TOUCH_START, function (event) {
            if (_this.gameScene.player.knifeId > 1) {
                _this.gameScene.player.knifeId -= 1;
                _this.gameScene.player.getComponent(PlayerController_1.default).zoomRatio = 2;
                _this.gameScene.player.updateKnifesSkin();
                _this.gameScene.player.changeAttackState();
                //this.gameScene.bg.spriteFrame = bgImgs[Random.RangeInteger(0,bgImgs.length)];
                _this.updateKnifeMsg();
            }
        }, this);
        this.rightBtn.node.on(cc.Node.EventType.TOUCH_START, function (event) {
            if (_this.gameScene.player.knifeId < DataManager_1.default.instance.knifeConfigDatas.length) {
                _this.gameScene.player.knifeId += 1;
                _this.gameScene.player.getComponent(PlayerController_1.default).zoomRatio = 2;
                _this.gameScene.player.updateKnifesSkin();
                _this.gameScene.player.changeAttackState();
                //this.gameScene.bg.spriteFrame = bgImgs[Random.RangeInteger(0,bgImgs.length)];
                _this.updateKnifeMsg();
            }
        }, this);
        this.leftBtn.node.on(cc.Node.EventType.TOUCH_END, function (event) {
            _this.gameScene.player.changeDefenceState();
            _this.gameScene.player.getComponent(PlayerController_1.default).zoomRatio = 1;
        }, this);
        this.rightBtn.node.on(cc.Node.EventType.TOUCH_END, function (event) {
            _this.gameScene.player.changeDefenceState();
            _this.gameScene.player.getComponent(PlayerController_1.default).zoomRatio = 1;
        }, this);
        this.leftBtn.node.on(cc.Node.EventType.TOUCH_CANCEL, function (event) {
            _this.gameScene.player.changeDefenceState();
            _this.gameScene.player.getComponent(PlayerController_1.default).zoomRatio = 1;
        }, this);
        this.rightBtn.node.on(cc.Node.EventType.TOUCH_CANCEL, function (event) {
            _this.gameScene.player.changeDefenceState();
            _this.gameScene.player.getComponent(PlayerController_1.default).zoomRatio = 1;
        }, this);
        this.startBtn.node.on(cc.Node.EventType.TOUCH_END, function (event) {
            //this.gameScene.startGame();
            _this.gameScene.player.node.parent = _this.gameScene.node;
            ;
            UIManager_1.default.instance.matchingUI.open();
            _this.close();
            WXSdk_1.default.instance.removeBanner();
            cc.log("open matchingui");
            //WXSdk.instance.showBanner("adunit-d39672ca59cf15a2",{left:0,top:500,width:720});
        }, this);
        this.tryOutBtn.node.on(cc.Node.EventType.TOUCH_END, function (event) {
            var kfId = _this.gameScene.player.knifeId;
            WXSdk_1.default.instance.showVideo("adunit-82c0e31583967848", function (closeState) {
                if (closeState == 0) {
                    return;
                }
                //console.log("成功关闭视频 closeState ",closeState);
                _this.lookVidioKfIdDic[kfId] = true;
                _this.updateKnifeMsg();
            });
        }, this);
        this.addknifeBtn.node.on(cc.Node.EventType.TOUCH_START, function (event) {
            //UIManager.instance.wxOpenDataUI.openFriendRankUI();
            var index = _this.btnIndex;
            /*WXSdk.instance.showVideo("adunit-82c0e31583967848",(closeState:number)=>{

                console.log("成功关闭视频 closeState ",closeState);

            })*/
            WXSdk_1.default.instance.shareToAnyOne(function () {
                switch (index) {
                    case 0:
                        _this.gameScene.player.initKnife(6);
                        break;
                    case 1:
                        _this.gameScene.player.rocketItemEffect();
                        break;
                    case 2:
                        _this.gameScene.player.showface = true;
                        break;
                }
            }, function () { });
        }, this);
        this.lookBtn.node.on(cc.Node.EventType.TOUCH_END, function (event) {
            UIManager_1.default.instance.wxOpenDataUI.openRankUI();
        }, this);
        if (!WXSdk_1.default.instance.isWXPlatform()) {
            this.lookBtn.node.active = false;
        }
        this.planetSkinBtn.node.on(cc.Node.EventType.TOUCH_END, function (event) {
            //UIManager.instance.wxOpenDataUI.openFriendRankUI();
        }, this);
        this.playerMsg.on(cc.Node.EventType.TOUCH_START, function (event) {
            UIManager_1.default.instance.levelMessageUI.open();
        }, this);
        this.levelIcon.node.on(cc.Node.EventType.TOUCH_START, function (event) {
            UIManager_1.default.instance.levelMessageUI.open();
        }, this);
        if (WXSdk_1.default.instance.isWXPlatform()) {
            if (WXSdk_1.default.instance.isLogin) {
                this.onWxLogin();
            }
            else {
                this.playerMsg.getChildByName("NameTxt").getComponent(cc.Label).string = "";
                cc.systemEvent.on("wxLogin", this.onWxLogin, this);
            }
        }
        var levelId = DataManager_1.default.instance.getLevelId(DataManager_1.default.instance.getPlayerData().star);
        var leveCnfdatas = DataManager_1.default.instance.levelConfigDatas;
        if (levelId == leveCnfdatas.length) {
            this.starValueTxt.string = "" + DataManager_1.default.instance.getPlayerData().star;
        }
        else {
            this.starValueTxt.string = DataManager_1.default.instance.getPlayerData().star + "/" + leveCnfdatas[levelId].stars;
        }
        this.levelIcon.updatePlayerSkin();
        this.bntFlip();
        if (MainUI_1.startRightAway) {
            // this.startBtn.node.emit(cc.Node.EventType.TOUCH_START);
            if (UIManager_1.default.instance.tryOutUI.rewardType == TryOutUI_1.RewardType.none) {
                this.gameScene.player.node.parent = this.gameScene.node;
                ;
                UIManager_1.default.instance.matchingUI.open();
                this.close();
            }
            else {
                UIManager_1.default.instance.tryOutUI.closeCallback = function () {
                    _this.gameScene.player.node.parent = _this.gameScene.node;
                    ;
                    UIManager_1.default.instance.matchingUI.open();
                    _this.close();
                };
            }
            MainUI_1.startRightAway = false;
        }
    };
    MainUI.prototype.onWxLogin = function () {
        var _this = this;
        this.playerMsg.getChildByName("NameTxt").getComponent(cc.Label).string = WXSdk_1.default.instance.nickname;
        WXSdk_1.default.instance.getUserIcon(function (texture) {
            var headIcon = _this.playerMsg.getChildByName("Mask").getChildByName("HeadIcon").getComponent(cc.Sprite);
            headIcon.spriteFrame = new cc.SpriteFrame(texture);
        }, 64);
    };
    MainUI.prototype.onDestroy = function () {
        cc.systemEvent.off("wxLogin", this.onWxLogin, this);
    };
    MainUI.prototype.bntFlip = function () {
        var _this = this;
        this.schedule(function () {
            _this.btnIndex++;
            _this.btnIndex %= 3;
            _this.addknifeBtn.node.getChildByName("Background").getComponent(cc.Sprite).spriteFrame = _this.butSkins[_this.btnIndex];
            _this.addknifeBtn.node.getChildByName("TitleTxt").getComponent(cc.Label).string = _this.btnNames[_this.btnIndex];
            _this.addknifeBtn.node.position = cc.v2(-200, 0);
            _this.addknifeBtn.node.runAction(cc.moveTo(0.25, 0, 0));
        }, 3.6);
    };
    MainUI.prototype.selectKnife = function (knifeId) {
        this.gameScene.player.knifeId = knifeId;
        this.gameScene.player.updateKnifesSkin();
        this.gameScene.player.changeAttackState();
        this.updateKnifeMsg();
    };
    MainUI.prototype.updateKnifeMsg = function () {
        var knifeCnfData = DataManager_1.default.instance.getKnifeConfigData(this.gameScene.player.knifeId);
        var conditionData = this.getConditonData(knifeCnfData);
        var playerData = DataManager_1.default.instance.getPlayerData();
        this.conditionTxt.string = knifeCnfData.explain;
        this.progressTxt.node.color = this.gameScene.player.body.node.color;
        this.progressTxt.string = playerData[conditionData.key] + "/" + conditionData.value;
        //this.unlockStarTxt.string = playerData.star + "/" + conditionData.stars;
        if (conditionData.key == "") {
            this.conditionTxt.node.active = false;
            this.progressTxt.node.active = false;
            this.startBtn.node.active = true;
            this.tryOutBtn.node.active = false;
        }
        else {
            this.conditionTxt.node.active = true;
            this.progressTxt.node.active = true;
            if (playerData[conditionData.key] >= conditionData.value) {
                this.startBtn.node.active = true;
                this.tryOutBtn.node.active = false;
            }
            else {
                this.startBtn.node.active = false;
                this.tryOutBtn.node.active = true;
            }
            /*if(playerData.star >= conditionData.stars)
            {
                this.startBtn.node.active = true;
                this.tryOutBtn.node.active = false;
            }else
            {
                if(playerData[conditionData.key] >= conditionData.value)
                {
                    this.startBtn.node.active = true;
                    this.tryOutBtn.node.active = false;
                }else
                {
                    this.startBtn.node.active = false;
                    this.tryOutBtn.node.active = true;
                }
            }*/
        }
        if (this.lookVidioKfIdDic[this.gameScene.player.knifeId]) //该把飞刀是看过视频的，可以激活
         {
            this.startBtn.node.active = true;
            this.tryOutBtn.node.active = false;
        }
        if (UIManager_1.default.instance.tryOutUI.rewardType == TryOutUI_1.RewardType.kfskin) {
            if (this.gameScene.player.knifeId == UIManager_1.default.instance.tryOutUI.kfId) {
                this.startBtn.node.active = true;
                this.tryOutBtn.node.active = false;
            }
        }
    };
    MainUI.prototype.getConditonData = function (knifeCnfData) {
        var data = new ConditionData();
        data.id = knifeCnfData.id;
        data.explain = knifeCnfData.explain;
        data.stars = knifeCnfData.stars;
        for (var key in knifeCnfData) {
            if (key == "id" || key == "explain" || key == "stars") {
                continue;
            }
            if (knifeCnfData[key] != 0) {
                data.key = key;
                data.value = knifeCnfData[key];
                break;
            }
        }
        return data;
    };
    var MainUI_1;
    MainUI.startRightAway = false;
    __decorate([
        property(cc.Button)
    ], MainUI.prototype, "leftBtn", void 0);
    __decorate([
        property(cc.Button)
    ], MainUI.prototype, "rightBtn", void 0);
    __decorate([
        property(cc.Button)
    ], MainUI.prototype, "startBtn", void 0);
    __decorate([
        property(cc.Button)
    ], MainUI.prototype, "tryOutBtn", void 0);
    __decorate([
        property(cc.Button)
    ], MainUI.prototype, "addknifeBtn", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], MainUI.prototype, "butSkins", void 0);
    __decorate([
        property(cc.Button)
    ], MainUI.prototype, "lookBtn", void 0);
    __decorate([
        property(cc.Button)
    ], MainUI.prototype, "planetSkinBtn", void 0);
    __decorate([
        property(LevelIcon_1.default)
    ], MainUI.prototype, "levelIcon", void 0);
    __decorate([
        property(cc.Label)
    ], MainUI.prototype, "starValueTxt", void 0);
    __decorate([
        property(cc.Label)
    ], MainUI.prototype, "conditionTxt", void 0);
    __decorate([
        property(cc.Label)
    ], MainUI.prototype, "progressTxt", void 0);
    __decorate([
        property(cc.Node)
    ], MainUI.prototype, "playerMsg", void 0);
    MainUI = MainUI_1 = __decorate([
        ccclass
    ], MainUI);
    return MainUI;
}(BaseUI_1.default));
exports.default = MainUI;
var ConditionData = /** @class */ (function () {
    function ConditionData() {
        this.id = 0;
        this.explain = "";
        this.stars = 0;
        this.key = "";
        this.value = 0;
    }
    return ConditionData;
}());

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcbWFpblxcTWFpblVJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSx1REFBa0Q7QUFFbEQseUNBQW9DO0FBQ3BDLHNEQUFpRDtBQUVqRCxzREFBaUQ7QUFFakQsMENBQXFDO0FBQ3JDLHdDQUFtQztBQUVuQyxxRUFBZ0U7QUFDaEUseUNBQW9DO0FBQ3BDLHVDQUF3QztBQUV4QyxvQkFBb0I7QUFDcEIsa0ZBQWtGO0FBQ2xGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQW9DLDBCQUFNO0lBRDFDO1FBQUEscUVBZ2JDO1FBemFHLGFBQU8sR0FBYyxJQUFJLENBQUM7UUFHMUIsY0FBUSxHQUFjLElBQUksQ0FBQztRQUczQixjQUFRLEdBQWMsSUFBSSxDQUFDO1FBRzNCLGVBQVMsR0FBYyxJQUFJLENBQUM7UUFHNUIsaUJBQVcsR0FBYyxJQUFJLENBQUM7UUFHOUIsY0FBUSxHQUFxQixFQUFFLENBQUM7UUFHaEMsYUFBTyxHQUFjLElBQUksQ0FBQztRQUcxQixtQkFBYSxHQUFjLElBQUksQ0FBQztRQUdoQyxlQUFTLEdBQWMsSUFBSSxDQUFDO1FBRzVCLGtCQUFZLEdBQWEsSUFBSSxDQUFDO1FBRzlCLGtCQUFZLEdBQWEsSUFBSSxDQUFDO1FBRzlCLGlCQUFXLEdBQWEsSUFBSSxDQUFDO1FBRzdCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFFMUIsc0JBQXNCO1FBQ3RCLGVBQVMsR0FBYyxJQUFJLENBQUM7UUFHcEIsY0FBUSxHQUFVLENBQUMsQ0FBQztRQUVwQixjQUFRLEdBQVksQ0FBQyxPQUFPLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLENBQUMsQ0FBQztRQUd4RCxzQkFBZ0IsR0FBMEIsRUFBRSxDQUFDOztRQXlYckQsaUJBQWlCO0lBQ3JCLENBQUM7ZUEvYW9CLE1BQU07SUF3RHZCLG1CQUFtQjtJQUNuQix3QkFBd0I7SUFFeEIsd0JBQXdCO0lBRXhCLHVCQUFNLEdBQU47UUFFSSxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUVELHNCQUFLLEdBQUw7UUFBQSxpQkEwTkM7UUF4TkcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7UUFFbEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLG1CQUFTLENBQUMsQ0FBQztRQUV4RSw0REFBNEQ7UUFDNUQsK0VBQStFO1FBRy9FLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUU5QyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFHdEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBQyxVQUFDLEtBQUs7WUFFckQsSUFBRyxLQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsQ0FBQyxFQUNwQztnQkFDSSxLQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDO2dCQUNuQyxLQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsMEJBQWdCLENBQUMsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDO2dCQUNuRSxLQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO2dCQUN6QyxLQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO2dCQUUxQywrRUFBK0U7Z0JBQy9FLEtBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQzthQUN6QjtRQUVMLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztRQUVSLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUMsVUFBQyxLQUFLO1lBRXRELElBQUcsS0FBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsT0FBTyxHQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFDL0U7Z0JBQ0ksS0FBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsT0FBTyxJQUFJLENBQUMsQ0FBQztnQkFDbkMsS0FBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLDBCQUFnQixDQUFDLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQztnQkFDbkUsS0FBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztnQkFDekMsS0FBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztnQkFFMUMsK0VBQStFO2dCQUUvRSxLQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7YUFDekI7UUFDTCxDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFHUixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFDLFVBQUMsS0FBSztZQUVuRCxLQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1lBQzNDLEtBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQywwQkFBZ0IsQ0FBQyxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7UUFDdkUsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDO1FBRVIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBQyxVQUFDLEtBQUs7WUFFcEQsS0FBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztZQUMzQyxLQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsMEJBQWdCLENBQUMsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZFLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztRQUVSLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLEVBQUMsVUFBQyxLQUFLO1lBRXRELEtBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGtCQUFrQixFQUFFLENBQUM7WUFDM0MsS0FBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLDBCQUFnQixDQUFDLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQztRQUN2RSxDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFFUixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFDLFVBQUMsS0FBSztZQUV2RCxLQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1lBQzNDLEtBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQywwQkFBZ0IsQ0FBQyxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7UUFDdkUsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDO1FBR1IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBQyxVQUFDLEtBQUs7WUFFcEQsNkJBQTZCO1lBQzdCLEtBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7WUFBQSxDQUFDO1lBQ3pELG1CQUFTLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNyQyxLQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDYixlQUFLLENBQUMsUUFBUSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBQzlCLEVBQUUsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUMxQixrRkFBa0Y7UUFFdEYsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDO1FBRVIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBQyxVQUFDLEtBQUs7WUFFckQsSUFBSSxJQUFJLEdBQVUsS0FBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDO1lBRWhELGVBQUssQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLHlCQUF5QixFQUFDLFVBQUMsVUFBaUI7Z0JBRWpFLElBQUcsVUFBVSxJQUFJLENBQUMsRUFDbEI7b0JBQ0ksT0FBTztpQkFDVjtnQkFFRCwrQ0FBK0M7Z0JBQy9DLEtBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUM7Z0JBQ25DLEtBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUUxQixDQUFDLENBQUMsQ0FBQztRQUdQLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztRQUVSLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUMsVUFBQyxLQUFLO1lBRXpELHFEQUFxRDtZQUVyRCxJQUFJLEtBQUssR0FBVSxLQUFJLENBQUMsUUFBUSxDQUFDO1lBR2pDOzs7O2dCQUlJO1lBRUosZUFBSyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUM7Z0JBRXpCLFFBQU8sS0FBSyxFQUNaO29CQUNJLEtBQUssQ0FBQzt3QkFDRixLQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ3ZDLE1BQU07b0JBRU4sS0FBSyxDQUFDO3dCQUNGLEtBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUM7d0JBQzdDLE1BQU07b0JBRU4sS0FBSyxDQUFDO3dCQUNGLEtBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7d0JBQzFDLE1BQU07aUJBQ1Q7WUFFTCxDQUFDLEVBQUMsY0FBSyxDQUFDLENBQUMsQ0FBQztRQUVkLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztRQUVSLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUMsVUFBQyxLQUFLO1lBRW5ELG1CQUFTLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUVqRCxDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFFUixJQUFHLENBQUMsZUFBSyxDQUFDLFFBQVEsQ0FBQyxZQUFZLEVBQUUsRUFDakM7WUFDSSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1NBQ3BDO1FBRUQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBQyxVQUFDLEtBQUs7WUFFekQscURBQXFEO1FBRXpELENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztRQUVSLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBQyxVQUFDLEtBQUs7WUFFbEQsbUJBQVMsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxDQUFDO1FBRTdDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztRQUVSLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUMsVUFBQyxLQUFLO1lBRXZELG1CQUFTLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUU3QyxDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFHUixJQUFHLGVBQUssQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFLEVBQ2hDO1lBQ0ksSUFBRyxlQUFLLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFDekI7Z0JBQ0EsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO2FBQ2hCO2lCQUNEO2dCQUNJLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztnQkFDNUUsRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFDLElBQUksQ0FBQyxTQUFTLEVBQUMsSUFBSSxDQUFDLENBQUM7YUFDcEQ7U0FDSjtRQUdELElBQUksT0FBTyxHQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6RixJQUFJLFlBQVksR0FBRyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQztRQUV6RCxJQUFHLE9BQU8sSUFBSSxZQUFZLENBQUMsTUFBTSxFQUNqQztZQUNJLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFJLEVBQUUsR0FBRyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUM7U0FDOUU7YUFDRDtZQUNJLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFJLHFCQUFXLENBQUMsUUFBUSxDQUFDLGFBQWEsRUFBRSxDQUFDLElBQUksR0FBRyxHQUFHLEdBQUcsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssQ0FBQztTQUM3RztRQUVELElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUVsQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFFZixJQUFHLFFBQU0sQ0FBQyxjQUFjLEVBQ3hCO1lBQ0csMERBQTBEO1lBRzFELElBQUcsbUJBQVMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFVBQVUsSUFBSSxxQkFBVSxDQUFDLElBQUksRUFDNUQ7Z0JBQ0ssSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQztnQkFBQSxDQUFDO2dCQUN6RCxtQkFBUyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQ3JDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQzthQUNqQjtpQkFDRDtnQkFDSyxtQkFBUyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsYUFBYSxHQUFHO29CQUV4QyxLQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO29CQUFBLENBQUM7b0JBQ3pELG1CQUFTLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztvQkFDckMsS0FBSSxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUNqQixDQUFDLENBQUE7YUFDTDtZQUVELFFBQU0sQ0FBQyxjQUFjLEdBQUcsS0FBSyxDQUFDO1NBQ2hDO0lBRUwsQ0FBQztJQUVPLDBCQUFTLEdBQWpCO1FBQUEsaUJBVUM7UUFSRyxJQUFJLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sR0FBRyxlQUFLLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQztRQUNqRyxlQUFLLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxVQUFDLE9BQW9CO1lBRTVDLElBQUksUUFBUSxHQUFhLEtBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2xILFFBQVEsQ0FBQyxXQUFXLEdBQUcsSUFBSSxFQUFFLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRXZELENBQUMsRUFBQyxFQUFFLENBQUMsQ0FBQztJQUVWLENBQUM7SUFFRCwwQkFBUyxHQUFUO1FBRUksRUFBRSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLElBQUksQ0FBQyxTQUFTLEVBQUMsSUFBSSxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVNLHdCQUFPLEdBQWQ7UUFBQSxpQkFlQztRQVpHLElBQUksQ0FBQyxRQUFRLENBQUM7WUFFVixLQUFJLENBQUMsUUFBUSxFQUFHLENBQUM7WUFDakIsS0FBSSxDQUFDLFFBQVEsSUFBSSxDQUFDLENBQUM7WUFFbkIsS0FBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxHQUFHLEtBQUksQ0FBQyxRQUFRLENBQUMsS0FBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3RILEtBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sR0FBRyxLQUFJLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUc5RyxLQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBQyxDQUFDLENBQUMsQ0FBQztZQUMvQyxLQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekQsQ0FBQyxFQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ1YsQ0FBQztJQUVNLDRCQUFXLEdBQWxCLFVBQW1CLE9BQWM7UUFFN0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN4QyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQ3pDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFFMUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFTSwrQkFBYyxHQUFyQjtRQUVJLElBQUksWUFBWSxHQUFtQixxQkFBVyxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUUxRyxJQUFJLGFBQWEsR0FBaUIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUVyRSxJQUFJLFVBQVUsR0FBYyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUVqRSxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDO1FBQ2hELElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUNwRSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxhQUFhLENBQUMsS0FBSyxDQUFDO1FBQ3BGLDBFQUEwRTtRQUUxRSxJQUFHLGFBQWEsQ0FBQyxHQUFHLElBQUksRUFBRSxFQUMxQjtZQUNJLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDdEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUVyQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQ2pDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7U0FFdEM7YUFDRDtZQUNJLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDckMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUVwQyxJQUFHLFVBQVUsQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLElBQUksYUFBYSxDQUFDLEtBQUssRUFDdkQ7Z0JBQ0ksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztnQkFDakMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQzthQUN0QztpQkFDRDtnQkFDSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO2dCQUNsQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO2FBQ3JDO1lBRUQ7Ozs7Ozs7Ozs7Ozs7OztlQWVHO1NBQ047UUFFRCxJQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBRSxpQkFBaUI7U0FDMUU7WUFDSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQ2pDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7U0FDdEM7UUFHRCxJQUFHLG1CQUFTLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxVQUFVLElBQUkscUJBQVUsQ0FBQyxNQUFNLEVBQzlEO1lBQ0ksSUFBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQUksbUJBQVMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksRUFDcEU7Z0JBQ0ksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztnQkFDakMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQzthQUN0QztTQUNKO0lBR0wsQ0FBQztJQUdPLGdDQUFlLEdBQXZCLFVBQXdCLFlBQTRCO1FBR2hELElBQUksSUFBSSxHQUFpQixJQUFJLGFBQWEsRUFBRSxDQUFDO1FBQzdDLElBQUksQ0FBQyxFQUFFLEdBQUcsWUFBWSxDQUFDLEVBQUUsQ0FBQztRQUMxQixJQUFJLENBQUMsT0FBTyxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUM7UUFDcEMsSUFBSSxDQUFDLEtBQUssR0FBRyxZQUFZLENBQUMsS0FBSyxDQUFDO1FBRWhDLEtBQUksSUFBSSxHQUFHLElBQUksWUFBWSxFQUMzQjtZQUNJLElBQUcsR0FBRyxJQUFJLElBQUksSUFBSSxHQUFHLElBQUksU0FBUyxJQUFJLEdBQUcsSUFBSSxPQUFPLEVBQ3BEO2dCQUNJLFNBQVM7YUFDWjtZQUVELElBQUcsWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFDekI7Z0JBQ0ksSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7Z0JBQ2YsSUFBSSxDQUFDLEtBQUssR0FBRyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQy9CLE1BQU07YUFDVDtTQUNKO1FBRUQsT0FBTyxJQUFJLENBQUM7SUFFaEIsQ0FBQzs7SUF6YWEscUJBQWMsR0FBVyxLQUFLLENBQUM7SUFHN0M7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzsyQ0FDTTtJQUcxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzRDQUNPO0lBRzNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7NENBQ087SUFHM0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzs2Q0FDUTtJQUc1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOytDQUNVO0lBRzlCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7NENBQ087SUFHaEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzsyQ0FDTTtJQUcxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2lEQUNZO0lBR2hDO1FBREMsUUFBUSxDQUFDLG1CQUFTLENBQUM7NkNBQ1E7SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztnREFDVztJQUc5QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2dEQUNXO0lBRzlCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7K0NBQ1U7SUFHN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzs2Q0FDUTtJQTFDVCxNQUFNO1FBRDFCLE9BQU87T0FDYSxNQUFNLENBK2ExQjtJQUFELGFBQUM7Q0EvYUQsQUErYUMsQ0EvYW1DLGdCQUFNLEdBK2F6QztrQkEvYW9CLE1BQU07QUFpYjNCO0lBQUE7UUFFVyxPQUFFLEdBQVUsQ0FBQyxDQUFDO1FBQ2QsWUFBTyxHQUFVLEVBQUUsQ0FBQztRQUNwQixVQUFLLEdBQVUsQ0FBQyxDQUFDO1FBQ2pCLFFBQUcsR0FBVSxFQUFFLENBQUM7UUFDaEIsVUFBSyxHQUFVLENBQUMsQ0FBQztJQUU1QixDQUFDO0lBQUQsb0JBQUM7QUFBRCxDQVJBLEFBUUMsSUFBQSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEdWFuV2VpIGZyb20gXCIuL0R1YW5XZWlcIjtcclxuaW1wb3J0IEdhbWVTY2VuZSBmcm9tIFwiLi4vLi4vZ2FtZXNjZW5lL0dhbWVTY2VuZVwiO1xyXG5pbXBvcnQgUGxheWVyIGZyb20gXCIuLi8uLi9nYW1lc2NlbmUvUGxheWVyXCI7XHJcbmltcG9ydCBCYXNlVUkgZnJvbSBcIi4uL2Jhc2UvQmFzZVVJXCI7XHJcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi4vLi4vY29yZS9HYW1lTWFuYWdlclwiO1xyXG5pbXBvcnQgS25pZmVDb25maWdEYXRhIGZyb20gXCIuLi8uLi9jb25maWdkYXRhL0tuaWZlQ29uZmlnRGF0YVwiO1xyXG5pbXBvcnQgRGF0YU1hbmFnZXIgZnJvbSBcIi4uLy4uL2NvcmUvRGF0YU1hbmFnZXJcIjtcclxuaW1wb3J0IFBsYXllckRhdGEgZnJvbSBcIi4uLy4uL2RhdGEvUGxheWVyRGF0YVwiO1xyXG5pbXBvcnQgVUlNYW5hZ2VyIGZyb20gXCIuLi9VSU1hbmFnZXJcIjtcclxuaW1wb3J0IFdYU2RrIGZyb20gXCIuLi8uLi93eC9XWFNka1wiO1xyXG5pbXBvcnQgUmFuZG9tIGZyb20gXCIuLi8uLi91dGlsL1JhbmRvbVwiO1xyXG5pbXBvcnQgUGxheWVyQ29udHJvbGxlciBmcm9tIFwiLi4vLi4vZ2FtZXNjZW5lL1BsYXllckNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IExldmVsSWNvbiBmcm9tIFwiLi9MZXZlbEljb25cIjtcclxuaW1wb3J0IHsgUmV3YXJkVHlwZSB9IGZyb20gXCIuL1RyeU91dFVJXCI7XHJcblxyXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpblVJIGV4dGVuZHMgQmFzZVVJIHtcclxuXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzdGFydFJpZ2h0QXdheTpib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkJ1dHRvbilcclxuICAgIGxlZnRCdG46IGNjLkJ1dHRvbiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkJ1dHRvbilcclxuICAgIHJpZ2h0QnRuOiBjYy5CdXR0b24gPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5CdXR0b24pXHJcbiAgICBzdGFydEJ0bjogY2MuQnV0dG9uID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuQnV0dG9uKVxyXG4gICAgdHJ5T3V0QnRuOiBjYy5CdXR0b24gPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5CdXR0b24pXHJcbiAgICBhZGRrbmlmZUJ0bjogY2MuQnV0dG9uID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBidXRTa2luczogY2MuU3ByaXRlRnJhbWVbXSA9IFtdO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5CdXR0b24pXHJcbiAgICBsb29rQnRuOiBjYy5CdXR0b24gPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5CdXR0b24pXHJcbiAgICBwbGFuZXRTa2luQnRuOiBjYy5CdXR0b24gPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShMZXZlbEljb24pXHJcbiAgICBsZXZlbEljb246IExldmVsSWNvbiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgc3RhclZhbHVlVHh0OiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgY29uZGl0aW9uVHh0OiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgcHJvZ3Jlc3NUeHQ6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHBsYXllck1zZzogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgLy9AcHJvcGVydHkoR2FtZVNjZW5lKVxyXG4gICAgZ2FtZVNjZW5lOiBHYW1lU2NlbmUgPSBudWxsO1xyXG4gICAgXHJcblxyXG4gICAgcHJpdmF0ZSBidG5JbmRleDpudW1iZXIgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgYnRuTmFtZXM6c3RyaW5nW10gPSBbXCLlvIDlsYA25oqK5YiAXCIsXCLlvIDlsYDliqDpgJ9cIixcIuWFjei0ueihqOaDhVwiLFwiXCIsXCJcIixcIlwiLFwiXCJdO1xyXG5cclxuXHJcbiAgICBwcml2YXRlIGxvb2tWaWRpb0tmSWREaWM6e1trZXk6bnVtYmVyXTpib29sZWFufSA9IHt9O1xyXG5cclxuXHJcbiAgICAvL0Bwcm9wZXJ0eShQbGF5ZXIpXHJcbiAgICAvL3BsYXllcjogUGxheWVyID0gbnVsbDtcclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcbiAgICBvbkxvYWQgKCkge1xyXG5cclxuICAgICAgICB0aGlzLmJhc2VQb3MgPSBjYy52MigtMjUwMCwwKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMubm9kZS5wb3NpdGlvbiA9IGNjLlZlYzIuWkVSTztcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5nYW1lU2NlbmUuZ2V0Q29tcG9uZW50KEdhbWVTY2VuZSk7XHJcblxyXG4gICAgICAgIC8vdmFyIGJnSW1nczpjYy5TcHJpdGVGcmFtZVtdID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UuYmdJbWdzO1xyXG4gICAgICAgIC8vdGhpcy5nYW1lU2NlbmUuYmcuc3ByaXRlRnJhbWUgPSBiZ0ltZ3NbUmFuZG9tLlJhbmdlSW50ZWdlcigwLGJnSW1ncy5sZW5ndGgpXTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lLnBsYXllci5ub2RlLnBhcmVudCA9IHRoaXMubm9kZTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVLbmlmZU1zZygpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5sZWZ0QnRuLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsKGV2ZW50KT0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZih0aGlzLmdhbWVTY2VuZS5wbGF5ZXIua25pZmVJZCA+IDEpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZVNjZW5lLnBsYXllci5rbmlmZUlkIC09IDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVTY2VuZS5wbGF5ZXIuZ2V0Q29tcG9uZW50KFBsYXllckNvbnRyb2xsZXIpLnpvb21SYXRpbyA9IDI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVTY2VuZS5wbGF5ZXIudXBkYXRlS25pZmVzU2tpbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lU2NlbmUucGxheWVyLmNoYW5nZUF0dGFja1N0YXRlKCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vdGhpcy5nYW1lU2NlbmUuYmcuc3ByaXRlRnJhbWUgPSBiZ0ltZ3NbUmFuZG9tLlJhbmdlSW50ZWdlcigwLGJnSW1ncy5sZW5ndGgpXTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlS25pZmVNc2coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9LHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLnJpZ2h0QnRuLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsKGV2ZW50KT0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZih0aGlzLmdhbWVTY2VuZS5wbGF5ZXIua25pZmVJZCA8IERhdGFNYW5hZ2VyLmluc3RhbmNlLmtuaWZlQ29uZmlnRGF0YXMubGVuZ3RoKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVTY2VuZS5wbGF5ZXIua25pZmVJZCArPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lU2NlbmUucGxheWVyLmdldENvbXBvbmVudChQbGF5ZXJDb250cm9sbGVyKS56b29tUmF0aW8gPSAyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lU2NlbmUucGxheWVyLnVwZGF0ZUtuaWZlc1NraW4oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZVNjZW5lLnBsYXllci5jaGFuZ2VBdHRhY2tTdGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhpcy5nYW1lU2NlbmUuYmcuc3ByaXRlRnJhbWUgPSBiZ0ltZ3NbUmFuZG9tLlJhbmdlSW50ZWdlcigwLGJnSW1ncy5sZW5ndGgpXTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUtuaWZlTXNnKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LHRoaXMpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5sZWZ0QnRuLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELChldmVudCk9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU2NlbmUucGxheWVyLmNoYW5nZURlZmVuY2VTdGF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTY2VuZS5wbGF5ZXIuZ2V0Q29tcG9uZW50KFBsYXllckNvbnRyb2xsZXIpLnpvb21SYXRpbyA9IDE7XHJcbiAgICAgICAgfSx0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5yaWdodEJ0bi5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwoZXZlbnQpPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVNjZW5lLnBsYXllci5jaGFuZ2VEZWZlbmNlU3RhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU2NlbmUucGxheWVyLmdldENvbXBvbmVudChQbGF5ZXJDb250cm9sbGVyKS56b29tUmF0aW8gPSAxO1xyXG4gICAgICAgIH0sdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMubGVmdEJ0bi5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0NBTkNFTCwoZXZlbnQpPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVNjZW5lLnBsYXllci5jaGFuZ2VEZWZlbmNlU3RhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU2NlbmUucGxheWVyLmdldENvbXBvbmVudChQbGF5ZXJDb250cm9sbGVyKS56b29tUmF0aW8gPSAxO1xyXG4gICAgICAgIH0sdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMucmlnaHRCdG4ubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9DQU5DRUwsKGV2ZW50KT0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTY2VuZS5wbGF5ZXIuY2hhbmdlRGVmZW5jZVN0YXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVNjZW5lLnBsYXllci5nZXRDb21wb25lbnQoUGxheWVyQ29udHJvbGxlcikuem9vbVJhdGlvID0gMTtcclxuICAgICAgICB9LHRoaXMpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5zdGFydEJ0bi5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwoZXZlbnQpPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vdGhpcy5nYW1lU2NlbmUuc3RhcnRHYW1lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVNjZW5lLnBsYXllci5ub2RlLnBhcmVudCA9IHRoaXMuZ2FtZVNjZW5lLm5vZGU7O1xyXG4gICAgICAgICAgICBVSU1hbmFnZXIuaW5zdGFuY2UubWF0Y2hpbmdVSS5vcGVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgV1hTZGsuaW5zdGFuY2UucmVtb3ZlQmFubmVyKCk7XHJcbiAgICAgICAgICAgIGNjLmxvZyhcIm9wZW4gbWF0Y2hpbmd1aVwiKTtcclxuICAgICAgICAgICAgLy9XWFNkay5pbnN0YW5jZS5zaG93QmFubmVyKFwiYWR1bml0LWQzOTY3MmNhNTljZjE1YTJcIix7bGVmdDowLHRvcDo1MDAsd2lkdGg6NzIwfSk7XHJcblxyXG4gICAgICAgIH0sdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMudHJ5T3V0QnRuLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELChldmVudCk9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGtmSWQ6bnVtYmVyID0gdGhpcy5nYW1lU2NlbmUucGxheWVyLmtuaWZlSWQ7XHJcblxyXG4gICAgICAgICAgICBXWFNkay5pbnN0YW5jZS5zaG93VmlkZW8oXCJhZHVuaXQtODJjMGUzMTU4Mzk2Nzg0OFwiLChjbG9zZVN0YXRlOm51bWJlcik9PntcclxuXHJcbiAgICAgICAgICAgICAgICBpZihjbG9zZVN0YXRlID09IDApXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCLmiJDlip/lhbPpl63op4bpopEgY2xvc2VTdGF0ZSBcIixjbG9zZVN0YXRlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9va1ZpZGlvS2ZJZERpY1trZklkXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUtuaWZlTXNnKCk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgIH0sdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRka25pZmVCdG4ubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCwoZXZlbnQpPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vVUlNYW5hZ2VyLmluc3RhbmNlLnd4T3BlbkRhdGFVSS5vcGVuRnJpZW5kUmFua1VJKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgaW5kZXg6bnVtYmVyID0gdGhpcy5idG5JbmRleDtcclxuXHJcblxyXG4gICAgICAgICAgICAvKldYU2RrLmluc3RhbmNlLnNob3dWaWRlbyhcImFkdW5pdC04MmMwZTMxNTgzOTY3ODQ4XCIsKGNsb3NlU3RhdGU6bnVtYmVyKT0+e1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5oiQ5Yqf5YWz6Zet6KeG6aKRIGNsb3NlU3RhdGUgXCIsY2xvc2VTdGF0ZSk7XHJcblxyXG4gICAgICAgICAgICB9KSovXHJcblxyXG4gICAgICAgICAgICBXWFNkay5pbnN0YW5jZS5zaGFyZVRvQW55T25lKCgpPT57XHJcblxyXG4gICAgICAgICAgICAgICAgc3dpdGNoKGluZGV4KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lU2NlbmUucGxheWVyLmluaXRLbmlmZSg2KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVTY2VuZS5wbGF5ZXIucm9ja2V0SXRlbUVmZmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZVNjZW5lLnBsYXllci5zaG93ZmFjZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9LCgpPT57fSk7XHJcblxyXG4gICAgICAgIH0sdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9va0J0bi5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwoZXZlbnQpPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFVJTWFuYWdlci5pbnN0YW5jZS53eE9wZW5EYXRhVUkub3BlblJhbmtVSSgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9LHRoaXMpO1xyXG5cclxuICAgICAgICBpZighV1hTZGsuaW5zdGFuY2UuaXNXWFBsYXRmb3JtKCkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmxvb2tCdG4ubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucGxhbmV0U2tpbkJ0bi5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwoZXZlbnQpPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vVUlNYW5hZ2VyLmluc3RhbmNlLnd4T3BlbkRhdGFVSS5vcGVuRnJpZW5kUmFua1VJKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0sdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyTXNnLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULChldmVudCk9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgVUlNYW5hZ2VyLmluc3RhbmNlLmxldmVsTWVzc2FnZVVJLm9wZW4oKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSx0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5sZXZlbEljb24ubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCwoZXZlbnQpPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFVJTWFuYWdlci5pbnN0YW5jZS5sZXZlbE1lc3NhZ2VVSS5vcGVuKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0sdGhpcyk7XHJcblxyXG5cclxuICAgICAgICBpZihXWFNkay5pbnN0YW5jZS5pc1dYUGxhdGZvcm0oKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKFdYU2RrLmluc3RhbmNlLmlzTG9naW4pXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5vbld4TG9naW4oKTtcclxuICAgICAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNc2cuZ2V0Q2hpbGRCeU5hbWUoXCJOYW1lVHh0XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIGNjLnN5c3RlbUV2ZW50Lm9uKFwid3hMb2dpblwiLHRoaXMub25XeExvZ2luLHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICB2YXIgbGV2ZWxJZCA9IERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldExldmVsSWQoRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLnN0YXIpO1xyXG4gICAgICAgIHZhciBsZXZlQ25mZGF0YXMgPSBEYXRhTWFuYWdlci5pbnN0YW5jZS5sZXZlbENvbmZpZ0RhdGFzO1xyXG5cclxuICAgICAgICBpZihsZXZlbElkID09IGxldmVDbmZkYXRhcy5sZW5ndGgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJWYWx1ZVR4dC5zdHJpbmcgPSAgXCJcIiArIERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldFBsYXllckRhdGEoKS5zdGFyO1xyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJWYWx1ZVR4dC5zdHJpbmcgPSAgRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLnN0YXIgKyBcIi9cIiArIGxldmVDbmZkYXRhc1tsZXZlbElkXS5zdGFycztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGV2ZWxJY29uLnVwZGF0ZVBsYXllclNraW4oKTtcclxuXHJcbiAgICAgICAgdGhpcy5ibnRGbGlwKCk7XHJcblxyXG4gICAgICAgIGlmKE1haW5VSS5zdGFydFJpZ2h0QXdheSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgLy8gdGhpcy5zdGFydEJ0bi5ub2RlLmVtaXQoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQpO1xyXG5cclxuXHJcbiAgICAgICAgICAgaWYoVUlNYW5hZ2VyLmluc3RhbmNlLnRyeU91dFVJLnJld2FyZFR5cGUgPT0gUmV3YXJkVHlwZS5ub25lKVxyXG4gICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZVNjZW5lLnBsYXllci5ub2RlLnBhcmVudCA9IHRoaXMuZ2FtZVNjZW5lLm5vZGU7O1xyXG4gICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmluc3RhbmNlLm1hdGNoaW5nVUkub3BlbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmluc3RhbmNlLnRyeU91dFVJLmNsb3NlQ2FsbGJhY2sgPSAoKT0+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lU2NlbmUucGxheWVyLm5vZGUucGFyZW50ID0gdGhpcy5nYW1lU2NlbmUubm9kZTs7XHJcbiAgICAgICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmluc3RhbmNlLm1hdGNoaW5nVUkub3BlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgIE1haW5VSS5zdGFydFJpZ2h0QXdheSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbld4TG9naW4oKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMucGxheWVyTXNnLmdldENoaWxkQnlOYW1lKFwiTmFtZVR4dFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFdYU2RrLmluc3RhbmNlLm5pY2tuYW1lO1xyXG4gICAgICAgIFdYU2RrLmluc3RhbmNlLmdldFVzZXJJY29uKCh0ZXh0dXJlOmNjLlRleHR1cmUyRCk9PntcclxuXHJcbiAgICAgICAgICAgIHZhciBoZWFkSWNvbjpjYy5TcHJpdGUgPSB0aGlzLnBsYXllck1zZy5nZXRDaGlsZEJ5TmFtZShcIk1hc2tcIikuZ2V0Q2hpbGRCeU5hbWUoXCJIZWFkSWNvblwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcclxuICAgICAgICAgICAgaGVhZEljb24uc3ByaXRlRnJhbWUgPSBuZXcgY2MuU3ByaXRlRnJhbWUodGV4dHVyZSk7XHJcblxyXG4gICAgICAgIH0sNjQpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBvbkRlc3Ryb3koKVxyXG4gICAgeyBcclxuICAgICAgICBjYy5zeXN0ZW1FdmVudC5vZmYoXCJ3eExvZ2luXCIsdGhpcy5vbld4TG9naW4sdGhpcyk7ICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJudEZsaXAoKVxyXG4gICAge1xyXG5cclxuICAgICAgICB0aGlzLnNjaGVkdWxlKCgpPT57XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ0bkluZGV4ICsrO1xyXG4gICAgICAgICAgICB0aGlzLmJ0bkluZGV4ICU9IDM7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFkZGtuaWZlQnRuLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJCYWNrZ3JvdW5kXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5idXRTa2luc1t0aGlzLmJ0bkluZGV4XTtcclxuICAgICAgICAgICAgdGhpcy5hZGRrbmlmZUJ0bi5ub2RlLmdldENoaWxkQnlOYW1lKFwiVGl0bGVUeHRcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB0aGlzLmJ0bk5hbWVzW3RoaXMuYnRuSW5kZXhdO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuYWRka25pZmVCdG4ubm9kZS5wb3NpdGlvbiA9IGNjLnYyKC0yMDAsMCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRka25pZmVCdG4ubm9kZS5ydW5BY3Rpb24oY2MubW92ZVRvKDAuMjUsMCwwKSk7XHJcbiAgICAgICAgfSwzLjYpXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlbGVjdEtuaWZlKGtuaWZlSWQ6bnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lLnBsYXllci5rbmlmZUlkID0ga25pZmVJZDtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZS5wbGF5ZXIudXBkYXRlS25pZmVzU2tpbigpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lLnBsYXllci5jaGFuZ2VBdHRhY2tTdGF0ZSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMudXBkYXRlS25pZmVNc2coKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlS25pZmVNc2coKVxyXG4gICAge1xyXG4gICAgICAgIHZhciBrbmlmZUNuZkRhdGE6S25pZmVDb25maWdEYXRhID0gRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0S25pZmVDb25maWdEYXRhKHRoaXMuZ2FtZVNjZW5lLnBsYXllci5rbmlmZUlkKTtcclxuXHJcbiAgICAgICAgdmFyIGNvbmRpdGlvbkRhdGE6Q29uZGl0aW9uRGF0YSA9IHRoaXMuZ2V0Q29uZGl0b25EYXRhKGtuaWZlQ25mRGF0YSk7XHJcblxyXG4gICAgICAgIHZhciBwbGF5ZXJEYXRhOlBsYXllckRhdGEgPSBEYXRhTWFuYWdlci5pbnN0YW5jZS5nZXRQbGF5ZXJEYXRhKCk7XHJcblxyXG4gICAgICAgIHRoaXMuY29uZGl0aW9uVHh0LnN0cmluZyA9IGtuaWZlQ25mRGF0YS5leHBsYWluO1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NUeHQubm9kZS5jb2xvciA9IHRoaXMuZ2FtZVNjZW5lLnBsYXllci5ib2R5Lm5vZGUuY29sb3I7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc1R4dC5zdHJpbmcgPSBwbGF5ZXJEYXRhW2NvbmRpdGlvbkRhdGEua2V5XSArIFwiL1wiICsgY29uZGl0aW9uRGF0YS52YWx1ZTtcclxuICAgICAgICAvL3RoaXMudW5sb2NrU3RhclR4dC5zdHJpbmcgPSBwbGF5ZXJEYXRhLnN0YXIgKyBcIi9cIiArIGNvbmRpdGlvbkRhdGEuc3RhcnM7XHJcblxyXG4gICAgICAgIGlmKGNvbmRpdGlvbkRhdGEua2V5ID09IFwiXCIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmRpdGlvblR4dC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzVHh0Lm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0QnRuLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy50cnlPdXRCdG4ubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZGl0aW9uVHh0Lm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5wcm9ncmVzc1R4dC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBpZihwbGF5ZXJEYXRhW2NvbmRpdGlvbkRhdGEua2V5XSA+PSBjb25kaXRpb25EYXRhLnZhbHVlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0QnRuLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJ5T3V0QnRuLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRCdG4ubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJ5T3V0QnRuLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyppZihwbGF5ZXJEYXRhLnN0YXIgPj0gY29uZGl0aW9uRGF0YS5zdGFycylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEJ0bi5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyeU91dEJ0bi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZihwbGF5ZXJEYXRhW2NvbmRpdGlvbkRhdGEua2V5XSA+PSBjb25kaXRpb25EYXRhLnZhbHVlKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRCdG4ubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJ5T3V0QnRuLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRCdG4ubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyeU91dEJ0bi5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0qL1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5sb29rVmlkaW9LZklkRGljW3RoaXMuZ2FtZVNjZW5lLnBsYXllci5rbmlmZUlkXSkgLy/or6Xmiorpo57liIDmmK/nnIvov4fop4bpopHnmoTvvIzlj6/ku6Xmv4DmtLtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRCdG4ubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnRyeU91dEJ0bi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGlmKFVJTWFuYWdlci5pbnN0YW5jZS50cnlPdXRVSS5yZXdhcmRUeXBlID09IFJld2FyZFR5cGUua2Zza2luKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYodGhpcy5nYW1lU2NlbmUucGxheWVyLmtuaWZlSWQgPT0gVUlNYW5hZ2VyLmluc3RhbmNlLnRyeU91dFVJLmtmSWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRCdG4ubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cnlPdXRCdG4ubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGdldENvbmRpdG9uRGF0YShrbmlmZUNuZkRhdGE6S25pZmVDb25maWdEYXRhKTpDb25kaXRpb25EYXRhXHJcbiAgICB7XHJcblxyXG4gICAgICAgIHZhciBkYXRhOkNvbmRpdGlvbkRhdGEgPSBuZXcgQ29uZGl0aW9uRGF0YSgpO1xyXG4gICAgICAgIGRhdGEuaWQgPSBrbmlmZUNuZkRhdGEuaWQ7XHJcbiAgICAgICAgZGF0YS5leHBsYWluID0ga25pZmVDbmZEYXRhLmV4cGxhaW47XHJcbiAgICAgICAgZGF0YS5zdGFycyA9IGtuaWZlQ25mRGF0YS5zdGFycztcclxuXHJcbiAgICAgICAgZm9yKHZhciBrZXkgaW4ga25pZmVDbmZEYXRhKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoa2V5ID09IFwiaWRcIiB8fCBrZXkgPT0gXCJleHBsYWluXCIgfHwga2V5ID09IFwic3RhcnNcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKGtuaWZlQ25mRGF0YVtrZXldICE9IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGRhdGEua2V5ID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgZGF0YS52YWx1ZSA9IGtuaWZlQ25mRGF0YVtrZXldO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcblxyXG5jbGFzcyBDb25kaXRpb25EYXRhXHJcbntcclxuICAgIHB1YmxpYyBpZDpudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIGV4cGxhaW46c3RyaW5nID0gXCJcIjtcclxuICAgIHB1YmxpYyBzdGFyczpudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIGtleTpzdHJpbmcgPSBcIlwiO1xyXG4gICAgcHVibGljIHZhbHVlOm51bWJlciA9IDA7XHJcblxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/migration/use_v2.1-2.2.1_cc.Toggle_event.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '87d73Rjg9pBPb6kjyMw2liB', 'use_v2.1-2.2.1_cc.Toggle_event');
// migration/use_v2.1-2.2.1_cc.Toggle_event.js

"use strict";

/*
 * This script is automatically generated by Cocos Creator and is only used for projects compatible with the v2.1.0 ～ 2.2.1 version.
 * You do not need to manually add this script in any other project.
 * If you don't use cc.Toggle in your project, you can delete this script directly.
 * If your project is hosted in VCS such as git, submit this script together.
 *
 * 此脚本由 Cocos Creator 自动生成，仅用于兼容 v2.1.0 ~ 2.2.1 版本的工程，
 * 你无需在任何其它项目中手动添加此脚本。
 * 如果你的项目中没用到 Toggle，可直接删除该脚本。
 * 如果你的项目有托管于 git 等版本库，请将此脚本一并上传。
 */
if (cc.Toggle) {
  // Whether to trigger 'toggle' and 'checkEvents' events when modifying 'toggle.isChecked' in the code
  // 在代码中修改 'toggle.isChecked' 时是否触发 'toggle' 与 'checkEvents' 事件
  cc.Toggle._triggerEventInScript_isChecked = true;
}

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbWlncmF0aW9uXFx1c2VfdjIuMS0yLjIuMV9jYy5Ub2dnbGVfZXZlbnQuanMiXSwibmFtZXMiOlsiY2MiLCJUb2dnbGUiLCJfdHJpZ2dlckV2ZW50SW5TY3JpcHRfaXNDaGVja2VkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7OztBQVlBLElBQUlBLEVBQUUsQ0FBQ0MsTUFBUCxFQUFlO0FBQ1g7QUFDQTtBQUNBRCxFQUFBQSxFQUFFLENBQUNDLE1BQUgsQ0FBVUMsK0JBQVYsR0FBNEMsSUFBNUM7QUFDSCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIFRoaXMgc2NyaXB0IGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IENvY29zIENyZWF0b3IgYW5kIGlzIG9ubHkgdXNlZCBmb3IgcHJvamVjdHMgY29tcGF0aWJsZSB3aXRoIHRoZSB2Mi4xLjAg772eIDIuMi4xIHZlcnNpb24uXG4gKiBZb3UgZG8gbm90IG5lZWQgdG8gbWFudWFsbHkgYWRkIHRoaXMgc2NyaXB0IGluIGFueSBvdGhlciBwcm9qZWN0LlxuICogSWYgeW91IGRvbid0IHVzZSBjYy5Ub2dnbGUgaW4geW91ciBwcm9qZWN0LCB5b3UgY2FuIGRlbGV0ZSB0aGlzIHNjcmlwdCBkaXJlY3RseS5cbiAqIElmIHlvdXIgcHJvamVjdCBpcyBob3N0ZWQgaW4gVkNTIHN1Y2ggYXMgZ2l0LCBzdWJtaXQgdGhpcyBzY3JpcHQgdG9nZXRoZXIuXG4gKlxuICog5q2k6ISa5pys55SxIENvY29zIENyZWF0b3Ig6Ieq5Yqo55Sf5oiQ77yM5LuF55So5LqO5YW85a65IHYyLjEuMCB+IDIuMi4xIOeJiOacrOeahOW3peeoi++8jFxuICog5L2g5peg6ZyA5Zyo5Lu75L2V5YW25a6D6aG555uu5Lit5omL5Yqo5re75Yqg5q2k6ISa5pys44CCXG4gKiDlpoLmnpzkvaDnmoTpobnnm67kuK3msqHnlKjliLAgVG9nZ2xl77yM5Y+v55u05o6l5Yig6Zmk6K+l6ISa5pys44CCXG4gKiDlpoLmnpzkvaDnmoTpobnnm67mnInmiZjnrqHkuo4gZ2l0IOetieeJiOacrOW6k++8jOivt+WwhuatpOiEmuacrOS4gOW5tuS4iuS8oOOAglxuICovXG5cbmlmIChjYy5Ub2dnbGUpIHtcbiAgICAvLyBXaGV0aGVyIHRvIHRyaWdnZXIgJ3RvZ2dsZScgYW5kICdjaGVja0V2ZW50cycgZXZlbnRzIHdoZW4gbW9kaWZ5aW5nICd0b2dnbGUuaXNDaGVja2VkJyBpbiB0aGUgY29kZVxuICAgIC8vIOWcqOS7o+eggeS4reS/ruaUuSAndG9nZ2xlLmlzQ2hlY2tlZCcg5pe25piv5ZCm6Kem5Y+RICd0b2dnbGUnIOS4jiAnY2hlY2tFdmVudHMnIOS6i+S7tlxuICAgIGNjLlRvZ2dsZS5fdHJpZ2dlckV2ZW50SW5TY3JpcHRfaXNDaGVja2VkID0gdHJ1ZTtcbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/gamescene/PlayerAI.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'cbb8an4cWJIy7jTE63ZIcvD', 'PlayerAI');
// script/tscript/gamescene/PlayerAI.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Player_1 = require("./Player");
var Random_1 = require("../util/Random");
var GameManager_1 = require("../core/GameManager");
var GameScene_1 = require("./GameScene");
var Vector2_1 = require("../util/Vector2");
var Mathf_1 = require("../util/Mathf");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PlayerAILevel;
(function (PlayerAILevel) {
    PlayerAILevel[PlayerAILevel["none"] = 0] = "none";
    PlayerAILevel[PlayerAILevel["level1"] = 1] = "level1";
    PlayerAILevel[PlayerAILevel["level2"] = 2] = "level2";
    PlayerAILevel[PlayerAILevel["level3"] = 3] = "level3";
    PlayerAILevel[PlayerAILevel["level4"] = 4] = "level4";
})(PlayerAILevel = exports.PlayerAILevel || (exports.PlayerAILevel = {}));
var PlayerAI = /** @class */ (function (_super) {
    __extends(PlayerAI, _super);
    function PlayerAI() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.aiLevel = PlayerAILevel.level1;
        /**
         * AI指令
         */
        _this.cmd = new Command();
        _this.player = null;
        _this.timer = 0.01;
        /**
         * 警戒范围
         */
        _this.alertRange = 1250;
        _this.gameScene = null;
        return _this;
    }
    PlayerAI.prototype.onLoad = function () {
        this.gameScene = this.node.parent.getComponent(GameScene_1.default);
    };
    PlayerAI.prototype.start = function () {
        this.player = this.getComponent(Player_1.default);
        /*this.node.on(cc.Node.EventType.TOUCH_START,(event:cc.Event.EventTouch)=>{

            if(this.player.isAI)
            {
                this.node.active = !this.node.active;
            }
            
        },this);*/
        this.cmd.Reset();
    };
    PlayerAI.prototype.onGameStart = function () {
        this.player = this.getComponent(Player_1.default);
        if (this.aiLevel == PlayerAILevel.level1) {
            this.player.knifePool.initKnife(3);
        }
        else if (this.aiLevel == PlayerAILevel.level2) {
            this.player.knifePool.initKnife(4);
        }
        else if (this.aiLevel == PlayerAILevel.level3) {
            this.player.knifePool.initKnife(6);
        }
        else if (this.aiLevel == PlayerAILevel.level4) {
            this.player.knifePool.initKnife(8);
        }
        else {
            this.player.knifePool.initKnife(3);
        }
    };
    PlayerAI.prototype.update2 = function (dt) {
        if (GameManager_1.default.instance.gameStatus != GameManager_1.GameStatus.start) {
            this.player.moveDir = cc.Vec2.ZERO;
            return;
        }
        if (!this.player.isAI) {
            return;
        }
        this.timer -= dt;
        if (this.timer <= 0) {
            if (Random_1.default.Range(0, 1) < 0.25) {
                if (this.player.status != Player_1.PlayerStatus.defence) {
                    this.player.changeDefenceState();
                }
                this.player.moveDir = cc.Vec2.ZERO;
            }
            else {
                if (this.player.status != Player_1.PlayerStatus.attack) {
                    this.player.changeAttackState();
                }
                this.player.moveDir = cc.v2(Random_1.default.Range(-1, 1), Random_1.default.Range(-1, 1));
            }
            this.timer = Random_1.default.Range(1.0, 2.0);
        }
    };
    PlayerAI.prototype.update = function (dt) {
        if (GameManager_1.default.instance.gameStatus != GameManager_1.GameStatus.start) {
            this.player.stopMove();
            return;
        }
        if (!this.player.isAI) {
            return;
        }
        if (this.player.status == Player_1.PlayerStatus.die) {
            this.player.stopMove();
            return;
        }
        this.cmd.Update(dt);
        switch (this.cmd.type) {
            case CommandType.none:
                this.OnWhatToDoNext(dt);
                break;
            case CommandType.pickKnife:
                this.OnPickKnifeHandler(dt);
                break;
            case CommandType.patrol:
                this.OnPatrolHandler(dt);
                break;
            case CommandType.scared:
                this.OnScareHandler(dt);
                break;
            case CommandType.moveToTarget:
                this.OnMoveToTargetHandler(dt);
                break;
            case CommandType.run:
                this.OnRunHandler(dt);
                break;
            case CommandType.defenced:
                this.OnDefencedHandler(dt);
                break;
            case CommandType.outflank:
                this.OnOutflankHandler(dt);
                break;
            case CommandType.track:
                this.OnTrackHandler(dt);
                break;
            case CommandType.attack:
                this.OnAttackHandler(dt);
                break;
        }
    };
    /// <summary>
    /// 下一步做什么
    /// </summary>
    PlayerAI.prototype.OnWhatToDoNext = function (dt) {
        this.AnalysisEnvironment(dt);
    };
    /// <summary>
    /// 捡刀命令的处理
    /// </summary>
    PlayerAI.prototype.OnPickKnifeHandler = function (dt) {
        if (this.cmd.process == CommandProcess.none) {
            this.cmd.process = CommandProcess.execute;
            this.cmd.timer = Vector2_1.default.distance(this.player.node.position, this.cmd.targetPos) / this.player.getMoveSpeed();
            this.player.moveToTarget(this.cmd.targetPos);
        }
        if (this.cmd.process == CommandProcess.execute) {
        }
    };
    //巡逻时处理
    PlayerAI.prototype.OnPatrolHandler = function (dt) {
        if (this.cmd.process == CommandProcess.none) {
            this.cmd.process = CommandProcess.execute;
            //this.cmd.timer = Vector2.distance(this.player.node.position,this.cmd.targetPos) / this.player.getMoveSpeed();
            //this.player.moveToTarget(this.cmd.targetPos);
            this.cmd.timer = Random_1.default.Range(1, 2);
            this.player.moveDir = cc.v2(Random_1.default.Range(-1, 1), Random_1.default.Range(-1, 1)).normalize();
            this.player.changeAttackState();
        }
        if (this.cmd.process == CommandProcess.execute) {
            if (Vector2_1.default.distance(this.player.node.position, this.cmd.targetPos) <= this.player.getMoveSpeed() * dt) {
                this.cmd.process = CommandProcess.complete;
            }
        }
    };
    //惊吓时处理
    PlayerAI.prototype.OnScareHandler = function (dt) {
        if (this.cmd.process == CommandProcess.none) {
            this.cmd.process = CommandProcess.execute;
            this.cmd.timer = Random_1.default.Range(5.25, 6.75);
        }
        if (this.cmd.process == CommandProcess.execute) {
        }
    };
    /// <summary>
    /// 逃跑时处理
    /// </summary>
    PlayerAI.prototype.OnRunHandler = function (dt) {
        if (this.cmd.process == CommandProcess.none) {
            this.cmd.process = CommandProcess.execute;
            this.cmd.timer = Random_1.default.Range(3.25, 5.0);
            this.player.changeAttackState();
        }
        if (this.cmd.process == CommandProcess.execute) {
            this.player.moveDir = this.player.node.position.sub(this.cmd.targetPlayer.node.position).normalize();
        }
    };
    /// <summary>
    /// 防御状态
    /// </summary>
    PlayerAI.prototype.OnDefencedHandler = function (dt) {
        if (this.cmd.process == CommandProcess.none) {
            this.cmd.process = CommandProcess.execute;
            this.cmd.timer = Random_1.default.Range(2, 4);
            this.player.changeDefenceState();
            this.player.stopMove();
        }
        if (this.cmd.process == CommandProcess.execute) {
        }
    };
    /// <summary>
    /// 迂回战术
    /// </summary>
    PlayerAI.prototype.OnOutflankHandler = function (dt) {
        if (this.cmd.process == CommandProcess.none) {
            this.cmd.process = CommandProcess.execute;
            this.cmd.timer = Random_1.default.Range(5.25, 6.75);
        }
        if (this.cmd.process == CommandProcess.execute) {
        }
    };
    /// <summary>
    /// 跟踪目标
    /// </summary>
    PlayerAI.prototype.OnTrackHandler = function (dt) {
        if (this.cmd.process == CommandProcess.none) {
            this.cmd.process = CommandProcess.execute;
            this.cmd.timer = Random_1.default.Range(5.25, 6.75);
        }
        if (this.cmd.process == CommandProcess.execute) {
        }
    };
    //移动到目标处理
    PlayerAI.prototype.OnMoveToTargetHandler = function (dt) {
        if (this.cmd.process == CommandProcess.none) {
            this.cmd.process = CommandProcess.execute;
            this.cmd.timer = Random_1.default.Range(5.25, 6.75);
            this.player.changeAttackState();
        }
        if (this.cmd.process == CommandProcess.execute) {
        }
    };
    /// <summary>
    /// 移动到目标完成
    /// </summary>
    PlayerAI.prototype.OnMoveToTargetComplete = function (target) {
    };
    /// <summary>
    /// 目标进入攻击范围时
    /// </summary>
    /// <param name="target"></param>
    PlayerAI.prototype.OnTargetInAttackRange = function (target) {
    };
    /// <summary>
    /// 攻击处理
    /// </summary>
    PlayerAI.prototype.OnAttackHandler = function (dt) {
        if (this.cmd.process == CommandProcess.none) {
            this.cmd.process = CommandProcess.execute;
            this.cmd.timer = Random_1.default.Range(2.25, 3.5);
            this.player.changeAttackState();
        }
        if (this.cmd.process == CommandProcess.execute) {
            this.player.moveToTarget(this.cmd.targetPlayer.node.position);
            if (Vector2_1.default.distance(this.player.node.position, this.cmd.targetPos) <= this.player.getMoveSpeed() * dt) {
                this.cmd.process = CommandProcess.complete;
            }
        }
    };
    /// <summary>
    /// 分析环境
    /// </summary>
    PlayerAI.prototype.AnalysisEnvironment = function (dt) {
        this.cmd.Reset(); //重置指令
        this.cmd.timer = Random_1.default.Range(2.0, 3.6);
        switch (this.aiLevel) {
            case PlayerAILevel.level1:
                this.AnalysisEnvironment_Level1(dt);
                break;
            case PlayerAILevel.level2:
                this.AnalysisEnvironment_Level2(dt);
                break;
            case PlayerAILevel.level3:
                this.AnalysisEnvironment_Level3(dt);
                break;
            case PlayerAILevel.level4:
                this.AnalysisEnvironment_Level4(dt);
                break;
        }
    };
    PlayerAI.prototype.AnalysisEnvironment_Level1 = function (dt) {
        if (Mathf_1.default.probability(0.25)) {
            this.UseDefenseCmd();
        }
        else {
            this.UsePatrolCmd();
        }
    };
    PlayerAI.prototype.AnalysisEnvironment_Level2 = function (dt) {
        if (Mathf_1.default.probability(0.5)) {
            var lastPlayer = this.GetLastestPlayerInAlert(); //警戒范围距离最近的玩家
            var myKfLen = this.player.knifePool.knifes.length;
            if (lastPlayer != null) {
                var otherKflen = lastPlayer.knifePool.knifes.length;
                if (myKfLen - otherKflen > 0) {
                    if (myKfLen < 8) {
                        this.UsePickKnifeCmd();
                    }
                    else {
                        this.UseAttackCmd(lastPlayer);
                    }
                }
                else {
                    if (Mathf_1.default.probability(0.4)) {
                        this.UseDefenseCmd();
                    }
                    else {
                        this.UseRunCmd(lastPlayer);
                    }
                }
            }
            else {
                this.UsePickKnifeCmd();
            }
        }
        else {
            this.UsePatrolCmd();
        }
    };
    PlayerAI.prototype.AnalysisEnvironment_Level3 = function (dt) {
        if (Mathf_1.default.probability(0.7)) {
            var lastPlayer = this.GetLastestPlayerInAlert(); //警戒范围距离最近的玩家
            var myKfLen = this.player.knifePool.knifes.length;
            if (lastPlayer != null) {
                var otherKflen = lastPlayer.knifePool.knifes.length;
                if (myKfLen - otherKflen > 0) {
                    if (myKfLen < 8) {
                        this.UsePickKnifeCmd();
                    }
                    else {
                        this.UseAttackCmd(lastPlayer);
                    }
                }
                else {
                    if (Mathf_1.default.probability(0.4)) {
                        this.UseDefenseCmd();
                    }
                    else {
                        this.UseRunCmd(lastPlayer);
                    }
                }
            }
            else {
                this.UsePickKnifeCmd();
            }
        }
        else {
            this.UsePatrolCmd();
        }
    };
    PlayerAI.prototype.AnalysisEnvironment_Level4 = function (dt) {
        var lastPlayer = this.GetLastestPlayerInAlert(); //警戒范围距离最近的玩家
        var myKfLen = this.player.knifePool.knifes.length;
        if (lastPlayer != null) {
            var otherKflen = lastPlayer.knifePool.knifes.length;
            if (myKfLen - otherKflen > 2) {
                if (myKfLen < 10) {
                    this.UsePickKnifeCmd();
                }
                else {
                    this.UseAttackCmd(lastPlayer);
                }
            }
            else {
                if (Mathf_1.default.probability(0.4)) {
                    this.UseDefenseCmd();
                }
                else {
                    this.UseRunCmd(lastPlayer);
                }
            }
        }
        else {
            this.UsePickKnifeCmd();
        }
    };
    /// <summary>
    /// 获得距离最近的玩家
    /// </summary>
    PlayerAI.prototype.GetLastestPlayer = function () {
        var _this = this;
        var playerArr = this.gameScene.playerArr;
        var lastPlayer = null; //距离最近的玩家
        var dis = 0;
        playerArr.forEach(function (otherPlayer) {
            if (!otherPlayer)
                return;
            if (otherPlayer.status == Player_1.PlayerStatus.die)
                return;
            if (otherPlayer == _this.player)
                return;
            var dis2 = Vector2_1.default.distance(_this.player.node.position, otherPlayer.node.position); //Vector3.Distance(m_transform.position, player.node.position);
            if (dis == 0) {
                dis = dis2;
                lastPlayer = otherPlayer;
            }
            else {
                if (dis2 < dis) {
                    dis = dis2;
                    lastPlayer = otherPlayer;
                }
            }
        });
        return lastPlayer;
    };
    /// <summary>
    /// 获得警戒范围内距离最近的玩家
    /// </summary>
    PlayerAI.prototype.GetLastestPlayerInAlert = function () {
        var _this = this;
        var playerArr = this.gameScene.playerArr;
        var lastPlayer = null; //距离最近的玩家
        var dis = 0;
        playerArr.forEach(function (otherPlayer) {
            if (!otherPlayer)
                return;
            if (otherPlayer.status == Player_1.PlayerStatus.die)
                return;
            if (otherPlayer == _this.player)
                return;
            var dis2 = Vector2_1.default.distance(_this.player.node.position, otherPlayer.node.position); //Vector3.Distance(m_transform.position, player.node.position);
            if (dis2 < _this.alertRange) {
                if (dis == 0) {
                    dis = dis2;
                    lastPlayer = otherPlayer;
                }
                else {
                    if (dis2 < dis) {
                        dis = dis2;
                        lastPlayer = otherPlayer;
                    }
                }
            }
        });
        return lastPlayer;
    };
    /// <summary>
    /// 获得随机一个玩家
    /// </summary>
    PlayerAI.prototype.GetRandomPlayer = function () {
        var _this = this;
        var playerArr = this.gameScene.playerArr;
        var tempPlayer = null;
        var playerList = [];
        playerArr.forEach(function (otherPlayer) {
            if (!otherPlayer)
                return;
            if (otherPlayer.status == Player_1.PlayerStatus.die)
                return;
            if (otherPlayer == _this.player)
                return;
            playerList.push(otherPlayer);
        });
        if (playerList.length != 0)
            tempPlayer = playerList[Random_1.default.RangeInteger(0, playerList.length)];
        return tempPlayer;
    };
    /// <summary>
    /// 获得摄像机视野范围内随机一个点
    /// </summary>
    /// <returns></returns>
    PlayerAI.prototype.GetRandomPointInScene = function () {
        var halfWidth = this.gameScene.sceneSize.width / 2;
        var halfHeight = this.gameScene.sceneSize.height / 2;
        return cc.v2(Random_1.default.Range(-halfWidth, halfWidth), Random_1.default.Range(-halfHeight, halfHeight));
    };
    /// <summary>
    /// 获得场景内距离玩家最近的一把飞刀
    /// </summary>
    PlayerAI.prototype.GetLastestKnife = function () {
        var _this = this;
        var knifeArr = this.gameScene.knifeArr;
        var lastKnife = null;
        var dis = 0;
        var halfWidth = this.gameScene.sceneSize.width / 2;
        var halfHeight = this.gameScene.sceneSize.height / 2;
        knifeArr.forEach(function (knife) {
            if (knife.node.x < -halfWidth || knife.node.x > halfWidth || knife.node.x < -halfHeight || knife.node.y > halfHeight) {
                return;
            }
            var dis2 = Vector2_1.default.distance(_this.player.node.position, knife.node.position); //Vector3.Distance(m_transform.position, player.node.position);
            if (dis2 < _this.alertRange) {
                if (dis == 0) {
                    dis = dis2;
                    lastKnife = knife;
                }
                else {
                    if (dis2 < dis) {
                        dis = dis2;
                        lastKnife = knife;
                    }
                }
            }
        });
        return lastKnife;
    };
    /// <summary>
    /// 使用待机指令
    /// </summary>
    PlayerAI.prototype.UsePickKnifeCmd = function () {
        this.cmd.type = CommandType.pickKnife;
        var lastestKnife = this.GetLastestKnife();
        if (lastestKnife) {
            this.cmd.targetPos = lastestKnife.node.position;
        }
        else {
            this.cmd.targetPos = this.GetRandomPointInScene();
        }
    };
    /// <summary>
    /// 使用巡逻指令
    /// </summary>
    PlayerAI.prototype.UsePatrolCmd = function () {
        this.cmd.type = CommandType.patrol;
        this.cmd.targetPos = this.GetRandomPointInScene();
    };
    /// <summary>
    /// 使用防御指令
    /// </summary>
    PlayerAI.prototype.UseDefenseCmd = function () {
        this.cmd.type = CommandType.defenced;
        //this.cmd.targetPlayer = player;
        //this.cmd.targetPos = player.node.position;
    };
    /// <summary>
    /// 使用攻击指令
    /// </summary>
    PlayerAI.prototype.UseAttackCmd = function (player) {
        this.cmd.type = CommandType.attack;
        if (player != null) {
            //enemy.FaceToPosition(player.node.position);
            this.cmd.targetPlayer = player;
            this.cmd.targetPos = player.node.position;
        }
    };
    /// <summary>
    /// 使用攻击指令
    /// </summary>
    PlayerAI.prototype.UseRunCmd = function (player) {
        this.cmd.type = CommandType.run;
        if (player != null) {
            //enemy.FaceToPosition(player.node.position);
            this.cmd.targetPlayer = player;
            this.cmd.targetPos = player.node.position;
        }
    };
    /// <summary>
    /// 使用移动到目标指令
    /// </summary>
    PlayerAI.prototype.UseMoveToTargetCmd = function (player) {
        this.cmd.type = CommandType.moveToTarget;
        this.cmd.targetPlayer = player;
        this.cmd.targetPos = player.node.position;
    };
    /// <summary>
    /// 使用跟踪目标指令
    /// </summary>
    PlayerAI.prototype.UseTrackCmd = function (player) {
        this.cmd.type = CommandType.track;
        this.cmd.targetPlayer = player;
        this.cmd.targetPos = player.node.position;
    };
    PlayerAI = __decorate([
        ccclass
    ], PlayerAI);
    return PlayerAI;
}(cc.Component));
exports.default = PlayerAI;
/// <summary>
/// 指令数据
/// </summary>
var Command = /** @class */ (function () {
    function Command() {
        /// <summary>
        /// 
        /// </summary>
        this.roadPath = [];
        /// <summary>
        /// 指令执行时间
        /// </summary>
        this.timer = 0;
        this.cd = 0;
    }
    Command.prototype.Reset = function () {
        this.type = CommandType.none;
        this.targetPlayer = null;
        this.targetPos = cc.Vec2.ZERO;
        this.roadPath.length = 0;
        this.timer = 0;
        this.cd = 0;
        this.process = CommandProcess.none;
    };
    Command.prototype.Update = function (dt) {
        if (this.type == CommandType.moveToTarget || this.type == CommandType.outflank || this.type == CommandType.track) {
            if (!this.targetPlayer || this.targetPlayer.status == Player_1.PlayerStatus.die) //玩家已经不存在
                this.Reset();
        }
        if (this.process == CommandProcess.complete) {
            this.Reset();
        }
        else {
            if (this.timer > 0) {
                this.timer -= dt;
                if (this.timer <= 0) {
                    this.Reset();
                }
            }
        }
    };
    return Command;
}());
/// <summary>
/// 指令类型
/// </summary>
var CommandType;
(function (CommandType) {
    /// <summary>
    /// 不做任何事
    /// </summary>
    CommandType[CommandType["none"] = 0] = "none";
    /// <summary>
    /// 待机
    /// </summary>
    CommandType[CommandType["pickKnife"] = 1] = "pickKnife";
    /// <summary>
    /// 巡逻
    /// </summary>
    CommandType[CommandType["patrol"] = 2] = "patrol";
    /// <summary>
    /// 被惊吓
    /// </summary>
    CommandType[CommandType["scared"] = 3] = "scared";
    /// <summary>
    /// 移动到目标
    /// </summary>
    CommandType[CommandType["moveToTarget"] = 4] = "moveToTarget";
    /// <summary>
    /// 绕着走
    /// </summary>
    CommandType[CommandType["run"] = 5] = "run";
    /// <summary>
    /// 防御
    /// </summary>
    CommandType[CommandType["defenced"] = 6] = "defenced";
    /// <summary>
    /// 迂回
    /// </summary>
    CommandType[CommandType["outflank"] = 7] = "outflank";
    /// <summary>
    /// 跟踪
    /// </summary>
    CommandType[CommandType["track"] = 8] = "track";
    /// <summary>
    /// 组合攻击
    /// </summary>
    CommandType[CommandType["comboAttack"] = 100] = "comboAttack";
    /// <summary>
    /// 攻击1
    /// </summary>
    CommandType[CommandType["attack"] = 101] = "attack";
    /// <summary>
    /// 攻击2
    /// </summary>
    CommandType[CommandType["attack2"] = 102] = "attack2";
    /// <summary>
    /// 攻击3
    /// </summary>
    CommandType[CommandType["attack3"] = 103] = "attack3";
})(CommandType || (CommandType = {}));
/// <summary>
/// 指令进程
/// </summary>
var CommandProcess;
(function (CommandProcess) {
    /// <summary>
    /// 未执行
    /// </summary>
    CommandProcess[CommandProcess["none"] = 0] = "none";
    /// <summary>
    /// 执行中
    /// </summary>
    CommandProcess[CommandProcess["execute"] = 1] = "execute";
    /// <summary>
    /// 执行完成
    /// </summary>
    CommandProcess[CommandProcess["complete"] = 2] = "complete";
})(CommandProcess || (CommandProcess = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxnYW1lc2NlbmVcXFBsYXllckFJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxtQ0FBZ0Q7QUFDaEQseUNBQW9DO0FBQ3BDLG1EQUE4RDtBQUM5RCx5Q0FBb0M7QUFDcEMsMkNBQXNDO0FBQ3RDLHVDQUFrQztBQUdsQyxvQkFBb0I7QUFDcEIsa0ZBQWtGO0FBQ2xGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRTFDLElBQVksYUFPWDtBQVBELFdBQVksYUFBYTtJQUVyQixpREFBUSxDQUFBO0lBQ1IscURBQVUsQ0FBQTtJQUNWLHFEQUFVLENBQUE7SUFDVixxREFBVSxDQUFBO0lBQ1YscURBQVUsQ0FBQTtBQUNkLENBQUMsRUFQVyxhQUFhLEdBQWIscUJBQWEsS0FBYixxQkFBYSxRQU94QjtBQUdEO0lBQXNDLDRCQUFZO0lBRGxEO1FBQUEscUVBdXpCQztRQW56QlUsYUFBTyxHQUFpQixhQUFhLENBQUMsTUFBTSxDQUFDO1FBRXBEOztXQUVHO1FBQ0ksU0FBRyxHQUFXLElBQUksT0FBTyxFQUFFLENBQUM7UUFFNUIsWUFBTSxHQUFVLElBQUksQ0FBQztRQUdwQixXQUFLLEdBQVUsSUFBSSxDQUFDO1FBRTVCOztXQUVHO1FBQ0ksZ0JBQVUsR0FBVSxJQUFJLENBQUM7UUFFekIsZUFBUyxHQUFhLElBQUksQ0FBQzs7SUFreUJ0QyxDQUFDO0lBaHlCRyx5QkFBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsbUJBQVMsQ0FBQyxDQUFDO0lBQzlELENBQUM7SUFFRCx3QkFBSyxHQUFMO1FBRUksSUFB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QUNiLE9BQU87SUFDUCxjQUFjO0lBQ2QsbURBQVksQ0FBQTtJQUVaLGFBQWE7SUFDYixPQUFPO0lBQ1AsY0FBYztJQUNkLHFEQUFhLENBQUE7SUFFYixhQUFhO0lBQ2IsT0FBTztJQUNQLGNBQWM7SUFDZCxxREFBYSxDQUFBO0FBRWpCLENBQUMsRUFuRUksV0FBVyxLQUFYLFdBQVcsUUFtRWY7QUFFRCxhQUFhO0FBQ2IsUUFBUTtBQUNSLGNBQWM7QUFDZCxJQUFLLGNBZ0JKO0FBaEJELFdBQUssY0FBYztJQUVmLGFBQWE7SUFDYixPQUFPO0lBQ1AsY0FBYztJQUNkLG1EQUFRLENBQUE7SUFFUixhQUFhO0lBQ2IsT0FBTztJQUNQLGNBQWM7SUFDZCx5REFBVyxDQUFBO0lBRVgsYUFBYTtJQUNiLFFBQVE7SUFDUixjQUFjO0lBQ2QsMkRBQVksQ0FBQTtBQUNoQixDQUFDLEVBaEJJLGNBQWMsS0FBZCxjQUFjLFFBZ0JsQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQbGF5ZXIsIHsgUGxheWVyU3RhdHVzIH0gZnJvbSBcIi4vUGxheWVyXCI7XHJcbmltcG9ydCBSYW5kb20gZnJvbSBcIi4uL3V0aWwvUmFuZG9tXCI7XHJcbmltcG9ydCBHYW1lTWFuYWdlciwgeyBHYW1lU3RhdHVzIH0gZnJvbSBcIi4uL2NvcmUvR2FtZU1hbmFnZXJcIjtcclxuaW1wb3J0IEdhbWVTY2VuZSBmcm9tIFwiLi9HYW1lU2NlbmVcIjtcclxuaW1wb3J0IFZlY3RvcjIgZnJvbSBcIi4uL3V0aWwvVmVjdG9yMlwiO1xyXG5pbXBvcnQgTWF0aGYgZnJvbSBcIi4uL3V0aWwvTWF0aGZcIjtcclxuaW1wb3J0IEtuaWZlIGZyb20gXCIuL0tuaWZlXCI7XHJcblxyXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuZXhwb3J0IGVudW0gUGxheWVyQUlMZXZlbFxyXG57XHJcbiAgICBub25lID0gMCxcclxuICAgIGxldmVsMSA9IDEsXHJcbiAgICBsZXZlbDIgPSAyLFxyXG4gICAgbGV2ZWwzID0gMyxcclxuICAgIGxldmVsNCA9IDQsXHJcbn1cclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllckFJIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcblxyXG4gICAgcHVibGljIGFpTGV2ZWw6UGxheWVyQUlMZXZlbCA9IFBsYXllckFJTGV2ZWwubGV2ZWwxO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQUnmjIfku6RcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNtZDpDb21tYW5kID0gbmV3IENvbW1hbmQoKTtcclxuXHJcbiAgICBwdWJsaWMgcGxheWVyOlBsYXllciA9IG51bGw7XHJcblxyXG5cclxuICAgIHByaXZhdGUgdGltZXI6bnVtYmVyID0gMC4wMTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOitpuaIkuiMg+WbtFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWxlcnRSYW5nZTpudW1iZXIgPSAxMjUwO1xyXG5cclxuICAgIHB1YmxpYyBnYW1lU2NlbmU6R2FtZVNjZW5lID0gbnVsbDtcclxuXHJcbiAgICBvbkxvYWQgKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gdGhpcy5ub2RlLnBhcmVudC5nZXRDb21wb25lbnQoR2FtZVNjZW5lKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyID0gdGhpcy5nZXRDb21wb25lbnQoUGxheWVyKTtcclxuXHJcbiAgICAgICAgLyp0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsKGV2ZW50OmNjLkV2ZW50LkV2ZW50VG91Y2gpPT57XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLnBsYXllci5pc0FJKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gIXRoaXMubm9kZS5hY3RpdmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSx0aGlzKTsqL1xyXG5cclxuICAgICAgICB0aGlzLmNtZC5SZXNldCgpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25HYW1lU3RhcnQoKVxyXG4gICAge1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllciA9IHRoaXMuZ2V0Q29tcG9uZW50KFBsYXllcik7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuYWlMZXZlbCA9PSBQbGF5ZXJBSUxldmVsLmxldmVsMSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmtuaWZlUG9vbC5pbml0S25pZmUoMyk7XHJcbiAgICAgICAgfWVsc2UgaWYodGhpcy5haUxldmVsID09IFBsYXllckFJTGV2ZWwubGV2ZWwyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIua25pZmVQb29sLmluaXRLbmlmZSg0KTtcclxuICAgICAgICB9ZWxzZSBpZih0aGlzLmFpTGV2ZWwgPT0gUGxheWVyQUlMZXZlbC5sZXZlbDMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5rbmlmZVBvb2wuaW5pdEtuaWZlKDYpO1xyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuYWlMZXZlbCA9PSBQbGF5ZXJBSUxldmVsLmxldmVsNClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmtuaWZlUG9vbC5pbml0S25pZmUoOCk7XHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmtuaWZlUG9vbC5pbml0S25pZmUoMyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlMiAoZHQpIFxyXG4gICAge1xyXG4gICAgICAgIGlmKEdhbWVNYW5hZ2VyLmluc3RhbmNlLmdhbWVTdGF0dXMgIT0gR2FtZVN0YXR1cy5zdGFydClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLm1vdmVEaXIgPSBjYy5WZWMyLlpFUk87XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKCF0aGlzLnBsYXllci5pc0FJKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50aW1lciAtPSBkdDtcclxuICAgICAgICBcclxuICAgICAgICBpZih0aGlzLnRpbWVyIDw9IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZihSYW5kb20uUmFuZ2UoMCwxKSA8IDAuMjUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMucGxheWVyLnN0YXR1cyAhPSBQbGF5ZXJTdGF0dXMuZGVmZW5jZSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5jaGFuZ2VEZWZlbmNlU3RhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5tb3ZlRGlyID0gY2MuVmVjMi5aRVJPO1xyXG5cclxuICAgICAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLnBsYXllci5zdGF0dXMgIT0gUGxheWVyU3RhdHVzLmF0dGFjaylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5jaGFuZ2VBdHRhY2tTdGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLm1vdmVEaXIgPSBjYy52MihSYW5kb20uUmFuZ2UoLTEsMSksUmFuZG9tLlJhbmdlKC0xLDEpKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRpbWVyID0gUmFuZG9tLlJhbmdlKDEuMCwyLjApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlKGR0KTp2b2lkXHJcbiAgICB7XHJcblxyXG4gICAgICAgIGlmKEdhbWVNYW5hZ2VyLmluc3RhbmNlLmdhbWVTdGF0dXMgIT0gR2FtZVN0YXR1cy5zdGFydClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnN0b3BNb3ZlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKCF0aGlzLnBsYXllci5pc0FJKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiBcclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuc3RhdHVzID09IFBsYXllclN0YXR1cy5kaWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5zdG9wTW92ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB0aGlzLmNtZC5VcGRhdGUoZHQpO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHRoaXMuY21kLnR5cGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlLm5vbmU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLk9uV2hhdFRvRG9OZXh0KGR0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kVHlwZS5waWNrS25pZmU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLk9uUGlja0tuaWZlSGFuZGxlcihkdCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGUucGF0cm9sOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5PblBhdHJvbEhhbmRsZXIoZHQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlLnNjYXJlZDpcclxuICAgICAgICAgICAgICAgIHRoaXMuT25TY2FyZUhhbmRsZXIoZHQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlLm1vdmVUb1RhcmdldDpcclxuICAgICAgICAgICAgICAgIHRoaXMuT25Nb3ZlVG9UYXJnZXRIYW5kbGVyKGR0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kVHlwZS5ydW46XHJcbiAgICAgICAgICAgICAgICB0aGlzLk9uUnVuSGFuZGxlcihkdCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGUuZGVmZW5jZWQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLk9uRGVmZW5jZWRIYW5kbGVyKGR0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kVHlwZS5vdXRmbGFuazpcclxuICAgICAgICAgICAgICAgIHRoaXMuT25PdXRmbGFua0hhbmRsZXIoZHQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlLnRyYWNrOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5PblRyYWNrSGFuZGxlcihkdCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGUuYXR0YWNrOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5PbkF0dGFja0hhbmRsZXIoZHQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOS4i+S4gOatpeWBmuS7gOS5iFxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBPbldoYXRUb0RvTmV4dChkdClcclxuICAgIHtcclxuICAgICAgICB0aGlzLkFuYWx5c2lzRW52aXJvbm1lbnQoZHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDmjaHliIDlkb3ku6TnmoTlpITnkIZcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwdWJsaWMgT25QaWNrS25pZmVIYW5kbGVyKGR0Om51bWJlcilcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5jbWQucHJvY2VzcyA9PSBDb21tYW5kUHJvY2Vzcy5ub25lKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5jbWQucHJvY2VzcyA9IENvbW1hbmRQcm9jZXNzLmV4ZWN1dGU7XHJcbiAgICAgICAgICAgIHRoaXMuY21kLnRpbWVyID0gVmVjdG9yMi5kaXN0YW5jZSh0aGlzLnBsYXllci5ub2RlLnBvc2l0aW9uLHRoaXMuY21kLnRhcmdldFBvcykgLyB0aGlzLnBsYXllci5nZXRNb3ZlU3BlZWQoKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIubW92ZVRvVGFyZ2V0KHRoaXMuY21kLnRhcmdldFBvcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5jbWQucHJvY2VzcyA9PSBDb21tYW5kUHJvY2Vzcy5leGVjdXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8v5beh6YC75pe25aSE55CGXHJcbiAgICBwdWJsaWMgT25QYXRyb2xIYW5kbGVyKGR0Om51bWJlcilcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5jbWQucHJvY2VzcyA9PSBDb21tYW5kUHJvY2Vzcy5ub25lKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5jbWQucHJvY2VzcyA9IENvbW1hbmRQcm9jZXNzLmV4ZWN1dGU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvL3RoaXMuY21kLnRpbWVyID0gVmVjdG9yMi5kaXN0YW5jZSh0aGlzLnBsYXllci5ub2RlLnBvc2l0aW9uLHRoaXMuY21kLnRhcmdldFBvcykgLyB0aGlzLnBsYXllci5nZXRNb3ZlU3BlZWQoKTtcclxuICAgICAgICAgICAgLy90aGlzLnBsYXllci5tb3ZlVG9UYXJnZXQodGhpcy5jbWQudGFyZ2V0UG9zKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY21kLnRpbWVyID0gUmFuZG9tLlJhbmdlKDEsIDIpO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5tb3ZlRGlyID0gY2MudjIoUmFuZG9tLlJhbmdlKC0xLDEpLFJhbmRvbS5SYW5nZSgtMSwxKSkubm9ybWFsaXplKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5jaGFuZ2VBdHRhY2tTdGF0ZSgpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNtZC5wcm9jZXNzID09IENvbW1hbmRQcm9jZXNzLmV4ZWN1dGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoVmVjdG9yMi5kaXN0YW5jZSh0aGlzLnBsYXllci5ub2RlLnBvc2l0aW9uLHRoaXMuY21kLnRhcmdldFBvcykgPD0gdGhpcy5wbGF5ZXIuZ2V0TW92ZVNwZWVkKCkgKiBkdClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbWQucHJvY2VzcyA9IENvbW1hbmRQcm9jZXNzLmNvbXBsZXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v5oOK5ZCT5pe25aSE55CGXHJcbiAgICBwdWJsaWMgT25TY2FyZUhhbmRsZXIoZHQ6bnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLmNtZC5wcm9jZXNzID09IENvbW1hbmRQcm9jZXNzLm5vbmUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmNtZC5wcm9jZXNzID0gQ29tbWFuZFByb2Nlc3MuZXhlY3V0ZTtcclxuICAgICAgICAgICAgdGhpcy5jbWQudGltZXIgPSBSYW5kb20uUmFuZ2UoNS4yNSwgNi43NSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5jbWQucHJvY2VzcyA9PSBDb21tYW5kUHJvY2Vzcy5leGVjdXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOmAg+i3keaXtuWkhOeQhlxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBPblJ1bkhhbmRsZXIoZHQ6bnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLmNtZC5wcm9jZXNzID09IENvbW1hbmRQcm9jZXNzLm5vbmUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmNtZC5wcm9jZXNzID0gQ29tbWFuZFByb2Nlc3MuZXhlY3V0ZTtcclxuICAgICAgICAgICAgdGhpcy5jbWQudGltZXIgPSBSYW5kb20uUmFuZ2UoMy4yNSwgNS4wKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuY2hhbmdlQXR0YWNrU3RhdGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNtZC5wcm9jZXNzID09IENvbW1hbmRQcm9jZXNzLmV4ZWN1dGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5tb3ZlRGlyID0gdGhpcy5wbGF5ZXIubm9kZS5wb3NpdGlvbi5zdWIodGhpcy5jbWQudGFyZ2V0UGxheWVyLm5vZGUucG9zaXRpb24pLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g6Ziy5b6h54q25oCBXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljIE9uRGVmZW5jZWRIYW5kbGVyKGR0Om51bWJlcilcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5jbWQucHJvY2VzcyA9PSBDb21tYW5kUHJvY2Vzcy5ub25lKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5jbWQucHJvY2VzcyA9IENvbW1hbmRQcm9jZXNzLmV4ZWN1dGU7XHJcbiAgICAgICAgICAgIHRoaXMuY21kLnRpbWVyID0gUmFuZG9tLlJhbmdlKDIsIDQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuY2hhbmdlRGVmZW5jZVN0YXRlKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5zdG9wTW92ZSgpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNtZC5wcm9jZXNzID09IENvbW1hbmRQcm9jZXNzLmV4ZWN1dGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOi/guWbnuaImOacr1xyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBPbk91dGZsYW5rSGFuZGxlcihkdDpudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMuY21kLnByb2Nlc3MgPT0gQ29tbWFuZFByb2Nlc3Mubm9uZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY21kLnByb2Nlc3MgPSBDb21tYW5kUHJvY2Vzcy5leGVjdXRlO1xyXG4gICAgICAgICAgICB0aGlzLmNtZC50aW1lciA9IFJhbmRvbS5SYW5nZSg1LjI1LCA2Ljc1KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNtZC5wcm9jZXNzID09IENvbW1hbmRQcm9jZXNzLmV4ZWN1dGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g6Lef6Liq55uu5qCHXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljICBPblRyYWNrSGFuZGxlcihkdDpudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMuY21kLnByb2Nlc3MgPT0gQ29tbWFuZFByb2Nlc3Mubm9uZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY21kLnByb2Nlc3MgPSBDb21tYW5kUHJvY2Vzcy5leGVjdXRlO1xyXG4gICAgICAgICAgICB0aGlzLmNtZC50aW1lciA9IFJhbmRvbS5SYW5nZSg1LjI1LCA2Ljc1KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNtZC5wcm9jZXNzID09IENvbW1hbmRQcm9jZXNzLmV4ZWN1dGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+enu+WKqOWIsOebruagh+WkhOeQhlxyXG4gICAgcHVibGljIE9uTW92ZVRvVGFyZ2V0SGFuZGxlcihkdDpudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMuY21kLnByb2Nlc3MgPT0gQ29tbWFuZFByb2Nlc3Mubm9uZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY21kLnByb2Nlc3MgPSBDb21tYW5kUHJvY2Vzcy5leGVjdXRlO1xyXG4gICAgICAgICAgICB0aGlzLmNtZC50aW1lciA9IFJhbmRvbS5SYW5nZSg1LjI1LCA2Ljc1KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmNoYW5nZUF0dGFja1N0YXRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5jbWQucHJvY2VzcyA9PSBDb21tYW5kUHJvY2Vzcy5leGVjdXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOenu+WKqOWIsOebruagh+WujOaIkFxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBPbk1vdmVUb1RhcmdldENvbXBsZXRlKHRhcmdldDpQbGF5ZXIpXHJcbiAgICB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDnm67moIfov5vlhaXmlLvlh7vojIPlm7Tml7ZcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAvLy8gPHBhcmFtIG5hbWU9XCJ0YXJnZXRcIj48L3BhcmFtPlxyXG4gICAgcHVibGljIE9uVGFyZ2V0SW5BdHRhY2tSYW5nZSh0YXJnZXQ6UGxheWVyKVxyXG4gICAge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDmlLvlh7vlpITnkIZcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwdWJsaWMgT25BdHRhY2tIYW5kbGVyKGR0Om51bWJlcilcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5jbWQucHJvY2VzcyA9PSBDb21tYW5kUHJvY2Vzcy5ub25lKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5jbWQucHJvY2VzcyA9IENvbW1hbmRQcm9jZXNzLmV4ZWN1dGU7XHJcbiAgICAgICAgICAgIHRoaXMuY21kLnRpbWVyID0gUmFuZG9tLlJhbmdlKDIuMjUsIDMuNSk7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmNoYW5nZUF0dGFja1N0YXRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5jbWQucHJvY2VzcyA9PSBDb21tYW5kUHJvY2Vzcy5leGVjdXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIubW92ZVRvVGFyZ2V0KHRoaXMuY21kLnRhcmdldFBsYXllci5ub2RlLnBvc2l0aW9uKVxyXG5cclxuICAgICAgICAgICAgaWYgKFZlY3RvcjIuZGlzdGFuY2UodGhpcy5wbGF5ZXIubm9kZS5wb3NpdGlvbix0aGlzLmNtZC50YXJnZXRQb3MpIDw9IHRoaXMucGxheWVyLmdldE1vdmVTcGVlZCgpICogZHQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY21kLnByb2Nlc3MgPSBDb21tYW5kUHJvY2Vzcy5jb21wbGV0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g5YiG5p6Q546v5aKDXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHJvdGVjdGVkIEFuYWx5c2lzRW52aXJvbm1lbnQoZHQ6bnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY21kLlJlc2V0KCk7IC8v6YeN572u5oyH5LukXHJcbiAgICAgICAgdGhpcy5jbWQudGltZXIgPSBSYW5kb20uUmFuZ2UoMi4wLDMuNik7XHJcblxyXG4gICAgICAgIHN3aXRjaCh0aGlzLmFpTGV2ZWwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjYXNlIFBsYXllckFJTGV2ZWwubGV2ZWwxOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5BbmFseXNpc0Vudmlyb25tZW50X0xldmVsMShkdCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBQbGF5ZXJBSUxldmVsLmxldmVsMjpcclxuICAgICAgICAgICAgICAgIHRoaXMuQW5hbHlzaXNFbnZpcm9ubWVudF9MZXZlbDIoZHQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgUGxheWVyQUlMZXZlbC5sZXZlbDM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLkFuYWx5c2lzRW52aXJvbm1lbnRfTGV2ZWwzKGR0KTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFBsYXllckFJTGV2ZWwubGV2ZWw0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5BbmFseXNpc0Vudmlyb25tZW50X0xldmVsNChkdCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBBbmFseXNpc0Vudmlyb25tZW50X0xldmVsMShkdDpudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoTWF0aGYucHJvYmFiaWxpdHkoMC4yNSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLlVzZURlZmVuc2VDbWQoKTtcclxuXHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuVXNlUGF0cm9sQ21kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBBbmFseXNpc0Vudmlyb25tZW50X0xldmVsMihkdDpudW1iZXIpXHJcbiAgICB7XHJcblxyXG4gICAgICAgIGlmKE1hdGhmLnByb2JhYmlsaXR5KDAuNSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgbGFzdFBsYXllcjpQbGF5ZXIgPSB0aGlzLkdldExhc3Rlc3RQbGF5ZXJJbkFsZXJ0KCk7IC8v6K2m5oiS6IyD5Zu06Led56a75pyA6L+R55qE546p5a62XHJcbiAgICAgICAgICAgIHZhciBteUtmTGVuOm51bWJlciA9IHRoaXMucGxheWVyLmtuaWZlUG9vbC5rbmlmZXMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgaWYgKGxhc3RQbGF5ZXIgIT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmFyIG90aGVyS2ZsZW46bnVtYmVyID0gbGFzdFBsYXllci5rbmlmZVBvb2wua25pZmVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihteUtmTGVuIC0gb3RoZXJLZmxlbiA+IDApXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYobXlLZkxlbiA8IDgpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlVzZVBpY2tLbmlmZUNtZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlVzZUF0dGFja0NtZChsYXN0UGxheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKE1hdGhmLnByb2JhYmlsaXR5KDAuNCkpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlVzZURlZmVuc2VDbWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Vc2VSdW5DbWQobGFzdFBsYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Vc2VQaWNrS25pZmVDbWQoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5Vc2VQYXRyb2xDbWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIEFuYWx5c2lzRW52aXJvbm1lbnRfTGV2ZWwzKGR0Om51bWJlcilcclxuICAgIHtcclxuICAgICAgICBpZihNYXRoZi5wcm9iYWJpbGl0eSgwLjcpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RQbGF5ZXI6UGxheWVyID0gdGhpcy5HZXRMYXN0ZXN0UGxheWVySW5BbGVydCgpOyAvL+itpuaIkuiMg+WbtOi3neemu+acgOi/keeahOeOqeWutlxyXG4gICAgICAgICAgICB2YXIgbXlLZkxlbjpudW1iZXIgPSB0aGlzLnBsYXllci5rbmlmZVBvb2wua25pZmVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIGlmIChsYXN0UGxheWVyICE9IG51bGwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHZhciBvdGhlcktmbGVuOm51bWJlciA9IGxhc3RQbGF5ZXIua25pZmVQb29sLmtuaWZlcy5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYobXlLZkxlbiAtIG90aGVyS2ZsZW4gPiAwKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG15S2ZMZW4gPCA4KVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Vc2VQaWNrS25pZmVDbWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Vc2VBdHRhY2tDbWQobGFzdFBsYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihNYXRoZi5wcm9iYWJpbGl0eSgwLjQpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Vc2VEZWZlbnNlQ21kKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuVXNlUnVuQ21kKGxhc3RQbGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuVXNlUGlja0tuaWZlQ21kKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuVXNlUGF0cm9sQ21kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBBbmFseXNpc0Vudmlyb25tZW50X0xldmVsNChkdDpudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGxhc3RQbGF5ZXI6UGxheWVyID0gdGhpcy5HZXRMYXN0ZXN0UGxheWVySW5BbGVydCgpOyAvL+itpuaIkuiMg+WbtOi3neemu+acgOi/keeahOeOqeWutlxyXG5cclxuICAgICAgICB2YXIgbXlLZkxlbjpudW1iZXIgPSB0aGlzLnBsYXllci5rbmlmZVBvb2wua25pZmVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgaWYgKGxhc3RQbGF5ZXIgIT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBvdGhlcktmbGVuOm51bWJlciA9IGxhc3RQbGF5ZXIua25pZmVQb29sLmtuaWZlcy5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICBpZihteUtmTGVuIC0gb3RoZXJLZmxlbiA+IDIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKG15S2ZMZW4gPCAxMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLlVzZVBpY2tLbmlmZUNtZCgpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLlVzZUF0dGFja0NtZChsYXN0UGxheWVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYoTWF0aGYucHJvYmFiaWxpdHkoMC40KSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLlVzZURlZmVuc2VDbWQoKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Vc2VSdW5DbWQobGFzdFBsYXllcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuVXNlUGlja0tuaWZlQ21kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g6I635b6X6Led56a75pyA6L+R55qE546p5a62XHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljIEdldExhc3Rlc3RQbGF5ZXIoKTpQbGF5ZXJcclxuICAgIHtcclxuICAgICAgICB2YXIgcGxheWVyQXJyOkFycmF5PFBsYXllcj4gPSB0aGlzLmdhbWVTY2VuZS5wbGF5ZXJBcnI7XHJcblxyXG4gICAgICAgIHZhciBsYXN0UGxheWVyOlBsYXllciA9IG51bGw7IC8v6Led56a75pyA6L+R55qE546p5a62XHJcblxyXG4gICAgICAgIHZhciBkaXM6bnVtYmVyID0gMDtcclxuXHJcbiAgICAgICAgcGxheWVyQXJyLmZvckVhY2goKG90aGVyUGxheWVyOlBsYXllcik9PntcclxuXHJcbiAgICAgICAgICAgIGlmICghb3RoZXJQbGF5ZXIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpZiAob3RoZXJQbGF5ZXIuc3RhdHVzID09IFBsYXllclN0YXR1cy5kaWUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZihvdGhlclBsYXllciA9PSB0aGlzLnBsYXllcilcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHZhciBkaXMyOm51bWJlciA9IFZlY3RvcjIuZGlzdGFuY2UodGhpcy5wbGF5ZXIubm9kZS5wb3NpdGlvbixvdGhlclBsYXllci5ub2RlLnBvc2l0aW9uKTsgLy9WZWN0b3IzLkRpc3RhbmNlKG1fdHJhbnNmb3JtLnBvc2l0aW9uLCBwbGF5ZXIubm9kZS5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoZGlzID09IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGRpcyA9IGRpczI7XHJcbiAgICAgICAgICAgICAgICBsYXN0UGxheWVyID0gb3RoZXJQbGF5ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlzMiA8IGRpcylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXMgPSBkaXMyO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RQbGF5ZXIgPSBvdGhlclBsYXllcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGxhc3RQbGF5ZXI7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDojrflvpforabmiJLojIPlm7TlhoXot53nprvmnIDov5HnmoTnjqnlrrZcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwdWJsaWMgR2V0TGFzdGVzdFBsYXllckluQWxlcnQoKTpQbGF5ZXJcclxuICAgIHtcclxuICAgICAgICB2YXIgcGxheWVyQXJyOkFycmF5PFBsYXllcj4gPSB0aGlzLmdhbWVTY2VuZS5wbGF5ZXJBcnI7XHJcblxyXG4gICAgICAgIHZhciBsYXN0UGxheWVyOlBsYXllciA9IG51bGw7IC8v6Led56a75pyA6L+R55qE546p5a62XHJcblxyXG4gICAgICAgIHZhciBkaXM6bnVtYmVyID0gMDtcclxuXHJcbiAgICAgICAgcGxheWVyQXJyLmZvckVhY2goKG90aGVyUGxheWVyOlBsYXllcik9PntcclxuXHJcbiAgICAgICAgICAgIGlmICghb3RoZXJQbGF5ZXIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpZiAob3RoZXJQbGF5ZXIuc3RhdHVzID09IFBsYXllclN0YXR1cy5kaWUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZihvdGhlclBsYXllciA9PSB0aGlzLnBsYXllcilcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICB2YXIgZGlzMjpudW1iZXIgPSBWZWN0b3IyLmRpc3RhbmNlKHRoaXMucGxheWVyLm5vZGUucG9zaXRpb24sb3RoZXJQbGF5ZXIubm9kZS5wb3NpdGlvbik7IC8vVmVjdG9yMy5EaXN0YW5jZShtX3RyYW5zZm9ybS5wb3NpdGlvbiwgcGxheWVyLm5vZGUucG9zaXRpb24pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGRpczIgPCB0aGlzLmFsZXJ0UmFuZ2UpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChkaXMgPT0gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXMgPSBkaXMyO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RQbGF5ZXIgPSBvdGhlclBsYXllcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzMiA8IGRpcylcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcyA9IGRpczI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RQbGF5ZXIgPSBvdGhlclBsYXllcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBsYXN0UGxheWVyO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g6I635b6X6ZqP5py65LiA5Liq546p5a62XHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljIEdldFJhbmRvbVBsYXllcigpOlBsYXllclxyXG4gICAge1xyXG4gICAgICAgIHZhciBwbGF5ZXJBcnI6QXJyYXk8UGxheWVyPiA9IHRoaXMuZ2FtZVNjZW5lLnBsYXllckFycjtcclxuXHJcbiAgICAgICAgdmFyIHRlbXBQbGF5ZXI6UGxheWVyICA9IG51bGw7XHJcblxyXG4gICAgICAgIHZhciBwbGF5ZXJMaXN0OkFycmF5PFBsYXllcj4gPSBbXTtcclxuXHJcbiAgICAgICAgcGxheWVyQXJyLmZvckVhY2goKG90aGVyUGxheWVyOlBsYXllcik9PntcclxuICAgICAgICBcclxuICAgICAgICAgICAgaWYgKCFvdGhlclBsYXllcilcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGlmIChvdGhlclBsYXllci5zdGF0dXMgPT0gUGxheWVyU3RhdHVzLmRpZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGlmKG90aGVyUGxheWVyID09IHRoaXMucGxheWVyKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgcGxheWVyTGlzdC5wdXNoKG90aGVyUGxheWVyKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHBsYXllckxpc3QubGVuZ3RoICE9IDApXHJcbiAgICAgICAgICAgIHRlbXBQbGF5ZXIgPSBwbGF5ZXJMaXN0W1JhbmRvbS5SYW5nZUludGVnZXIoMCwgcGxheWVyTGlzdC5sZW5ndGgpXTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRlbXBQbGF5ZXI7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDojrflvpfmkYTlg4/mnLrop4bph47ojIPlm7TlhoXpmo/mnLrkuIDkuKrngrlcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAvLy8gPHJldHVybnM+PC9yZXR1cm5zPlxyXG4gICAgcHVibGljIEdldFJhbmRvbVBvaW50SW5TY2VuZSgpOmNjLlZlYzJcclxuICAgIHtcclxuXHJcbiAgICAgICAgdmFyIGhhbGZXaWR0aDpudW1iZXIgPSB0aGlzLmdhbWVTY2VuZS5zY2VuZVNpemUud2lkdGggLyAyO1xyXG4gICAgICAgIHZhciBoYWxmSGVpZ2h0Om51bWJlciA9IHRoaXMuZ2FtZVNjZW5lLnNjZW5lU2l6ZS5oZWlnaHQgLyAyO1xyXG5cclxuICAgICAgICByZXR1cm4gY2MudjIoUmFuZG9tLlJhbmdlKC1oYWxmV2lkdGgsaGFsZldpZHRoKSxSYW5kb20uUmFuZ2UoLWhhbGZIZWlnaHQsaGFsZkhlaWdodCkpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g6I635b6X5Zy65pmv5YaF6Led56a7546p5a625pyA6L+R55qE5LiA5oqK6aOe5YiAXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljIEdldExhc3Rlc3RLbmlmZSgpOktuaWZlXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGtuaWZlQXJyOkFycmF5PEtuaWZlPiA9IHRoaXMuZ2FtZVNjZW5lLmtuaWZlQXJyO1xyXG5cclxuICAgICAgICB2YXIgbGFzdEtuaWZlOktuaWZlID0gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIGRpczpudW1iZXIgPSAwO1xyXG5cclxuICAgICAgICB2YXIgaGFsZldpZHRoOm51bWJlciA9IHRoaXMuZ2FtZVNjZW5lLnNjZW5lU2l6ZS53aWR0aCAvIDI7XHJcbiAgICAgICAgdmFyIGhhbGZIZWlnaHQ6bnVtYmVyID0gdGhpcy5nYW1lU2NlbmUuc2NlbmVTaXplLmhlaWdodCAvIDI7XHJcblxyXG4gICAgICAgIGtuaWZlQXJyLmZvckVhY2goKGtuaWZlOktuaWZlKT0+e1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICAgICAgaWYoa25pZmUubm9kZS54IDwgLWhhbGZXaWR0aCB8fCBrbmlmZS5ub2RlLnggPiBoYWxmV2lkdGggfHwga25pZmUubm9kZS54IDwgLWhhbGZIZWlnaHQgfHwga25pZmUubm9kZS55ID4gaGFsZkhlaWdodClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgZGlzMjpudW1iZXIgPSBWZWN0b3IyLmRpc3RhbmNlKHRoaXMucGxheWVyLm5vZGUucG9zaXRpb24sa25pZmUubm9kZS5wb3NpdGlvbik7IC8vVmVjdG9yMy5EaXN0YW5jZShtX3RyYW5zZm9ybS5wb3NpdGlvbiwgcGxheWVyLm5vZGUucG9zaXRpb24pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGRpczIgPCB0aGlzLmFsZXJ0UmFuZ2UpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChkaXMgPT0gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXMgPSBkaXMyO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RLbmlmZSA9IGtuaWZlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXMyIDwgZGlzKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzID0gZGlzMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEtuaWZlID0ga25pZmU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBsYXN0S25pZmU7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g5L2/55So5b6F5py65oyH5LukXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljICBVc2VQaWNrS25pZmVDbWQoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY21kLnR5cGUgPSBDb21tYW5kVHlwZS5waWNrS25pZmU7XHJcblxyXG4gICAgICAgIHZhciBsYXN0ZXN0S25pZmU6S25pZmUgPSB0aGlzLkdldExhc3Rlc3RLbmlmZSgpO1xyXG5cclxuICAgICAgICBpZihsYXN0ZXN0S25pZmUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmNtZC50YXJnZXRQb3MgPSBsYXN0ZXN0S25pZmUubm9kZS5wb3NpdGlvbjtcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5jbWQudGFyZ2V0UG9zID0gdGhpcy5HZXRSYW5kb21Qb2ludEluU2NlbmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDkvb/nlKjlt6HpgLvmjIfku6RcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwcm90ZWN0ZWQgIFVzZVBhdHJvbENtZCgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5jbWQudHlwZSA9IENvbW1hbmRUeXBlLnBhdHJvbDtcclxuICAgICAgICB0aGlzLmNtZC50YXJnZXRQb3MgPSB0aGlzLkdldFJhbmRvbVBvaW50SW5TY2VuZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDkvb/nlKjpmLLlvqHmjIfku6RcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwcm90ZWN0ZWQgIFVzZURlZmVuc2VDbWQoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY21kLnR5cGUgPSBDb21tYW5kVHlwZS5kZWZlbmNlZDtcclxuICAgICAgICAvL3RoaXMuY21kLnRhcmdldFBsYXllciA9IHBsYXllcjtcclxuICAgICAgICAvL3RoaXMuY21kLnRhcmdldFBvcyA9IHBsYXllci5ub2RlLnBvc2l0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDkvb/nlKjmlLvlh7vmjIfku6RcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwcm90ZWN0ZWQgIFVzZUF0dGFja0NtZChwbGF5ZXI6UGxheWVyKVxyXG4gICAge1xyXG5cclxuICAgICAgICB0aGlzLmNtZC50eXBlID0gQ29tbWFuZFR5cGUuYXR0YWNrO1xyXG5cclxuICAgICAgICBpZiAocGxheWVyICE9IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL2VuZW15LkZhY2VUb1Bvc2l0aW9uKHBsYXllci5ub2RlLnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5jbWQudGFyZ2V0UGxheWVyID0gcGxheWVyO1xyXG4gICAgICAgICAgICB0aGlzLmNtZC50YXJnZXRQb3MgPSBwbGF5ZXIubm9kZS5wb3NpdGlvbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOS9v+eUqOaUu+WHu+aMh+S7pFxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHByb3RlY3RlZCAgVXNlUnVuQ21kKHBsYXllcjpQbGF5ZXIpXHJcbiAgICB7XHJcblxyXG4gICAgICAgIHRoaXMuY21kLnR5cGUgPSBDb21tYW5kVHlwZS5ydW47XHJcblxyXG4gICAgICAgIGlmIChwbGF5ZXIgIT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vZW5lbXkuRmFjZVRvUG9zaXRpb24ocGxheWVyLm5vZGUucG9zaXRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLmNtZC50YXJnZXRQbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICAgICAgICAgIHRoaXMuY21kLnRhcmdldFBvcyA9IHBsYXllci5ub2RlLnBvc2l0aW9uO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g5L2/55So56e75Yqo5Yiw55uu5qCH5oyH5LukXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHJvdGVjdGVkICBVc2VNb3ZlVG9UYXJnZXRDbWQocGxheWVyOlBsYXllcilcclxuICAgIHtcclxuICAgICAgICB0aGlzLmNtZC50eXBlID0gQ29tbWFuZFR5cGUubW92ZVRvVGFyZ2V0O1xyXG4gICAgICAgIHRoaXMuY21kLnRhcmdldFBsYXllciA9IHBsYXllcjtcclxuICAgICAgICB0aGlzLmNtZC50YXJnZXRQb3MgPSBwbGF5ZXIubm9kZS5wb3NpdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g5L2/55So6Lef6Liq55uu5qCH5oyH5LukXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHJvdGVjdGVkICBVc2VUcmFja0NtZChwbGF5ZXI6UGxheWVyKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY21kLnR5cGUgPSBDb21tYW5kVHlwZS50cmFjaztcclxuICAgICAgICB0aGlzLmNtZC50YXJnZXRQbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICAgICAgdGhpcy5jbWQudGFyZ2V0UG9zID0gcGxheWVyLm5vZGUucG9zaXRpb247XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbn1cclxuXHJcbi8vLyA8c3VtbWFyeT5cclxuLy8vIOaMh+S7pOaVsOaNrlxyXG4vLy8gPC9zdW1tYXJ5PlxyXG5cclxuY2xhc3MgIENvbW1hbmRcclxue1xyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDmjIfku6TnsbvlnotcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwdWJsaWMgdHlwZTpDb21tYW5kVHlwZTtcclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g55uu5qCH546p5a625a+56LGhXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljIHRhcmdldFBsYXllcjpQbGF5ZXI7XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOebruagh+eCuVxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyB0YXJnZXRQb3M6Y2MuVmVjMjtcclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8gXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljIHJvYWRQYXRoOmNjLlZlYzJbXSA9IFtdO1xyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDmjIfku6TmiafooYzml7bpl7RcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwdWJsaWMgdGltZXI6bnVtYmVyID0gMDtcclxuXHJcbiAgICBwdWJsaWMgY2Q6bnVtYmVyID0gMDtcclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g5omn6KGM6L+b56iLXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljIHByb2Nlc3M6Q29tbWFuZFByb2Nlc3M7XHJcblxyXG4gICAgcHVibGljIFJlc2V0KClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnR5cGUgPSBDb21tYW5kVHlwZS5ub25lO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0UGxheWVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLnRhcmdldFBvcyA9IGNjLlZlYzIuWkVSTztcclxuICAgICAgICB0aGlzLnJvYWRQYXRoLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgdGhpcy50aW1lciA9IDA7XHJcbiAgICAgICAgdGhpcy5jZCA9IDA7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzID0gQ29tbWFuZFByb2Nlc3Mubm9uZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgVXBkYXRlKGR0Om51bWJlcilcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLnR5cGUgPT0gQ29tbWFuZFR5cGUubW92ZVRvVGFyZ2V0IHx8IHRoaXMudHlwZSA9PSBDb21tYW5kVHlwZS5vdXRmbGFuayB8fCB0aGlzLnR5cGUgPT0gQ29tbWFuZFR5cGUudHJhY2spXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZighdGhpcy50YXJnZXRQbGF5ZXIgfHwgdGhpcy50YXJnZXRQbGF5ZXIuc3RhdHVzID09IFBsYXllclN0YXR1cy5kaWUpIC8v546p5a625bey57uP5LiN5a2Y5ZyoXHJcbiAgICAgICAgICAgICAgICB0aGlzLlJlc2V0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9jZXNzID09IENvbW1hbmRQcm9jZXNzLmNvbXBsZXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5SZXNldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lciA+IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGltZXIgLT0gZHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGltZXIgPD0gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLlJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vLyA8c3VtbWFyeT5cclxuLy8vIOaMh+S7pOexu+Wei1xyXG4vLy8gPC9zdW1tYXJ5PlxyXG5lbnVtIENvbW1hbmRUeXBlXHJcbntcclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDkuI3lgZrku7vkvZXkuotcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBub25lID0gMCxcclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g5b6F5py6XHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcGlja0tuaWZlID0gMSxcclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g5beh6YC7XHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcGF0cm9sID0gMixcclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g6KKr5oOK5ZCTXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgc2NhcmVkID0gMyxcclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g56e75Yqo5Yiw55uu5qCHXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgbW92ZVRvVGFyZ2V0ID0gNCxcclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g57uV552A6LWwXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcnVuID0gNSxcclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g6Ziy5b6hXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgZGVmZW5jZWQgPSA2LFxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDov4Llm55cclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBvdXRmbGFuayA9IDcsXHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOi3n+i4qlxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHRyYWNrID0gOCxcclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g57uE5ZCI5pS75Ye7XHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgY29tYm9BdHRhY2sgPSAxMDAsXHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOaUu+WHuzFcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBhdHRhY2sgPSAxMDEsXHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOaUu+WHuzJcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBhdHRhY2syID0gMTAyLFxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDmlLvlh7szXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgYXR0YWNrMyA9IDEwMyxcclxuXHJcbn1cclxuXHJcbi8vLyA8c3VtbWFyeT5cclxuLy8vIOaMh+S7pOi/m+eoi1xyXG4vLy8gPC9zdW1tYXJ5PlxyXG5lbnVtIENvbW1hbmRQcm9jZXNzXHJcbntcclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDmnKrmiafooYxcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBub25lID0gMCxcclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g5omn6KGM5LitXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgZXhlY3V0ZSA9IDEsXHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOaJp+ihjOWujOaIkFxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIGNvbXBsZXRlID0gMlxyXG59XHJcblxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/wx/WXSdk.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6fc6cQqMv9MxZ9wzJ8S3raM', 'WXSdk');
// script/tscript/wx/WXSdk.ts

Object.defineProperty(exports, "__esModule", { value: true });
var SystemTools_1 = require("./SystemTools");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 用户授权状态
 */
var AuthorizeStatus;
(function (AuthorizeStatus) {
    /**
     * 未申请授权
     */
    AuthorizeStatus[AuthorizeStatus["none"] = 0] = "none";
    /**
     * 拒绝授权
     */
    AuthorizeStatus[AuthorizeStatus["refuse"] = 1] = "refuse";
    /**
     * 同意授权
     */
    AuthorizeStatus[AuthorizeStatus["agree"] = 2] = "agree";
})(AuthorizeStatus = exports.AuthorizeStatus || (exports.AuthorizeStatus = {}));
var WXSdk = /** @class */ (function (_super) {
    __extends(WXSdk, _super);
    function WXSdk() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        //public url:string = "http://127.0.0.1:8080/knife/login";
        _this.url = "https://127.0.0.1/knife/login";
        _this.worldRankUrl = "https://127.0.0.1/knife/update-best-score";
        _this.worldRankUrl2 = "https://127.0.0.1/knife/world/";
        _this.appid = "wx472e16802f66329a"; // 小程序 appId
        _this.secret = ""; // 小程序 appSecret
        _this.grant_type = "authorization_code"; //填写为 authorization_code
        _this._authorizeStatus = AuthorizeStatus.none;
        _this._tokenData = "";
        _this.isVibrate = false;
        _this.isLogin = false;
        _this.shareTime = 0;
        /*private wxLog(message?: any, ...optionalParams: any[])
        {
            console.log(message,optionalParams);
        }*/
        _this.wxLog = console.log;
        //private wxLog = function(...args){};
        _this._shareTicket = "";
        return _this;
    }
    WXSdk_1 = WXSdk;
    Object.defineProperty(WXSdk, "instance", {
        get: function () {
            if (!this._instance) {
                this._instance = new WXSdk_1();
                this._instance.init();
            }
            return WXSdk_1._instance;
        },
        enumerable: true,
        configurable: true
    });
    WXSdk.prototype.init = function () {
        var _this = this;
        //this.wx = window["wx"] || {};
        //this.wx = wx || {};
        this.wx = window["wx"];
        //this.wxLog("wx = ",this.wx);
        this.systemInfo;
        if (this.wx) {
            this.wx.onShow(function (res) {
                if (res.query.type == "shareToAnyOne" && res.scene == 1044) {
                    _this._shareTicket = res.shareTicket;
                    cc.systemEvent.emit("shareTicketUpdate");
                }
                else {
                    _this._shareTicket = "";
                }
                //this.wxLog("onShow 收到消息",res,"this._shareTicket",this._shareTicket);
            });
            this.wx.onHide(function (res) {
                //this.wxLog("onHide 收到消息",res);
            });
            var launchOption = this.wx.getLaunchOptionsSync();
            if (launchOption.shareTicket && launchOption.shareTicket != "<Undefined>") {
                this._shareTicket = launchOption.shareTicket;
            }
            else {
                this._shareTicket = "";
            }
            //shareTick "<Undefined>"
            //this.wxLog("launchOption = ",launchOption);
            this.wx.showShareMenu({
                withShareTicket: true,
                success: function () { },
                fail: function () { },
            });
            this.wx.onShareAppMessage(function () { return ({
                title: '刀剑乱斗英雄',
                imageUrl: 'https://127.0.0.1/image/星球飞刀.jpg',
                query: "type=shareToAnyOne",
            }); });
        }
    };
    WXSdk.prototype.isWXPlatform = function () {
        return this.wx != undefined && this.wx != null;
    };
    Object.defineProperty(WXSdk.prototype, "openDataContext", {
        get: function () {
            if (!this._openDataContext) {
                this._openDataContext = this.wx.getOpenDataContext();
            }
            return this._openDataContext;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "sharedCanvas", {
        get: function () {
            if (!this._sharedCanvas) {
                this._sharedCanvas = this.openDataContext.canvas;
            }
            return this._sharedCanvas;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "systemInfo", {
        // update (dt) {}
        get: function () {
            if (this.wx && !this._systemInfo) {
                this._systemInfo = this.wx.getSystemInfoSync();
                this.wxLog("微信系统信息", this._systemInfo);
                this.wxLog("\n手机型号", this._systemInfo.model, "\n系统", this._systemInfo.system, "\n微信版本", this._systemInfo.version, "\n语言", this._systemInfo.language, "\n手机品牌", this._systemInfo.brand, "\n客户端平台", this._systemInfo.platform, "\n客户端基础库版本", this._systemInfo.SDKVersion);
            }
            return this._systemInfo;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "version", {
        /**
         * 微信版本号
         */
        get: function () {
            if (this.systemInfo) {
                return this.systemInfo.version;
            }
            return "";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "SDKVersion", {
        /**
         * 微信基础库版本
         */
        get: function () {
            if (this.systemInfo) {
                return this.systemInfo.SDKVersion;
            }
            return "";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "system", {
        /**
         * 手机系统
         */
        get: function () {
            if (this.systemInfo) {
                return this.systemInfo.system;
            }
            return "";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "model", {
        /**
         * 手机型号
         */
        get: function () {
            if (this.systemInfo) {
                return this.systemInfo.model;
            }
            return this.systemInfo.model;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "brand", {
        /**
         * 手机品牌
         */
        get: function () {
            if (this.systemInfo) {
                return this.systemInfo.brand;
            }
            return "";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "platform", {
        /**
         * 客户端平台
         */
        get: function () {
            if (this.systemInfo) {
                return this.systemInfo.platform;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "userData", {
        get: function () {
            return this._userData;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "userInfo", {
        get: function () {
            return this._userInfo;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "openid", {
        /**
         * 微信唯一id
         */
        get: function () {
            if (this._tokenData) {
                return this._tokenData.openid;
            }
            return "";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "token", {
        get: function () {
            if (this._tokenData) {
                return this._tokenData.skey;
            }
            return "";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "uid", {
        /**
         * 用户在数据库里的id
         */
        get: function () {
            if (this._tokenData) {
                return this._tokenData.uid;
            }
            return 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "isNew", {
        /**
         * 用户是否是新用户
         */
        get: function () {
            if (this._tokenData) {
                return this._tokenData.isNew;
            }
            return false;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "session_key", {
        /**
         * 会话密匙
         */
        get: function () {
            if (this._accessTokenData) {
                return this._accessTokenData.session_key;
            }
            return "";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "nickname", {
        /**
         * 昵称
         */
        get: function () {
            if (this._userInfo) {
                return this._userInfo.nickName;
            }
            return "小飞刀";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "authorizeStatus", {
        /**
         * 授权状态
        */
        get: function () {
            return this._authorizeStatus;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "shareTicket", {
        get: function () {
            return this._shareTicket;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "screenWidth", {
        get: function () {
            return this.systemInfo.screenWidth;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WXSdk.prototype, "screenHeight", {
        get: function () {
            return this.systemInfo.screenHeight;
        },
        enumerable: true,
        configurable: true
    });
    /**
     *
     * @param complete
     * @param size 尺寸有 0、46、64、96、132 可选  0代表 640 * 640
     */
    WXSdk.prototype.getUserIcon = function (complete, size) {
        if (size === void 0) { size = 132; }
        if (!this.wx) {
            complete(null);
            return;
        }
        var avatarUrl = this._userInfo.avatarUrl;
        var index = avatarUrl.lastIndexOf("/");
        avatarUrl = avatarUrl.substring(0, index + 1) + size + "?aaa=aa.jpg";
        cc.loader.load(avatarUrl, function (err, texture) {
            complete(texture);
        });
    };
    /**
     * 申请用户授权
     * @param success
     * @param fail
     */
    WXSdk.prototype.applyUserAuth = function (success) {
        var _this = this;
        if (!this.wx) {
            this._authorizeStatus = AuthorizeStatus.refuse;
            success(false);
            return;
        }
        this.wx.getSetting({
            success: function (res) {
                if (!res.authSetting["scope.userInfo"]) {
                    /*this.wx.authorize({

                        scope:"scope.userInfo",

                        success:(res)=>{
                            this.wxLog("用户同意获取个人信息");
                            this._authorizeStatus = AuthorizeStatus.agree;
                            success(true);
                        },
                        fail:(res)=>{
                            this.wxLog("用户不同意获取个人信息");
                            //this._authorizeStatus = AuthorizeStatus.refuse;
                            //success(false);

                            var self:WXSdk = this;

                            function showModal()
                            {
                                wx.showModal({
                                  title: '警告',
                                  content: '您点击了拒绝授权,游戏将无法正常显示个人信息,点击确定重新获取授权。',
                                  success:function(res)
                                    {
                                        if (res.confirm)
                                        {
                                                wx.openSetting(
                                                {
                                                    success: (res) =>
                                                    {
                                                      if (res.authSetting["scope.userInfo"])
                                                        {   ////如果用户重新同意了授权登录
                                                            //console.log("被迫同意授权");
                                                            self._authorizeStatus = AuthorizeStatus.agree;
                                                            success(true);
                                                            
                                                        }else
                                                        {
                                                            //console.log("用户还是拒绝");
                                                            showModal();
                                                        }
                                                    },
                                                    fail:function(res)
                                                    {
                                                        //console.log("打开面板失败");
                                                        showModal();
                                                    }
                                              })
                                        }else
                                        {
                                            showModal();
                                        }
                                    }
                                });
                            }

                            showModal();

                        }
                    });*/
                    _this.getUserAuthorizeBtn(success);
                }
                else {
                    _this._authorizeStatus = AuthorizeStatus.agree;
                    success(true);
                }
            },
            fail: function (res) {
                _this._authorizeStatus = AuthorizeStatus.refuse;
                success(false);
            }
        });
    };
    /*public openSetting(success:Function,fail:Function)
    {
        if(!this.wx)
        {
            success({});
            return;
        }

        this.wx.getSetting({
            success:(res)=>
            {
                this.wxLog("open setting suc authSetting",res.authSetting);
            },
            fail:(res)=>
            {
                this.wxLog("open setting fail ",res);
            }
        }
        );
    }*/
    /**
     * 创建按钮，打开用户权限申请页
     */
    WXSdk.prototype.getUserAuthorizeBtn = function (success) {
        console.log(this.systemInfo.screenWidth);
        var button = wx.createUserInfoButton({
            type: 'text',
            text: '',
            //image: 'res/raw-assets/7b/7bb27b49-7cfc-495d-aa3c-27f5c4234816.png',
            style: {
                left: 0,
                top: 0,
                width: this.systemInfo.screenWidth,
                height: this.systemInfo.screenHeight,
                lineHeight: 40,
                backgroundColor: '#00000000',
                color: '#ffffff',
                textAlign: 'center',
                fontSize: 16,
                borderRadius: 4
            }
        });
        button.onTap(function (res) {
            if (res.errMsg == "getUserInfo:ok") {
                console.log("获得授权 ?", res);
                button.hide();
                button.destroy();
                success();
            }
            else {
            }
        });
    };
    /**
     * 微信登录
     * @param success
     * @param fail
     */
    WXSdk.prototype.login = function (appid, secret, success, fail) {
        var _this = this;
        if (!this.wx) {
            success();
            return;
        }
        this.appid = appid;
        this.secret = secret;
        if (this.isLogin) {
            success();
            return;
        }
        var successCallback = function () {
            _this.isLogin = true;
            WXSdk_1.instance.wx.hideLoading();
            success();
        };
        var failCallback = function () {
            WXSdk_1.instance.wx.hideLoading();
            fail();
        };
        this.applyUserAuth(function (isAuthorize) {
            _this.getUserInfo(function () {
                //this.checkSession(success,fail);
                _this.loginWX(successCallback, failCallback);
            }, function () {
                failCallback();
            });
        });
    };
    WXSdk.prototype.loginWX = function (success, fail) {
        var _this = this;
        this.wx.showLoading({
            title: '登录中...',
            mask: true,
            width: 250,
        });
        this.wx.login({
            timeout: 30000,
            success: function (res) {
                _this.wxLog("login", res);
                if (res.code) {
                    //console.log("code:"+res.code)
                    //this.getAccessToken(success,fail,res.code);
                    //this.getAccessToken2(success,fail,res.code);
                    success();
                }
                else {
                    //this.wxLog("登录失败",res);
                    fail();
                }
            },
            fail: function (res) {
                //this.wxLog("登录失败",res);
                fail();
            },
            complete: function () {
                //调用结束时回掉，不管成功还是失败
            }
        });
    };
    /**
     * 检查登录状态是否过期
     */
    WXSdk.prototype.checkSession = function (success, fail) {
        var _this = this;
        this.wx.checkSession({
            success: function () {
                _this.wxLog("session_key 未过期，并且在本生命周期一直有效");
                success();
                //this.getUserInfo(success,fail);
                //this.loginWX(success,fail);
            },
            fail: function () {
                _this.wxLog("已经失效，需要重新执行登录流程");
                _this.loginWX(success, fail);
            }
        });
    };
    /**
     * 登入凭证校验
     */
    WXSdk.prototype.getAccessToken = function (success, fail, code) {
        var _this = this;
        var obj = {
            code: code,
            // "encrypted": "string",
            fromAppId: this.appid,
            // "fromType": "string",
            // "fromUserId": 0,
            img: this._userInfo.avatarUrl,
            // "iv": "string",
            // "model": "string",
            name: this.nickname,
        };
        this.requestPost(this.url, obj, function (res) {
            _this.wxLog("收到服务端返回数据", res.data);
            _this._tokenData = res.data.data;
            var errcode = res.statusCode; //错误码
            if (errcode == -1) {
                //console.error(">>>系统繁忙，此时请开发者稍候再试");
                fail();
            }
            else if (errcode == 0) {
                //">>>请求成功");
                //this.getUserInfo(success,fail);
                success();
            }
            else if (errcode == 200) {
                //">>>请求成功");
                //this.getUserInfo(success,fail);
                success();
            }
            else if (errcode == 40029) {
                //">>>>code无效");
                //this.getUserInfo(success,fail);
                success();
            }
            else {
                fail();
            }
        }, function () {
            console.error(">>>>>>>获取登录凭证失败");
            fail();
        });
    };
    /**
    * 登入凭证校验
    */
    WXSdk.prototype.getAccessToken2 = function (success, fail, code) {
        var _this = this;
        var url = "https://api.weixin.qq.com/sns/jscode2session?appid={0}&secret={1}&js_code={2}&grant_type={3}"; //这个请求似乎只能在服务器端完成，前端只能不校验合法域名才可以使用
        url = SystemTools_1.default.format(url, this.appid, this.secret, code, this.grant_type); //拼接网址
        //https://api.weixin.qq.com/sns/jscode2session?appid=wx472e16802f66329ajs_code=03329Yad2JudiF0Y9Vbd2Qh6bd229Ya3&grant_type=authorization_code
        this.requestGet(url, function (res) {
            var data = res.data;
            var openId = data.openid; //用户唯一标识
            var session_key = data.session_key; //回话密匙
            //let errcode:number  = data.errcode; //错误码
            var errcode = res.statusCode; //错误码
            var errMsg = res.errMsg; //错误信息
            _this._accessTokenData = res.data;
            _this.wxLog("openId", openId);
            _this.wxLog("session_key", session_key);
            _this.wxLog("accesstoken res ", res, errcode);
            if (errcode == -1) {
                console.error(">>>系统繁忙，此时请开发者稍候再试");
            }
            else if (errcode == 0) {
                //">>>请求成功");
                _this.getUserInfo(success, fail);
            }
            else if (errcode == 200) {
                //">>>请求成功");
                _this.getUserInfo(success, fail);
            }
            else if (errcode == 40029) {
                //">>>>code无效");
                _this.getUserInfo(success, fail);
            }
        }, function () {
            console.error(">>>>>>>获取登录凭证失败");
            fail();
        });
    };
    /**
     * 获取用户信息
     */
    WXSdk.prototype.getUserInfo = function (success, fail) {
        var _this = this;
        var data = {
            withCredentials: false,
            lang: "zh_CN",
            success: function (res) {
                _this._userData = res;
                _this._userInfo = res.userInfo;
                _this.wxLog("获取用户信息成功");
                success();
            },
            fail: function (res) {
                _this.wxLog("获取用户信息失败", res);
                fail();
                //this.checkSession(success,fail); //获取用户信息失败之后 继续去获取
                //this.wxLog("获取用户信息失败:",this.tempCode);
            }
        };
        wx.getUserInfo(data);
    };
    /**
     * 微信请求
     * @param url  请求地址
     * @param successCallBack 成功回调
     * @param failBack  失败回调
     */
    WXSdk.prototype.requestGet = function (url, success, fail) {
        var requestData = {
            url: url,
            method: "GET",
            dataType: "json",
            success: function (res) {
                success && success(res);
            },
            fail: function () {
                fail && fail();
                console.error(">>>>>>请求url失败：" + requestData.url);
            }
        };
        this.wx.request(requestData);
    };
    WXSdk.prototype.requestPost = function (url, data, success, fail) {
        var requestData = {
            url: url,
            method: "POST",
            data: data,
            dataType: "json",
            success: function (res) {
                success && success(res);
            },
            fail: function () {
                fail && fail();
                console.error(">>>>>>请求url失败：" + requestData.url);
            }
        };
        this.wx.request(requestData);
    };
    /**
     * 设置用户排名数据存储
     */
    WXSdk.prototype.setUserRankStorage = function (key, value) {
        if (!this.wx)
            return;
        var kvdatas = [
            { key: key, value: value.toString() },
        ];
        this.wx.setUserCloudStorage({ KVDataList: kvdatas,
            success: function (res) {
                console.log("setUserCloudStorage", res);
            }
        });
    };
    WXSdk.prototype.unloadUserScore = function (score, success, fail) {
        var _this = this;
        if (!this.wx)
            return;
        var url = this.worldRankUrl + ("?id=" + this.uid + "&score=" + score); //这个请求似乎只能在服务器端完成，前端只能不校验合法域名才可以使用
        this.requestGet(url, function (res) {
            _this.wxLog("上传用户数据返回", res.data);
            if (res.data.code == 0) {
                success();
            }
            else {
                fail();
            }
        }, function () {
            console.error("上传用户信息失败");
            fail();
        });
    };
    WXSdk.prototype.getUserScoreWorldRank = function (success, fail) {
        var _this = this;
        if (!this.wx)
            return;
        var url = this.worldRankUrl2 + this.uid; //这个请求似乎只能在服务器端完成，前端只能不校验合法域名才可以使用
        this.requestGet(url, function (res) {
            _this.wxLog("用户世界排行榜返回返回", res);
            if (res.data.code == 0) {
                success(res.data.data);
            }
            else {
                fail();
            }
        }, function () {
            console.error("上传用户信息失败");
            fail();
        });
    };
    /**
     * 分享游戏
     */
    WXSdk.prototype.shareToAnyOne = function (success, fail) {
        if (!this.wx) {
            success();
            return;
        }
        var nowTime = Date.now() / 1000;
        if (nowTime - this.shareTime <= 3) {
            WXSdk_1.instance.wx.showModal({
                title: '警告',
                showCancel: false,
                confirmText: "确定",
                content: Math.random() < 0.5 ? '短时间内,不要分享同一个群' : '请换个群试试哦~~',
                success: function (res) {
                    if (res.confirm) {
                    }
                    else {
                    }
                }
            });
            fail();
        }
        else {
            this.shareTime = nowTime;
            var titleArr = [
                "今年4月最火的小游戏",
                "玩转飞刀，坐拥地球！",
                "提醒：@你的好友 已完成五杀",
                "飞刀转转转，压力散散散！",
                "我升星界大师了，你能打到宇宙最强吗？"
            ];
            var index = Math.floor((Math.random() * titleArr.length));
            this.wx.shareAppMessage({
                title: "" + titleArr[index],
                imageUrl: "https://knife-1258819150.file.myqcloud.com/image/%E6%98%9F%E7%90%83%E9%A3%9E%E5%88%80.jpg",
                query: "type=shareToAnyOne",
                success: function (res) {
                    console.log('拉起分享 成功', res);
                    success();
                },
                fail: function (res) {
                    console.log('拉起分享 失败', res);
                    fail();
                }
            });
            this.scheduleOnce(function () {
                var currentTime = Date.now() / 1000;
                if (currentTime - nowTime <= 3) {
                    console.log(currentTime, nowTime, currentTime - nowTime);
                    WXSdk_1.instance.wx.showModal({
                        title: '警告',
                        showCancel: false,
                        confirmText: "确定",
                        content: Math.random() < 0.5 ? '短时间内,不要分享同一个群' : '请换个群试试哦~~',
                        success: function (res) {
                            if (res.confirm) {
                            }
                            else {
                            }
                        }
                    });
                    return;
                }
                success();
                WXSdk_1.instance.wx.showModal({
                    title: '分享成功',
                    showCancel: false,
                    confirmText: "确定",
                    content: '恭喜,获得奖励',
                    success: function (res) {
                        if (res.confirm) {
                        }
                        else {
                        }
                    }
                });
            }, 0.8);
        }
    };
    WXSdk.prototype.showVideo = function (adUnitId, close, success, fail) {
        var _this = this;
        if (!this.wx) {
            close && close(1);
            return;
        }
        if (this.SDKVersion < "2.04") {
            console.log("基础库版本过低，不能使用视频广告功能");
            return;
        }
        var rewardedVideoAd = this.wx.createRewardedVideoAd({ adUnitId: adUnitId }); //不支持在开发工具运行，只能在真机运行 返回值是个单例
        //this.wxLog("rewardedVideoAd",rewardedVideoAd);
        //视频广告默认是隐藏的，要调用show显示
        rewardedVideoAd.onLoad(function () {
            _this.wxLog('激励视频 广告加载成功');
            success && success();
        });
        rewardedVideoAd.onError(function (err) {
            _this.wxLog('激励视频 广告拉取失败', err);
            fail && fail();
        });
        rewardedVideoAd.onClose(function (res) {
            rewardedVideoAd.offLoad();
            rewardedVideoAd.offError();
            rewardedVideoAd.offClose();
            rewardedVideoAd = null;
            // 小于 2.1.0 的基础库版本，res 是一个 undefined
            if (res && res.isEnded || res === undefined) {
                //视频正常播放结束
                close && close(1);
            }
            else {
                //视频播放中途退出
                close && close(0);
            }
        });
        //开始加载视频广告
        rewardedVideoAd.load().then(function () {
            rewardedVideoAd.show().catch(function (err) {
                _this.wxLog('视频广告播放失败', err);
                rewardedVideoAd.offLoad();
                rewardedVideoAd.offError();
                rewardedVideoAd.offClose();
                rewardedVideoAd = null;
            });
        });
    };
    WXSdk.prototype.showBanner = function (adUnitId, style) {
        var _this = this;
        if (!this.wx)
            return;
        this.removeBanner();
        //banner默认隐藏，调用show方法显示
        this._bannerAd = this.wx.createBannerAd({
            adUnitId: adUnitId,
            style: style
            /*{
                left:10,
                top:60,
                width:400
            }*/
        });
        this._bannerAd.onLoad(function () {
            _this.wxLog("广告拉取成功");
        });
        this._bannerAd.onError(function (err) {
            _this.wxLog("广告拉取失败", err);
        });
        this._bannerAd.onResize(function (res) {
            _this._bannerAd.style.top = _this.screenHeight - res.height;
            _this._bannerAd.style.width = _this.screenWidth + 50;
        });
        this._bannerAd.show().then(function () { _this.wxLog("显示广告"); });
        return this._bannerAd;
        //bannerAd.hide();//切换到无广告页面时调用hide()
    };
    WXSdk.prototype.showBottomBanner = function (adUnitId) {
        if (!this.wx)
            return;
        var style = {
            left: 0,
            top: this.screenHeight - 130,
            width: this.screenWidth + 50,
        };
        WXSdk_1.instance.showBanner(adUnitId, style);
        /*this._bannerAd.hide();

        this.scheduleOnce(()=>{

            this._bannerAd.show();
            this._bannerAd.style.top = this.screenHeight - this._bannerAd.style.realHeight;
        },0.6);*/
    };
    WXSdk.prototype.removeBanner = function () {
        if (this._bannerAd) {
            this._bannerAd.offLoad();
            this._bannerAd.offError();
            this._bannerAd.offResize();
            this._bannerAd.destroy(); //要先把旧的广告给销毁，不然会导致其监听的时间无法释放，影响性能
            this._bannerAd = null;
        }
    };
    WXSdk.prototype.update = function (dt) { };
    /**
     * 15ms的短震动
     */
    WXSdk.prototype.vibrateShort = function () {
        if (!this.wx) {
            return;
        }
        /*if(this.isVibrate)
        {
            return;
        }*/
        //this.isVibrate = true;
        this.wx.vibrateShort({});
        /*this.scheduleOnce(()=>
        {
            this.isVibrate = false;
        },0.035);*/
    };
    /**
     * 400ms的长震动
     */
    WXSdk.prototype.vibrateLong = function () {
        if (!this.wx) {
            return;
        }
        /*if(this.isVibrate)
        {
            return;
        }*/
        //this.isVibrate = true;
        this.wx.vibrateLong({});
        /*this.scheduleOnce(()=>
        {
            this.isVibrate = false;
        },0.5);*/
    };
    /**
     * 获取小程序二维码
     */
    WXSdk.prototype.createWXAQRCode = function () {
        this.wx.createWXAQRCode();
    };
    WXSdk.prototype.getWXACode = function () {
        this.wx.getWXACode({});
    };
    var WXSdk_1;
    WXSdk = WXSdk_1 = __decorate([
        ccclass
    ], WXSdk);
    return WXSdk;
}(cc.Component));
exports.default = WXSdk;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx3eFxcV1hTZGsudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDZDQUF3QztBQUV4QyxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBSTFDOztHQUVHO0FBQ0gsSUFBWSxlQWlCWDtBQWpCRCxXQUFZLGVBQWU7SUFFdkI7O09BRUc7SUFDSCxxREFBUSxDQUFBO0lBRVI7O09BRUc7SUFDSCx5REFBVSxDQUFBO0lBRVY7O09BRUc7SUFDSCx1REFBUyxDQUFBO0FBRWIsQ0FBQyxFQWpCVyxlQUFlLEdBQWYsdUJBQWUsS0FBZix1QkFBZSxRQWlCMUI7QUFJRDtJQUFtQyx5QkFBWTtJQUQvQztRQUFBLHFFQTh0Q0M7UUEvc0NHLDBEQUEwRDtRQUVuRCxTQUFHLEdBQVUsK0JBQStCLENBQUM7UUFFN0Msa0JBQVksR0FBVSwyQ0FBMkMsQ0FBQztRQUNsRSxtQkFBYSxHQUFVLGdDQUFnQyxDQUFDO1FBR3ZELFdBQUssR0FBVSxvQkFBb0IsQ0FBQyxDQUFDLFlBQVk7UUFDakQsWUFBTSxHQUFVLEVBQUUsQ0FBQyxDQUFDLGdCQUFnQjtRQUNwQyxnQkFBVSxHQUFVLG9CQUFvQixDQUFDLENBQUMsd0JBQXdCO1FBa0JsRSxzQkFBZ0IsR0FBb0IsZUFBZSxDQUFDLElBQUksQ0FBQztRQUV6RCxnQkFBVSxHQUFPLEVBQUUsQ0FBQztRQUVwQixlQUFTLEdBQVcsS0FBSyxDQUFDO1FBRTNCLGFBQU8sR0FBVyxLQUFLLENBQUM7UUFFdkIsZUFBUyxHQUFVLENBQUMsQ0FBQztRQUU3Qjs7O1dBR0c7UUFFSyxXQUFLLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FB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Q0FBQztTQUN6QjtJQUNMLENBQUM7SUFHRCxzQkFBTSxHQUFOLFVBQVEsRUFBRSxJQUFHLENBQUM7SUFFZDs7T0FFRztJQUNJLDRCQUFZLEdBQW5CO1FBRUksSUFBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQ1g7WUFDSSxPQUFPO1NBQ1Y7UUFFRDs7O1dBR0c7UUFFSCx3QkFBd0I7UUFFeEIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFekI7OzttQkFHVztJQUVmLENBQUM7SUFFRDs7T0FFRztJQUNJLDJCQUFXLEdBQWxCO1FBRUksSUFBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQ1g7WUFDSSxPQUFPO1NBQ1Y7UUFFRDs7O1dBR0c7UUFHSCx3QkFBd0I7UUFFeEIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFeEI7OztpQkFHUztJQUNiLENBQUM7SUFFRDs7T0FFRztJQUNJLCtCQUFlLEdBQXRCO1FBRUksSUFBSSxDQUFDLEVBQUUsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBRU0sMEJBQVUsR0FBakI7UUFFSSxJQUFJLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMzQixDQUFDOztJQTV0Q2dCLEtBQUs7UUFEekIsT0FBTztPQUNhLEtBQUssQ0E2dEN6QjtJQUFELFlBQUM7Q0E3dENELEFBNnRDQyxDQTd0Q2tDLEVBQUUsQ0FBQyxTQUFTLEdBNnRDOUM7a0JBN3RDb0IsS0FBSyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTeXN0ZW1Ub29scyBmcm9tIFwiLi9TeXN0ZW1Ub29sc1wiO1xyXG5cclxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbmRlY2xhcmUgdmFyIHd4OmFueTtcclxuXHJcbi8qKlxyXG4gKiDnlKjmiLfmjojmnYPnirbmgIFcclxuICovXHJcbmV4cG9ydCBlbnVtIEF1dGhvcml6ZVN0YXR1c1xyXG57XHJcbiAgICAvKipcclxuICAgICAqIOacqueUs+ivt+aOiOadg1xyXG4gICAgICovXHJcbiAgICBub25lID0gMCxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaLkue7neaOiOadg1xyXG4gICAgICovXHJcbiAgICByZWZ1c2UgPSAxLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5ZCM5oSP5o6I5p2DXHJcbiAgICAgKi9cclxuICAgIGFncmVlID0gMlxyXG5cclxufVxyXG5cclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdYU2RrIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogV1hTZGs7XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBXWFNkayB7XHJcbiAgICAgICAgaWYoIXRoaXMuX2luc3RhbmNlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgV1hTZGsoKTtcclxuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UuaW5pdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gV1hTZGsuX2luc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB3eDphbnk7XHJcblxyXG4gICAgLy9wdWJsaWMgdXJsOnN0cmluZyA9IFwiaHR0cDovLzEyNy4wLjAuMTo4MDgwL2tuaWZlL2xvZ2luXCI7XHJcblxyXG4gICAgcHVibGljIHVybDpzdHJpbmcgPSBcImh0dHBzOi8vMTI3LjAuMC4xL2tuaWZlL2xvZ2luXCI7XHJcblxyXG4gICAgcHVibGljIHdvcmxkUmFua1VybDpzdHJpbmcgPSBcImh0dHBzOi8vMTI3LjAuMC4xL2tuaWZlL3VwZGF0ZS1iZXN0LXNjb3JlXCI7XHJcbiAgICBwdWJsaWMgd29ybGRSYW5rVXJsMjpzdHJpbmcgPSBcImh0dHBzOi8vMTI3LjAuMC4xL2tuaWZlL3dvcmxkL1wiO1xyXG5cclxuXHJcbiAgICBwcml2YXRlIGFwcGlkOnN0cmluZyA9IFwid3g0NzJlMTY4MDJmNjYzMjlhXCI7IC8vIOWwj+eoi+W6jyBhcHBJZFxyXG4gICAgcHJpdmF0ZSBzZWNyZXQ6c3RyaW5nID0gXCJcIjsgLy8g5bCP56iL5bqPIGFwcFNlY3JldFxyXG4gICAgcHJpdmF0ZSBncmFudF90eXBlOnN0cmluZyA9IFwiYXV0aG9yaXphdGlvbl9jb2RlXCI7IC8v5aGr5YaZ5Li6IGF1dGhvcml6YXRpb25fY29kZVxyXG4gICAgLy9wcml2YXRlIGdyYW50X3R5cGU6c3RyaW5nID0gXCJjbGllbnRfY3JlZGVudGlhbFwiXHJcbiAgICAvLzBjOGY0NmIyNTc3NjYyNTRjMzFkY2NmNWUzNDU5NDVhXHJcblxyXG4gICAgcHJpdmF0ZSBfb3BlbkRhdGFDb250ZXh0OmFueTtcclxuXHJcbiAgICBwcml2YXRlIF9zaGFyZWRDYW52YXM6YW55O1xyXG5cclxuICAgIHByaXZhdGUgX3N5c3RlbUluZm86IGFueTtcclxuXHJcbiAgICBwcml2YXRlIF9iYW5uZXJBZDphbnk7XHJcblxyXG4gICAgcHJpdmF0ZSBfdXNlckRhdGE6YW55O1xyXG5cclxuICAgIHByaXZhdGUgX3VzZXJJbmZvOmFueTtcclxuXHJcbiAgICBwcml2YXRlIF9hY2Nlc3NUb2tlbkRhdGE6YW55O1xyXG5cclxuICAgIHByaXZhdGUgX2F1dGhvcml6ZVN0YXR1czogQXV0aG9yaXplU3RhdHVzID0gQXV0aG9yaXplU3RhdHVzLm5vbmU7XHJcblxyXG4gICAgcHJpdmF0ZSBfdG9rZW5EYXRhOmFueSA9IFwiXCI7XHJcblxyXG4gICAgcHJpdmF0ZSBpc1ZpYnJhdGU6Ym9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHB1YmxpYyBpc0xvZ2luOmJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBwcml2YXRlIHNoYXJlVGltZTpudW1iZXIgPSAwO1xyXG5cclxuICAgIC8qcHJpdmF0ZSB3eExvZyhtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pXHJcbiAgICB7XHJcbiAgICAgICAgY29uc29sZS5sb2cobWVzc2FnZSxvcHRpb25hbFBhcmFtcyk7XHJcbiAgICB9Ki9cclxuXHJcbiAgICBwcml2YXRlIHd4TG9nID0gY29uc29sZS5sb2c7XHJcbiAgICAvL3ByaXZhdGUgd3hMb2cgPSBmdW5jdGlvbiguLi5hcmdzKXt9O1xyXG5cclxuICAgIHByaXZhdGUgX3NoYXJlVGlja2V0OnN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0KClcclxuICAgIHtcclxuICAgICAgICAvL3RoaXMud3ggPSB3aW5kb3dbXCJ3eFwiXSB8fCB7fTtcclxuICAgICAgICAvL3RoaXMud3ggPSB3eCB8fCB7fTtcclxuICAgICAgICB0aGlzLnd4ID0gd2luZG93W1wid3hcIl07XHJcbiAgICAgICAgLy90aGlzLnd4TG9nKFwid3ggPSBcIix0aGlzLnd4KTtcclxuXHJcbiAgICAgICAgdGhpcy5zeXN0ZW1JbmZvO1xyXG5cclxuICAgICAgICBpZih0aGlzLnd4KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy53eC5vblNob3coKHJlcyk9PntcclxuXHJcbiAgICAgICAgICAgICAgICBpZihyZXMucXVlcnkudHlwZSA9PSBcInNoYXJlVG9BbnlPbmVcIiAmJiByZXMuc2NlbmUgPT0gMTA0NClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZVRpY2tldCA9IHJlcy5zaGFyZVRpY2tldDtcclxuICAgICAgICAgICAgICAgICAgICBjYy5zeXN0ZW1FdmVudC5lbWl0KFwic2hhcmVUaWNrZXRVcGRhdGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlVGlja2V0ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoaXMud3hMb2coXCJvblNob3cg5pS25Yiw5raI5oGvXCIscmVzLFwidGhpcy5fc2hhcmVUaWNrZXRcIix0aGlzLl9zaGFyZVRpY2tldCk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLnd4Lm9uSGlkZSgocmVzKT0+e1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhpcy53eExvZyhcIm9uSGlkZSDmlLbliLDmtojmga9cIixyZXMpO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgbGF1bmNoT3B0aW9uID0gdGhpcy53eC5nZXRMYXVuY2hPcHRpb25zU3luYygpO1xyXG5cclxuICAgICAgICAgICAgaWYobGF1bmNoT3B0aW9uLnNoYXJlVGlja2V0ICYmIGxhdW5jaE9wdGlvbi5zaGFyZVRpY2tldCAhPSBcIjxVbmRlZmluZWQ+XCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlVGlja2V0ID0gbGF1bmNoT3B0aW9uLnNoYXJlVGlja2V0O1xyXG4gICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZVRpY2tldCA9IFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vc2hhcmVUaWNrIFwiPFVuZGVmaW5lZD5cIlxyXG4gICAgICAgICAgICAvL3RoaXMud3hMb2coXCJsYXVuY2hPcHRpb24gPSBcIixsYXVuY2hPcHRpb24pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53eC5zaG93U2hhcmVNZW51KHtcclxuICAgICAgICAgICAgICAgIHdpdGhTaGFyZVRpY2tldDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6KCk9Pnt9LFxyXG4gICAgICAgICAgICAgICAgZmFpbDooKT0+e30sXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53eC5vblNoYXJlQXBwTWVzc2FnZSgoKSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICfliIDliZHkubHmlpfoi7Hpm4QnLFxyXG4gICAgICAgICAgICAgICAgaW1hZ2VVcmw6ICdodHRwczovLzEyNy4wLjAuMS9pbWFnZS/mmJ/nkIPpo57liIAuanBnJywgLy8g5Zu+54mHIFVSTFxyXG4gICAgICAgICAgICAgICAgcXVlcnk6IFwidHlwZT1zaGFyZVRvQW55T25lXCIsXHJcbiAgICAgICAgICAgIH0pKVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1dYUGxhdGZvcm0oKTpib29sZWFuXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud3ggIT0gdW5kZWZpbmVkICYmIHRoaXMud3ggIT0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IG9wZW5EYXRhQ29udGV4dCgpIDogYW55XHJcbiAgICB7XHJcbiAgICAgICAgaWYoIXRoaXMuX29wZW5EYXRhQ29udGV4dClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX29wZW5EYXRhQ29udGV4dCA9IHRoaXMud3guZ2V0T3BlbkRhdGFDb250ZXh0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9vcGVuRGF0YUNvbnRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBzaGFyZWRDYW52YXMoKSA6IGFueVxyXG4gICAge1xyXG4gICAgICAgIGlmKCF0aGlzLl9zaGFyZWRDYW52YXMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9zaGFyZWRDYW52YXMgPSB0aGlzLm9wZW5EYXRhQ29udGV4dC5jYW52YXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fc2hhcmVkQ2FudmFzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcblxyXG4gICAgcHVibGljIGdldCBzeXN0ZW1JbmZvKCk6IGFueSB7XHJcblxyXG4gICAgICAgIGlmKHRoaXMud3ggJiYgIXRoaXMuX3N5c3RlbUluZm8pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9zeXN0ZW1JbmZvID0gdGhpcy53eC5nZXRTeXN0ZW1JbmZvU3luYygpO1xyXG4gICAgICAgICAgICB0aGlzLnd4TG9nKFwi5b6u5L+h57O757uf5L+h5oGvXCIsdGhpcy5fc3lzdGVtSW5mbyk7XHJcbiAgICAgICAgICAgIHRoaXMud3hMb2coXHJcbiAgICAgICAgICAgICAgICBcIlxcbuaJi+acuuWei+WPt1wiLHRoaXMuX3N5c3RlbUluZm8ubW9kZWwsXHJcbiAgICAgICAgICAgICAgICBcIlxcbuezu+e7n1wiLHRoaXMuX3N5c3RlbUluZm8uc3lzdGVtLFxyXG4gICAgICAgICAgICAgICAgXCJcXG7lvq7kv6HniYjmnKxcIix0aGlzLl9zeXN0ZW1JbmZvLnZlcnNpb24sXHJcbiAgICAgICAgICAgICAgICBcIlxcbuivreiogFwiLHRoaXMuX3N5c3RlbUluZm8ubGFuZ3VhZ2UsXHJcbiAgICAgICAgICAgICAgICBcIlxcbuaJi+acuuWTgeeJjFwiLHRoaXMuX3N5c3RlbUluZm8uYnJhbmQsXHJcbiAgICAgICAgICAgICAgICBcIlxcbuWuouaIt+err+W5s+WPsFwiLHRoaXMuX3N5c3RlbUluZm8ucGxhdGZvcm0sXHJcbiAgICAgICAgICAgICAgICBcIlxcbuWuouaIt+err+WfuuehgOW6k+eJiOacrFwiLHRoaXMuX3N5c3RlbUluZm8uU0RLVmVyc2lvblxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9zeXN0ZW1JbmZvO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5b6u5L+h54mI5pys5Y+3XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgdmVyc2lvbigpOnN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMuc3lzdGVtSW5mbylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN5c3RlbUluZm8udmVyc2lvbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5b6u5L+h5Z+656GA5bqT54mI5pysXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgU0RLVmVyc2lvbigpOnN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMuc3lzdGVtSW5mbylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN5c3RlbUluZm8uU0RLVmVyc2lvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmiYvmnLrns7vnu59cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldCBzeXN0ZW0oKTpzdHJpbmdcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLnN5c3RlbUluZm8pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zeXN0ZW1JbmZvLnN5c3RlbTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmiYvmnLrlnovlj7dcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldCBtb2RlbCgpOnN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMuc3lzdGVtSW5mbylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN5c3RlbUluZm8ubW9kZWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnN5c3RlbUluZm8ubW9kZWw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmiYvmnLrlk4HniYxcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldCBicmFuZCgpOnN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMuc3lzdGVtSW5mbylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN5c3RlbUluZm8uYnJhbmQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5a6i5oi356uv5bmz5Y+wXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgcGxhdGZvcm0oKTpzdHJpbmdcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLnN5c3RlbUluZm8pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zeXN0ZW1JbmZvLnBsYXRmb3JtO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHVzZXJEYXRhKCk6YW55XHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJEYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgdXNlckluZm8oKTphbnlcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdXNlckluZm87XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvq7kv6HllK/kuIBpZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IG9wZW5pZCgpOnN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMuX3Rva2VuRGF0YSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90b2tlbkRhdGEub3BlbmlkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCB0b2tlbigpOnN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMuX3Rva2VuRGF0YSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90b2tlbkRhdGEuc2tleTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog55So5oi35Zyo5pWw5o2u5bqT6YeM55qEaWRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldCB1aWQoKTpudW1iZXJcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLl90b2tlbkRhdGEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdG9rZW5EYXRhLnVpZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog55So5oi35piv5ZCm5piv5paw55So5oi3XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgaXNOZXcoKTpib29sZWFuXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy5fdG9rZW5EYXRhKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Rva2VuRGF0YS5pc05ldztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS8muivneWvhuWMmSBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldCBzZXNzaW9uX2tleSgpOnN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMuX2FjY2Vzc1Rva2VuRGF0YSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hY2Nlc3NUb2tlbkRhdGEuc2Vzc2lvbl9rZXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYteensFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IG5pY2tuYW1lKCk6c3RyaW5nXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy5fdXNlckluZm8pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdXNlckluZm8ubmlja05hbWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gXCLlsI/po57liIBcIjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaOiOadg+eKtuaAgVxyXG4gICAgKi9cclxuICAgIHB1YmxpYyBnZXQgYXV0aG9yaXplU3RhdHVzKCk6IEF1dGhvcml6ZVN0YXR1cyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F1dGhvcml6ZVN0YXR1cztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHNoYXJlVGlja2V0KCk6c3RyaW5nXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NoYXJlVGlja2V0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgc2NyZWVuV2lkdGgoKTpudW1iZXJcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zeXN0ZW1JbmZvLnNjcmVlbldpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgc2NyZWVuSGVpZ2h0KCk6bnVtYmVyXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3lzdGVtSW5mby5zY3JlZW5IZWlnaHQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gY29tcGxldGUgXHJcbiAgICAgKiBAcGFyYW0gc2l6ZSDlsLrlr7jmnIkgMOOAgTQ244CBNjTjgIE5NuOAgTEzMiDlj6/pgIkgIDDku6PooaggNjQwICogNjQwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRVc2VySWNvbihjb21wbGV0ZTpGdW5jdGlvbixzaXplOm51bWJlciA9IDEzMilcclxuICAgIHtcclxuICAgICAgICBpZighdGhpcy53eClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKG51bGwpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBhdmF0YXJVcmw6c3RyaW5nID0gdGhpcy5fdXNlckluZm8uYXZhdGFyVXJsO1xyXG4gICAgICAgIHZhciBpbmRleCA9IGF2YXRhclVybC5sYXN0SW5kZXhPZihcIi9cIik7XHJcbiAgICAgICAgYXZhdGFyVXJsID0gYXZhdGFyVXJsLnN1YnN0cmluZygwLGluZGV4ICsgMSkgKyBzaXplICsgXCI/YWFhPWFhLmpwZ1wiO1xyXG5cclxuICAgICAgICBjYy5sb2FkZXIubG9hZChhdmF0YXJVcmwsKGVycix0ZXh0dXJlKT0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb21wbGV0ZSh0ZXh0dXJlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiDnlLPor7fnlKjmiLfmjojmnYNcclxuICAgICAqIEBwYXJhbSBzdWNjZXNzIFxyXG4gICAgICogQHBhcmFtIGZhaWwgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhcHBseVVzZXJBdXRoKHN1Y2Nlc3M6RnVuY3Rpb24pXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIXRoaXMud3gpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9hdXRob3JpemVTdGF0dXMgPSBBdXRob3JpemVTdGF0dXMucmVmdXNlO1xyXG4gICAgICAgICAgICBzdWNjZXNzKGZhbHNlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy53eC5nZXRTZXR0aW5nKHtcclxuXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6KHJlcyk9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZighcmVzLmF1dGhTZXR0aW5nW1wic2NvcGUudXNlckluZm9cIl0pXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLyp0aGlzLnd4LmF1dGhvcml6ZSh7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZTpcInNjb3BlLnVzZXJJbmZvXCIsXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOihyZXMpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnd4TG9nKFwi55So5oi35ZCM5oSP6I635Y+W5Liq5Lq65L+h5oGvXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXV0aG9yaXplU3RhdHVzID0gQXV0aG9yaXplU3RhdHVzLmFncmVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzcyh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbDoocmVzKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53eExvZyhcIueUqOaIt+S4jeWQjOaEj+iOt+WPluS4quS6uuS/oeaBr1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5fYXV0aG9yaXplU3RhdHVzID0gQXV0aG9yaXplU3RhdHVzLnJlZnVzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc3VjY2VzcyhmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGY6V1hTZGsgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dNb2RhbCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3guc2hvd01vZGFsKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgwqAgwqAgwqAgwqAgwqAgdGl0bGU6ICforablkYonLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICDCoCDCoCDCoCDCoCDCoCBjb250ZW50OiAn5oKo54K55Ye75LqG5ouS57ud5o6I5p2DLOa4uOaIj+WwhuaXoOazleato+W4uOaYvuekuuS4quS6uuS/oeaBryzngrnlh7vnoa7lrprph43mlrDojrflj5bmjojmnYPjgIInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICDCoCDCoCDCoCDCoCDCoCBzdWNjZXNzOmZ1bmN0aW9uKHJlcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgwqAgwqAgwqAgwqAgwqAgwqAgaWYgKHJlcy5jb25maXJtKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIMKgIMKgIMKgIMKgIMKgIMKgIMKgICAgd3gub3BlblNldHRpbmcoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgc3VjY2VzczogKHJlcykgPT4gIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCBpZiAocmVzLmF1dGhTZXR0aW5nW1wic2NvcGUudXNlckluZm9cIl0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAgIC8vLy/lpoLmnpznlKjmiLfph43mlrDlkIzmhI/kuobmjojmnYPnmbvlvZVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIC8vY29uc29sZS5sb2coXCLooqvov6vlkIzmhI/mjojmnYNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2F1dGhvcml6ZVN0YXR1cyA9IEF1dGhvcml6ZVN0YXR1cy5hZ3JlZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzcyh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgICAgfWVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCLnlKjmiLfov5jmmK/mi5Lnu51cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgfSwgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbDpmdW5jdGlvbihyZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIuaJk+W8gOmdouadv+Wksei0pVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93TW9kYWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd01vZGFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ki9cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFVzZXJBdXRob3JpemVCdG4oc3VjY2Vzcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdXRob3JpemVTdGF0dXMgPSBBdXRob3JpemVTdGF0dXMuYWdyZWU7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzcyh0cnVlKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZhaWw6KHJlcyk9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hdXRob3JpemVTdGF0dXMgPSBBdXRob3JpemVTdGF0dXMucmVmdXNlO1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzcyhmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKnB1YmxpYyBvcGVuU2V0dGluZyhzdWNjZXNzOkZ1bmN0aW9uLGZhaWw6RnVuY3Rpb24pXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIXRoaXMud3gpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzdWNjZXNzKHt9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy53eC5nZXRTZXR0aW5nKHtcclxuICAgICAgICAgICAgc3VjY2VzczoocmVzKT0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud3hMb2coXCJvcGVuIHNldHRpbmcgc3VjIGF1dGhTZXR0aW5nXCIscmVzLmF1dGhTZXR0aW5nKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZmFpbDoocmVzKT0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud3hMb2coXCJvcGVuIHNldHRpbmcgZmFpbCBcIixyZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9Ki9cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIm+W7uuaMiemSru+8jOaJk+W8gOeUqOaIt+adg+mZkOeUs+ivt+mhtVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0VXNlckF1dGhvcml6ZUJ0bihzdWNjZXNzOkZ1bmN0aW9uKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3lzdGVtSW5mby5zY3JlZW5XaWR0aFxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICB2YXIgYnV0dG9uID0gd3guY3JlYXRlVXNlckluZm9CdXR0b24oe1xyXG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXHJcbiAgICAgICAgICAgIHRleHQ6ICcnLC8vJ+iOt+WPlueUqOaIt+S/oeaBrycsXHJcbiAgICAgICAgICAgIC8vaW1hZ2U6ICdyZXMvcmF3LWFzc2V0cy83Yi83YmIyN2I0OS03Y2ZjLTQ5NWQtYWEzYy0yN2Y1YzQyMzQ4MTYucG5nJyxcclxuICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICAgICAgICB0b3A6ICAwLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuc3lzdGVtSW5mby5zY3JlZW5XaWR0aCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5zeXN0ZW1JbmZvLnNjcmVlbkhlaWdodCxcclxuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IDQwLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMDAwJyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IDE2LFxyXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYnV0dG9uLm9uVGFwKChyZXMpID0+IHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKHJlcy5lcnJNc2cgPT0gXCJnZXRVc2VySW5mbzpva1wiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuiOt+W+l+aOiOadgyA/XCIscmVzKTtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICBidXR0b24uZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzcygpO1xyXG4gICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOW+ruS/oeeZu+W9lVxyXG4gICAgICogQHBhcmFtIHN1Y2Nlc3MgXHJcbiAgICAgKiBAcGFyYW0gZmFpbCBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGxvZ2luKGFwcGlkOnN0cmluZyxzZWNyZXQ6c3RyaW5nLHN1Y2Nlc3M6RnVuY3Rpb24sZmFpbDpGdW5jdGlvbilcclxuICAgIHtcclxuXHJcbiAgICAgICAgaWYoIXRoaXMud3gpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzdWNjZXNzKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYXBwaWQgPSBhcHBpZDtcclxuICAgICAgICB0aGlzLnNlY3JldCA9IHNlY3JldDtcclxuXHJcbiAgICAgICAgaWYodGhpcy5pc0xvZ2luKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3VjY2VzcygpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdmFyIHN1Y2Nlc3NDYWxsYmFjayA9ICgpPT57XHJcbiAgICAgICAgICAgIHRoaXMuaXNMb2dpbiA9IHRydWU7XHJcbiAgICAgICAgICAgIFdYU2RrLmluc3RhbmNlLnd4LmhpZGVMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3MoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgZmFpbENhbGxiYWNrID0gKCk9PntcclxuICAgICAgICAgICAgV1hTZGsuaW5zdGFuY2Uud3guaGlkZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgZmFpbCgpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHRoaXMuYXBwbHlVc2VyQXV0aCgoaXNBdXRob3JpemUpPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VXNlckluZm8oKCk9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuY2hlY2tTZXNzaW9uKHN1Y2Nlc3MsZmFpbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2luV1goc3VjY2Vzc0NhbGxiYWNrLGZhaWxDYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH0sKCk9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBmYWlsQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgbG9naW5XWChzdWNjZXNzOkZ1bmN0aW9uLGZhaWw6RnVuY3Rpb24pXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy53eC5zaG93TG9hZGluZyh7XHJcbiAgICAgICAgICAgIHRpdGxlOiAn55m75b2V5LitLi4uJyxcclxuICAgICAgICAgICAgbWFzazp0cnVlLFxyXG4gICAgICAgICAgICB3aWR0aDoyNTAsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMud3gubG9naW4oe1xyXG4gICAgICAgICAgICB0aW1lb3V0OjMwMDAwLC8v55m76ZmG6LaF5pe25pe26Ze0IOWNleS9jW1zXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6KHJlcyk9PntcclxuICAgICAgICAgICAgICAgIHRoaXMud3hMb2coXCJsb2dpblwiLHJlcyk7XHJcbiAgICAgICAgICAgICAgICBpZihyZXMuY29kZSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiY29kZTpcIityZXMuY29kZSlcclxuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuZ2V0QWNjZXNzVG9rZW4oc3VjY2VzcyxmYWlsLHJlcy5jb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuZ2V0QWNjZXNzVG9rZW4yKHN1Y2Nlc3MsZmFpbCxyZXMuY29kZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy53eExvZyhcIueZu+W9leWksei0pVwiLHJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmFpbCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmYWlsIDogKHJlcyk9PntcclxuICAgICAgICAgICAgICAgIC8vdGhpcy53eExvZyhcIueZu+W9leWksei0pVwiLHJlcyk7XHJcbiAgICAgICAgICAgICAgICBmYWlsKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbXBsZXRlKCl7XHJcbiAgICAgICAgICAgICAgICAvL+iwg+eUqOe7k+adn+aXtuWbnuaOie+8jOS4jeeuoeaIkOWKn+i/mOaYr+Wksei0pVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmo4Dmn6XnmbvlvZXnirbmgIHmmK/lkKbov4fmnJ9cclxuICAgICAqL1xyXG4gICAgcHVibGljIGNoZWNrU2Vzc2lvbihzdWNjZXNzOkZ1bmN0aW9uLGZhaWw6RnVuY3Rpb24pOnZvaWRcclxuICAgIHtcclxuICAgICAgICB0aGlzLnd4LmNoZWNrU2Vzc2lvbih7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6KCk9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnd4TG9nKFwic2Vzc2lvbl9rZXkg5pyq6L+H5pyf77yM5bm25LiU5Zyo5pys55Sf5ZG95ZGo5pyf5LiA55u05pyJ5pWIXCIpO1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzcygpO1xyXG4gICAgICAgICAgICAgICAgLy90aGlzLmdldFVzZXJJbmZvKHN1Y2Nlc3MsZmFpbCk7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMubG9naW5XWChzdWNjZXNzLGZhaWwpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmYWlsOigpPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53eExvZyhcIuW3sue7j+WkseaViO+8jOmcgOimgemHjeaWsOaJp+ihjOeZu+W9lea1geeoi1wiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9naW5XWChzdWNjZXNzLGZhaWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnmbvlhaXlh63or4HmoKHpqoxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRBY2Nlc3NUb2tlbihzdWNjZXNzOkZ1bmN0aW9uLGZhaWw6RnVuY3Rpb24sY29kZTpzdHJpbmcpOnZvaWRcclxuICAgIHtcclxuICAgICAgICB2YXIgb2JqOk9iamVjdCA9IFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29kZTogY29kZSxcclxuICAgICAgICAgICAgLy8gXCJlbmNyeXB0ZWRcIjogXCJzdHJpbmdcIixcclxuICAgICAgICAgICAgZnJvbUFwcElkOiB0aGlzLmFwcGlkLFxyXG4gICAgICAgICAgICAvLyBcImZyb21UeXBlXCI6IFwic3RyaW5nXCIsXHJcbiAgICAgICAgICAgIC8vIFwiZnJvbVVzZXJJZFwiOiAwLFxyXG4gICAgICAgICAgICBpbWc6IHRoaXMuX3VzZXJJbmZvLmF2YXRhclVybCxcclxuICAgICAgICAgICAgLy8gXCJpdlwiOiBcInN0cmluZ1wiLFxyXG4gICAgICAgICAgICAvLyBcIm1vZGVsXCI6IFwic3RyaW5nXCIsXHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmlja25hbWUsXHJcbiAgICAgICAgICAgIC8vIFwicGZcIjogXCJzdHJpbmdcIlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5yZXF1ZXN0UG9zdCh0aGlzLnVybCxvYmosXHJcbiAgICAgICAgICAgIChyZXM6YW55KT0+e1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnd4TG9nKFwi5pS25Yiw5pyN5Yqh56uv6L+U5Zue5pWw5o2uXCIscmVzLmRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX3Rva2VuRGF0YSA9IHJlcy5kYXRhLmRhdGE7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGVycmNvZGU6bnVtYmVyICA9IHJlcy5zdGF0dXNDb2RlOyAvL+mUmeivr+eggVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChlcnJjb2RlID09IC0xKSBcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUuZXJyb3IoXCI+Pj7ns7vnu5/nuYHlv5nvvIzmraTml7bor7flvIDlj5HogIXnqI3lgJnlho3or5VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZmFpbCgpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYgKGVycmNvZGUgPT0gMCkgXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9cIj4+Puivt+axguaIkOWKn1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuZ2V0VXNlckluZm8oc3VjY2VzcyxmYWlsKTtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoZXJyY29kZSA9PSAyMDApIFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vXCI+Pj7or7fmsYLmiJDlip9cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLmdldFVzZXJJbmZvKHN1Y2Nlc3MsZmFpbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZXJyY29kZSA9PSA0MDAyOSkgXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9cIj4+Pj5jb2Rl5peg5pWIXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5nZXRVc2VySW5mbyhzdWNjZXNzLGZhaWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MoKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmFpbCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAoKT0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCI+Pj4+Pj4+6I635Y+W55m75b2V5Yet6K+B5aSx6LSlXCIpO1xyXG4gICAgICAgICAgICAgICAgZmFpbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAgLyoqXHJcbiAgICAgKiDnmbvlhaXlh63or4HmoKHpqoxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRBY2Nlc3NUb2tlbjIoc3VjY2VzczpGdW5jdGlvbixmYWlsOkZ1bmN0aW9uLGNvZGU6c3RyaW5nKTp2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHVybCA9IFwiaHR0cHM6Ly9hcGkud2VpeGluLnFxLmNvbS9zbnMvanNjb2RlMnNlc3Npb24/YXBwaWQ9ezB9JnNlY3JldD17MX0manNfY29kZT17Mn0mZ3JhbnRfdHlwZT17M31cIjsgLy/ov5nkuKror7fmsYLkvLzkuY7lj6rog73lnKjmnI3liqHlmajnq6/lrozmiJDvvIzliY3nq6/lj6rog73kuI3moKHpqozlkIjms5Xln5/lkI3miY3lj6/ku6Xkvb/nlKhcclxuICAgICAgICB1cmwgPSBTeXN0ZW1Ub29scy5mb3JtYXQodXJsLHRoaXMuYXBwaWQsdGhpcy5zZWNyZXQsY29kZSx0aGlzLmdyYW50X3R5cGUpOyAvL+aLvOaOpee9keWdgFxyXG5cclxuICAgICAgICAvL2h0dHBzOi8vYXBpLndlaXhpbi5xcS5jb20vc25zL2pzY29kZTJzZXNzaW9uP2FwcGlkPXd4NDcyZTE2ODAyZjY2MzI5YWpzX2NvZGU9MDMzMjlZYWQySnVkaUYwWTlWYmQyUWg2YmQyMjlZYTMmZ3JhbnRfdHlwZT1hdXRob3JpemF0aW9uX2NvZGVcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5yZXF1ZXN0R2V0KHVybCxcclxuICAgICAgICAgICAgKHJlczphbnkpPT57XHJcbiAgICAgICAgICAgICAgICBsZXQgZGF0YSAgICAgICAgICAgID0gcmVzLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBsZXQgb3BlbklkICAgICAgICAgPSBkYXRhLm9wZW5pZDsgLy/nlKjmiLfllK/kuIDmoIfor4ZcclxuICAgICAgICAgICAgICAgIGxldCBzZXNzaW9uX2tleSAgICA9IGRhdGEuc2Vzc2lvbl9rZXk7IC8v5Zue6K+d5a+G5YyZXHJcbiAgICAgICAgICAgICAgICAvL2xldCBlcnJjb2RlOm51bWJlciAgPSBkYXRhLmVycmNvZGU7IC8v6ZSZ6K+v56CBXHJcbiAgICAgICAgICAgICAgICBsZXQgZXJyY29kZTpudW1iZXIgID0gcmVzLnN0YXR1c0NvZGU7IC8v6ZSZ6K+v56CBXHJcbiAgICAgICAgICAgICAgICBsZXQgZXJyTXNnOnN0cmluZyAgID0gcmVzLmVyck1zZzsgLy/plJnor6/kv6Hmga9cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hY2Nlc3NUb2tlbkRhdGEgPSByZXMuZGF0YTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnd4TG9nKFwib3BlbklkXCIsb3BlbklkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMud3hMb2coXCJzZXNzaW9uX2tleVwiLHNlc3Npb25fa2V5KTtcclxuICAgICAgICAgICAgICAgIHRoaXMud3hMb2coXCJhY2Nlc3N0b2tlbiByZXMgXCIscmVzLGVycmNvZGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycmNvZGUgPT0gLTEpIFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCI+Pj7ns7vnu5/nuYHlv5nvvIzmraTml7bor7flvIDlj5HogIXnqI3lgJnlho3or5VcIik7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoZXJyY29kZSA9PSAwKSBcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvL1wiPj4+6K+35rGC5oiQ5YqfXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0VXNlckluZm8oc3VjY2VzcyxmYWlsKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmIChlcnJjb2RlID09IDIwMCkgXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9cIj4+Puivt+axguaIkOWKn1wiKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFVzZXJJbmZvKHN1Y2Nlc3MsZmFpbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChlcnJjb2RlID09IDQwMDI5KSBcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvL1wiPj4+PmNvZGXml6DmlYhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRVc2VySW5mbyhzdWNjZXNzLGZhaWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAoKT0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCI+Pj4+Pj4+6I635Y+W55m75b2V5Yet6K+B5aSx6LSlXCIpO1xyXG4gICAgICAgICAgICAgICAgZmFpbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPlueUqOaIt+S/oeaBr1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFVzZXJJbmZvKHN1Y2Nlc3M6RnVuY3Rpb24sZmFpbDpGdW5jdGlvbik6dm9pZFxyXG4gICAge1xyXG4gICAgICAgIGxldCBkYXRhOmFueSA9IFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOmZhbHNlLFxyXG4gICAgICAgICAgICBsYW5nOlwiemhfQ05cIixcclxuICAgICAgICAgICAgc3VjY2VzczoocmVzOmFueSk9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl91c2VyRGF0YSA9IHJlcztcclxuICAgICAgICAgICAgICAgIHRoaXMuX3VzZXJJbmZvID0gcmVzLnVzZXJJbmZvO1xyXG4gICAgICAgICAgICAgICAgdGhpcy53eExvZyhcIuiOt+WPlueUqOaIt+S/oeaBr+aIkOWKn1wiKTtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZmFpbDoocmVzOmFueSk9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnd4TG9nKFwi6I635Y+W55So5oi35L+h5oGv5aSx6LSlXCIscmVzKTtcclxuICAgICAgICAgICAgICAgIGZhaWwoKTtcclxuICAgICAgICAgICAgICAgIC8vdGhpcy5jaGVja1Nlc3Npb24oc3VjY2VzcyxmYWlsKTsgLy/ojrflj5bnlKjmiLfkv6Hmga/lpLHotKXkuYvlkI4g57un57ut5Y676I635Y+WXHJcbiAgICAgICAgICAgICAgICAvL3RoaXMud3hMb2coXCLojrflj5bnlKjmiLfkv6Hmga/lpLHotKU6XCIsdGhpcy50ZW1wQ29kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgd3guZ2V0VXNlckluZm8oZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvq7kv6Hor7fmsYJcclxuICAgICAqIEBwYXJhbSB1cmwgIOivt+axguWcsOWdgFxyXG4gICAgICogQHBhcmFtIHN1Y2Nlc3NDYWxsQmFjayDmiJDlip/lm57osINcclxuICAgICAqIEBwYXJhbSBmYWlsQmFjayAg5aSx6LSl5Zue6LCDXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVxdWVzdEdldCh1cmw6c3RyaW5nLHN1Y2Nlc3M6KHJlczphbnkpPT52b2lkLGZhaWw6KCk9PnZvaWQpOnZvaWRcclxuICAgIHtcclxuICAgICAgICBsZXQgcmVxdWVzdERhdGE6YW55ID0gXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB1cmw6dXJsLFxyXG4gICAgICAgICAgICBtZXRob2Q6XCJHRVRcIixcclxuICAgICAgICAgICAgZGF0YVR5cGU6XCJqc29uXCIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6KHJlczphbnkpPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzcyAmJiBzdWNjZXNzKHJlcyk7ICAgXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZhaWw6KCk9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBmYWlsICYmIGZhaWwoKTsgICBcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCI+Pj4+Pj7or7fmsYJ1cmzlpLHotKXvvJpcIityZXF1ZXN0RGF0YS51cmwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy53eC5yZXF1ZXN0KHJlcXVlc3REYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlcXVlc3RQb3N0KHVybDpzdHJpbmcsZGF0YTp7fSxzdWNjZXNzOihyZXM6YW55KT0+dm9pZCxmYWlsOigpPT52b2lkKVxyXG4gICAge1xyXG4gICAgICAgIGxldCByZXF1ZXN0RGF0YTphbnkgPSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHVybDp1cmwsXHJcbiAgICAgICAgICAgIG1ldGhvZDpcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YTpkYXRhLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTpcImpzb25cIixcclxuICAgICAgICAgICAgc3VjY2VzczoocmVzOmFueSk9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzICYmIHN1Y2Nlc3MocmVzKTsgICBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZmFpbDooKT0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZhaWwgJiYgZmFpbCgpOyAgIFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIj4+Pj4+Puivt+axgnVybOWksei0pe+8mlwiK3JlcXVlc3REYXRhLnVybCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnd4LnJlcXVlc3QocmVxdWVzdERhdGEpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiuvue9rueUqOaIt+aOkuWQjeaVsOaNruWtmOWCqFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0VXNlclJhbmtTdG9yYWdlKGtleTpzdHJpbmcsdmFsdWU6bnVtYmVyfHN0cmluZylcclxuICAgIHtcclxuICAgICAgICBpZighdGhpcy53eClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIga3ZkYXRhczpBcnJheTxPYmplY3Q+ID0gW1xyXG4gICAgICAgICAgICB7a2V5OmtleSx2YWx1ZTp2YWx1ZS50b1N0cmluZygpfSxcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLnd4LnNldFVzZXJDbG91ZFN0b3JhZ2UoXHJcbiAgICAgICAgICAgIHtLVkRhdGFMaXN0Omt2ZGF0YXMsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3MocmVzKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2V0VXNlckNsb3VkU3RvcmFnZVwiLHJlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdW5sb2FkVXNlclNjb3JlKHNjb3JlOm51bWJlcixzdWNjZXNzOkZ1bmN0aW9uLGZhaWw6RnVuY3Rpb24pXHJcbiAgICB7XHJcblxyXG4gICAgICAgIGlmKCF0aGlzLnd4KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCB1cmwgPSB0aGlzLndvcmxkUmFua1VybCArIGA/aWQ9JHt0aGlzLnVpZH0mc2NvcmU9JHtzY29yZX1gOyAvL+i/meS4quivt+axguS8vOS5juWPquiDveWcqOacjeWKoeWZqOerr+WujOaIkO+8jOWJjeerr+WPquiDveS4jeagoemqjOWQiOazleWfn+WQjeaJjeWPr+S7peS9v+eUqFxyXG5cclxuICAgICAgICB0aGlzLnJlcXVlc3RHZXQodXJsLFxyXG4gICAgICAgICAgICAocmVzOmFueSk9PntcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy53eExvZyhcIuS4iuS8oOeUqOaIt+aVsOaNrui/lOWbnlwiLHJlcy5kYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAwKSBcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmFpbCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAoKT0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLkuIrkvKDnlKjmiLfkv6Hmga/lpLHotKVcIik7XHJcbiAgICAgICAgICAgICAgICBmYWlsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRVc2VyU2NvcmVXb3JsZFJhbmsoc3VjY2VzczpGdW5jdGlvbixmYWlsOkZ1bmN0aW9uKVxyXG4gICAge1xyXG5cclxuICAgICAgICBpZighdGhpcy53eClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgdXJsID0gdGhpcy53b3JsZFJhbmtVcmwyICsgdGhpcy51aWQ7IC8v6L+Z5Liq6K+35rGC5Ly85LmO5Y+q6IO95Zyo5pyN5Yqh5Zmo56uv5a6M5oiQ77yM5YmN56uv5Y+q6IO95LiN5qCh6aqM5ZCI5rOV5Z+f5ZCN5omN5Y+v5Lul5L2/55SoXHJcblxyXG4gICAgICAgIHRoaXMucmVxdWVzdEdldCh1cmwsXHJcbiAgICAgICAgICAgIChyZXM6YW55KT0+e1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnd4TG9nKFwi55So5oi35LiW55WM5o6S6KGM5qac6L+U5Zue6L+U5ZueXCIscmVzKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAwKSBcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHJlcy5kYXRhLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGZhaWwoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgKCk9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi5LiK5Lyg55So5oi35L+h5oGv5aSx6LSlXCIpO1xyXG4gICAgICAgICAgICAgICAgZmFpbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliIbkuqvmuLjmiI9cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNoYXJlVG9BbnlPbmUoc3VjY2VzczpGdW5jdGlvbixmYWlsOkZ1bmN0aW9uKVxyXG4gICAge1xyXG4gICAgICAgIGlmKCF0aGlzLnd4KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3VjY2VzcygpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbm93VGltZTpudW1iZXIgPSBEYXRlLm5vdygpLzEwMDA7XHJcblxyXG4gICAgICAgIGlmKG5vd1RpbWUgLSB0aGlzLnNoYXJlVGltZSA8PSAzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgV1hTZGsuaW5zdGFuY2Uud3guc2hvd01vZGFsKHtcclxuICAgICAgICDCoCDCoCDCoCDCoCB0aXRsZTogJ+itpuWRiicsXHJcbiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsOmZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlybVRleHQ6XCLnoa7lrppcIixcclxuICAgICAgICDCoCDCoCDCoCDCoCBjb250ZW50OiBNYXRoLnJhbmRvbSgpIDwgMC41ID8gJ+efreaXtumXtOWGhSzkuI3opoHliIbkuqvlkIzkuIDkuKrnvqQnIDogJ+ivt+aNouS4que+pOivleivleWTpn5+JyxcclxuICAgICAgICDCoCDCoCDCoCDCoCBzdWNjZXNzOihyZXMpPT5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICDCoCDCoCDCoCDCoCDCoCDCoCBpZiAocmVzLmNvbmZpcm0pXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZhaWwoKTtcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zaGFyZVRpbWUgPSBub3dUaW1lO1xyXG5cclxuICAgICAgICAgICAgdmFyIHRpdGxlQXJyOnN0cmluZ1tdID0gW1xyXG4gICAgICAgICAgICAgICAgXCLku4rlubQ05pyI5pyA54Gr55qE5bCP5ri45oiPXCIsXHJcbiAgICAgICAgICAgICAgICBcIueOqei9rOmjnuWIgO+8jOWdkOaLpeWcsOeQg++8gVwiLFxyXG4gICAgICAgICAgICAgICAgXCLmj5DphpLvvJpA5L2g55qE5aW95Y+LIOW3suWujOaIkOS6lOadgFwiLFxyXG4gICAgICAgICAgICAgICAgXCLpo57liIDovazovazovazvvIzljovlipvmlaPmlaPmlaPvvIFcIixcclxuICAgICAgICAgICAgICAgIFwi5oiR5Y2H5pif55WM5aSn5biI5LqG77yM5L2g6IO95omT5Yiw5a6H5a6Z5pyA5by65ZCX77yfXCJcclxuICAgICAgICAgICAgXTtcclxuICAgIFxyXG4gICAgICAgICAgICB2YXIgaW5kZXg6bnVtYmVyID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIHRpdGxlQXJyLmxlbmd0aCkpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMud3guc2hhcmVBcHBNZXNzYWdlKHtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6IGAke3RpdGxlQXJyW2luZGV4XX1gLFxyXG4gICAgICAgICAgICAgICAgaW1hZ2VVcmw6XCJodHRwczovL2tuaWZlLTEyNTg4MTkxNTAuZmlsZS5teXFjbG91ZC5jb20vaW1hZ2UvJUU2JTk4JTlGJUU3JTkwJTgzJUU5JUEzJTlFJUU1JTg4JTgwLmpwZ1wiLFxyXG4gICAgICAgICAgICAgICAgcXVlcnk6IFwidHlwZT1zaGFyZVRvQW55T25lXCIsXHJcbiAgICBcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5ouJ6LW35YiG5LqrIOaIkOWKnycscmVzKTtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIGZhaWw6IGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5ouJ6LW35YiG5LqrIOWksei0pScscmVzKTtcclxuICAgICAgICAgICAgICAgICAgICBmYWlsKCk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUaW1lOm51bWJlciA9IERhdGUubm93KCkvMTAwMDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihjdXJyZW50VGltZSAtIG5vd1RpbWUgPD0gMylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjdXJyZW50VGltZSxub3dUaW1lLGN1cnJlbnRUaW1lIC0gbm93VGltZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFdYU2RrLmluc3RhbmNlLnd4LnNob3dNb2RhbCh7XHJcbiAgICAgICAgICAgICAgICDCoCDCoCDCoCDCoCB0aXRsZTogJ+itpuWRiicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDYW5jZWw6ZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1UZXh0Olwi56Gu5a6aXCIsXHJcbiAgICAgICAgICAgICAgICDCoCDCoCDCoCDCoCBjb250ZW50OiBNYXRoLnJhbmRvbSgpIDwgMC41ID8gJ+efreaXtumXtOWGhSzkuI3opoHliIbkuqvlkIzkuIDkuKrnvqQnIDogJ+ivt+aNouS4que+pOivleivleWTpn5+JyxcclxuICAgICAgICAgICAgICAgIMKgIMKgIMKgIMKgIHN1Y2Nlc3M6KHJlcyk9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICDCoCDCoCDCoCDCoCDCoCDCoCBpZiAocmVzLmNvbmZpcm0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgc3VjY2VzcygpO1xyXG5cclxuICAgICAgICAgICAgICAgIFdYU2RrLmluc3RhbmNlLnd4LnNob3dNb2RhbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgwqAgwqAgwqAgwqAgdGl0bGU6ICfliIbkuqvmiJDlip8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NhbmNlbDpmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1UZXh0Olwi56Gu5a6aXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgwqAgwqAgwqAgwqAgY29udGVudDogJ+aBreWWnCzojrflvpflpZblirEnLFxyXG4gICAgICAgICAgICAgICAgICAgIMKgIMKgIMKgIMKgIHN1Y2Nlc3M6KHJlcyk9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIMKgIMKgIMKgIMKgIMKgIMKgIGlmIChyZXMuY29uZmlybSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSwwLjgpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgc2hvd1ZpZGVvKGFkVW5pdElkOnN0cmluZyxjbG9zZT86RnVuY3Rpb24sc3VjY2Vzcz86RnVuY3Rpb24sZmFpbD86RnVuY3Rpb24pXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIXRoaXMud3gpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjbG9zZSAmJiBjbG9zZSgxKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgIGlmKHRoaXMuU0RLVmVyc2lvbiA8IFwiMi4wNFwiKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLln7rnoYDlupPniYjmnKzov4fkvY7vvIzkuI3og73kvb/nlKjop4bpopHlub/lkYrlip/og71cIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciByZXdhcmRlZFZpZGVvQWQgPSB0aGlzLnd4LmNyZWF0ZVJld2FyZGVkVmlkZW9BZCh7YWRVbml0SWQ6YWRVbml0SWR9KSAvL+S4jeaUr+aMgeWcqOW8gOWPkeW3peWFt+i/kOihjO+8jOWPquiDveWcqOecn+acuui/kOihjCDov5Tlm57lgLzmmK/kuKrljZXkvotcclxuICAgICAgIFxyXG4gICAgICAgIC8vdGhpcy53eExvZyhcInJld2FyZGVkVmlkZW9BZFwiLHJld2FyZGVkVmlkZW9BZCk7XHJcblxyXG4gICAgICAgIC8v6KeG6aKR5bm/5ZGK6buY6K6k5piv6ZqQ6JeP55qE77yM6KaB6LCD55Soc2hvd+aYvuekulxyXG5cclxuICAgICAgICByZXdhcmRlZFZpZGVvQWQub25Mb2FkKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy53eExvZygn5r+A5Yqx6KeG6aKRIOW5v+WRiuWKoOi9veaIkOWKnycpO1xyXG4gICAgICAgICAgICBzdWNjZXNzICYmIHN1Y2Nlc3MoKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXdhcmRlZFZpZGVvQWQub25FcnJvcihlcnIgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnd4TG9nKCfmv4DlirHop4bpopEg5bm/5ZGK5ouJ5Y+W5aSx6LSlJyxlcnIpO1xyXG4gICAgICAgICAgICBmYWlsICYmIGZhaWwoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV3YXJkZWRWaWRlb0FkLm9uQ2xvc2UocmVzPT57XHJcblxyXG4gICAgICAgICAgICByZXdhcmRlZFZpZGVvQWQub2ZmTG9hZCgpO1xyXG4gICAgICAgICAgICByZXdhcmRlZFZpZGVvQWQub2ZmRXJyb3IoKTtcclxuICAgICAgICAgICAgcmV3YXJkZWRWaWRlb0FkLm9mZkNsb3NlKCk7XHJcbiAgICAgICAgICAgIHJld2FyZGVkVmlkZW9BZCA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAvLyDlsI/kuo4gMi4xLjAg55qE5Z+656GA5bqT54mI5pys77yMcmVzIOaYr+S4gOS4qiB1bmRlZmluZWRcclxuICAgICAgICAgICAgaWYgKHJlcyAmJiByZXMuaXNFbmRlZCB8fCByZXMgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy/op4bpopHmraPluLjmkq3mlL7nu5PmnZ9cclxuICAgICAgICAgICAgICAgIGNsb3NlICYmIGNsb3NlKDEpO1xyXG4gICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvL+inhumikeaSreaUvuS4remAlOmAgOWHulxyXG4gICAgICAgICAgICAgICAgY2xvc2UgJiYgY2xvc2UoMClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL+W8gOWni+WKoOi9veinhumikeW5v+WRilxyXG4gICAgICAgIHJld2FyZGVkVmlkZW9BZC5sb2FkKCkudGhlbihcclxuICAgICAgICAgICAgKCk9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXdhcmRlZFZpZGVvQWQuc2hvdygpLmNhdGNoKFxyXG4gICAgICAgICAgICAgICAgICAgIGVycj0+e1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53eExvZygn6KeG6aKR5bm/5ZGK5pKt5pS+5aSx6LSlJyxlcnIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV3YXJkZWRWaWRlb0FkLm9mZkxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV3YXJkZWRWaWRlb0FkLm9mZkVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJld2FyZGVkVmlkZW9BZC5vZmZDbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXdhcmRlZFZpZGVvQWQgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgc2hvd0Jhbm5lcihhZFVuaXRJZDpzdHJpbmcsc3R5bGU6e30pXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIXRoaXMud3gpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5yZW1vdmVCYW5uZXIoKTtcclxuICAgICAgICAvL2Jhbm5lcum7mOiupOmakOiXj++8jOiwg+eUqHNob3fmlrnms5XmmL7npLpcclxuICAgICAgICB0aGlzLl9iYW5uZXJBZCA9IHRoaXMud3guY3JlYXRlQmFubmVyQWQoXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGFkVW5pdElkOmFkVW5pdElkLFxyXG4gICAgICAgICAgICAgICAgc3R5bGU6c3R5bGVcclxuICAgICAgICAgICAgICAgIC8qe1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6MTAsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOjYwLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOjQwMFxyXG4gICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLl9iYW5uZXJBZC5vbkxvYWQoKCk9PntcclxuICAgICAgICAgICAgdGhpcy53eExvZyhcIuW5v+WRiuaLieWPluaIkOWKn1wiKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fYmFubmVyQWQub25FcnJvcihlcnI9PntcclxuICAgICAgICAgICAgdGhpcy53eExvZyhcIuW5v+WRiuaLieWPluWksei0pVwiLGVycik7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLl9iYW5uZXJBZC5vblJlc2l6ZShyZXM9PntcclxuICAgICAgICAgICAgdGhpcy5fYmFubmVyQWQuc3R5bGUudG9wID0gdGhpcy5zY3JlZW5IZWlnaHQgLSByZXMuaGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLl9iYW5uZXJBZC5zdHlsZS53aWR0aCA9IHRoaXMuc2NyZWVuV2lkdGggKyA1MDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fYmFubmVyQWQuc2hvdygpLnRoZW4oKCk9Pnt0aGlzLnd4TG9nKFwi5pi+56S65bm/5ZGKXCIpfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9iYW5uZXJBZDtcclxuICAgICAgICAvL2Jhbm5lckFkLmhpZGUoKTsvL+WIh+aNouWIsOaXoOW5v+WRiumhtemdouaXtuiwg+eUqGhpZGUoKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93Qm90dG9tQmFubmVyKGFkVW5pdElkOnN0cmluZylcclxuICAgIHtcclxuICAgICAgICBpZighdGhpcy53eClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgc3R5bGUgPSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxlZnQ6MCxcclxuICAgICAgICAgICAgdG9wOnRoaXMuc2NyZWVuSGVpZ2h0IC0gMTMwLFxyXG4gICAgICAgICAgICB3aWR0aDp0aGlzLnNjcmVlbldpZHRoICsgNTAsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBXWFNkay5pbnN0YW5jZS5zaG93QmFubmVyKGFkVW5pdElkLHN0eWxlKTtcclxuICAgICAgICBcclxuICAgICAgICAvKnRoaXMuX2Jhbm5lckFkLmhpZGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2Jhbm5lckFkLnNob3coKTtcclxuICAgICAgICAgICAgdGhpcy5fYmFubmVyQWQuc3R5bGUudG9wID0gdGhpcy5zY3JlZW5IZWlnaHQgLSB0aGlzLl9iYW5uZXJBZC5zdHlsZS5yZWFsSGVpZ2h0O1xyXG4gICAgICAgIH0sMC42KTsqL1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlQmFubmVyKClcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLl9iYW5uZXJBZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Jhbm5lckFkLm9mZkxvYWQoKTtcclxuICAgICAgICAgICAgdGhpcy5fYmFubmVyQWQub2ZmRXJyb3IoKTtcclxuICAgICAgICAgICAgdGhpcy5fYmFubmVyQWQub2ZmUmVzaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Jhbm5lckFkLmRlc3Ryb3koKTsgLy/opoHlhYjmiorml6fnmoTlub/lkYrnu5nplIDmr4HvvIzkuI3nhLbkvJrlr7zoh7Tlhbbnm5HlkKznmoTml7bpl7Tml6Dms5Xph4rmlL7vvIzlvbHlk43mgKfog71cclxuICAgICAgICAgICAgdGhpcy5fYmFubmVyQWQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlIChkdCkge31cclxuXHJcbiAgICAvKipcclxuICAgICAqIDE1bXPnmoTnn63pnIfliqhcclxuICAgICAqL1xyXG4gICAgcHVibGljIHZpYnJhdGVTaG9ydCgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIXRoaXMud3gpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKmlmKHRoaXMuaXNWaWJyYXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0qL1xyXG5cclxuICAgICAgICAvL3RoaXMuaXNWaWJyYXRlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy53eC52aWJyYXRlU2hvcnQoe30pO1xyXG5cclxuICAgICAgICAvKnRoaXMuc2NoZWR1bGVPbmNlKCgpPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNWaWJyYXRlID0gZmFsc2U7XHJcbiAgICAgICAgfSwwLjAzNSk7Ki9cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIDQwMG1z55qE6ZW/6ZyH5YqoXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB2aWJyYXRlTG9uZygpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIXRoaXMud3gpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKmlmKHRoaXMuaXNWaWJyYXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0qL1xyXG5cclxuXHJcbiAgICAgICAgLy90aGlzLmlzVmlicmF0ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMud3gudmlicmF0ZUxvbmcoe30pO1xyXG5cclxuICAgICAgICAvKnRoaXMuc2NoZWR1bGVPbmNlKCgpPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNWaWJyYXRlID0gZmFsc2U7XHJcbiAgICAgICAgfSwwLjUpOyovXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5bCP56iL5bqP5LqM57u056CBXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjcmVhdGVXWEFRUkNvZGUoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMud3guY3JlYXRlV1hBUVJDb2RlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFdYQUNvZGUoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMud3guZ2V0V1hBQ29kZSh7fSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/util/MovieClip.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '10fa9noqZpH3pYATAmeKpIH', 'MovieClip');
// script/tscript/util/MovieClip.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Mathf_1 = require("./Mathf");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var MovieClip = /** @class */ (function (_super) {
    __extends(MovieClip, _super);
    function MovieClip() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /// <summary>
        /// Sprite渲染器
        /// </summary>
        _this.m_sprite = null;
        /// <summary>
        /// 动画计时间隔 每隔0.1s更新一帧
        /// </summary>
        _this.timer = 0.1;
        /// <summary>
        /// 播放 时间 间隔
        /// </summary>
        _this.interval = 0.1;
        /// <summary>
        /// 贴图文件名
        /// </summary>
        _this.texture = null;
        /// <summary>
        /// 播放次数
        /// </summary>
        _this.playTimes = 0;
        /// <summary>
        /// 图片切割成几行
        /// </summary>
        _this.row = 4;
        /// <summary>
        /// 图片切割成几列
        /// </summary>
        _this.col = 4;
        _this.rowIndex = 0;
        _this.isAll = false;
        _this.autoPlayOnLoad = true;
        /// <summary>
        /// 播放完自动销毁
        /// </summary>
        _this.autoDestroy = false;
        _this.begin = 0;
        _this.end = 4;
        /// <summary>
        /// 动画帧数
        /// </summary>
        _this.totalFrame = 8;
        /// <summary>
        /// 当前帧数
        /// </summary>
        _this.currentFrame = 0;
        /**
         * 当前播放了第几次
         */
        _this.currentTimes = 0;
        /// <summary>
        /// 影片是否在跑动中
        /// </summary>
        _this.running = true;
        //private _direction:number = 1;
        _this._playIndex = 0;
        _this._pieceWidth = 0;
        _this._pieceHeight = 0;
        _this.rect = new cc.Rect();
        return _this;
    }
    ;
    // Use this for initialization
    MovieClip.prototype.start = function () {
        //this. m_clips = new cc.SpriteFrame[this.row][this.col];
        //Texture2D tex = Resources.Load<Texture2D>("Image/Avatar/" + m_sprite_name);
        this.begin = 0;
        this.end = this.col;
        this.rowIndex = Mathf_1.default.clamp(this.rowIndex, 0, this.row - 1);
        this._pieceWidth = this.texture.width / this.col;
        this._pieceHeight = this.texture.height / this.row;
        this.m_sprite = this.getComponent(cc.Sprite);
        this.m_sprite.spriteFrame = new cc.SpriteFrame(this.texture, new cc.Rect(0, this.rowIndex * this._pieceHeight, this._pieceWidth, this._pieceHeight), false, cc.v2(0, 0), new cc.Size(this._pieceWidth, this._pieceHeight));
        //this.m_sprite.spriteFrame.setTexture(this.texture,new cc.Rect(0,0,this._pieceWidth * j,i * this._pieceHeight),false,cc.v2(0,0),new cc.Size(this._pieceWidth,this._pieceHeight));
        this.rect.width = this._pieceWidth;
        this.rect.height = this._pieceHeight;
        this.node.width = this._pieceWidth;
        this.node.height = this._pieceHeight;
        this.timer = this.interval;
        this.running = this.autoPlayOnLoad;
    };
    MovieClip.prototype.update = function (dt) {
        if (!this.running)
            return;
        if (this.playTimes != 0 && this.currentTimes == this.playTimes)
            return;
        this.timer -= dt;
        if (this.timer <= 0) {
            this.timer = this.interval;
            this.currentFrame = this.currentFrame % this.col;
            this.playAction();
            this.currentFrame++;
            if (this.currentFrame == this.col) {
                if (this.isAll) {
                    this.rowIndex++;
                    if (this.rowIndex == this.row) {
                        this.currentTimes++;
                        this.node.emit("completeTimes");
                        if (this.playTimes != 0 && this.currentTimes == this.playTimes) {
                            this.node.emit("complete");
                            if (this.autoDestroy) {
                                this.node.destroy();
                            }
                        }
                    }
                    this.rowIndex %= this.row;
                }
                else {
                    this.currentTimes++;
                    this.node.emit("completeTimes");
                    if (this.playTimes != 0 && this.currentTimes == this.playTimes) {
                        this.node.emit("complete");
                        if (this.autoDestroy) {
                            this.node.destroy();
                        }
                    }
                }
            }
        }
    };
    MovieClip.prototype.playAction = function () {
        this.rowIndex = Mathf_1.default.clamp(this.rowIndex, 0, this.row - 1);
        this._playIndex = this._playIndex % (this.begin - this.end) + this.begin;
        //this.m_sprite.sprite = m_clips[rowIndex, _playIndex];
        this.rect.x = this._playIndex * this._pieceWidth;
        this.rect.y = this.rowIndex * this._pieceHeight;
        this.m_sprite.spriteFrame.setRect(this.rect);
        this._playIndex++;
    };
    /// <summary>
    /// 播放影片
    /// </summary>
    MovieClip.prototype.play = function () {
        this.running = true;
    };
    /// <summary>
    /// 停止播放影片
    /// </summary>
    MovieClip.prototype.stop = function () {
        this.running = false;
    };
    /// <summary>
    /// 跳帧播放
    /// </summary>
    /// <param name="frame">帧</param>
    MovieClip.prototype.gotoAndPlay = function (frame) {
        this.running = true;
        this._playIndex = frame;
        this._playIndex = Mathf_1.default.clamp(this._playIndex, 0, this.col - 1);
    };
    /// <summary>
    /// 跳帧停止
    /// </summary>
    /// <param name="frame">帧</param>
    MovieClip.prototype.gotoAndStop = function (frame) {
        this.running = false;
        this._playIndex = frame;
        this._playIndex = Mathf_1.default.clamp(this._playIndex, 0, this.col - 1);
        this.rect.x = this._playIndex * this._pieceWidth;
        this.rect.y = this.rowIndex * this._pieceHeight;
        this.m_sprite.spriteFrame.setRect(this.rect);
    };
    __decorate([
        property(cc.Float)
    ], MovieClip.prototype, "interval", void 0);
    __decorate([
        property({ type: cc.Texture2D })
    ], MovieClip.prototype, "texture", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], MovieClip.prototype, "playTimes", void 0);
    __decorate([
        property(cc.Integer)
    ], MovieClip.prototype, "row", void 0);
    __decorate([
        property(cc.Integer)
    ], MovieClip.prototype, "col", void 0);
    __decorate([
        property(cc.Integer)
    ], MovieClip.prototype, "rowIndex", void 0);
    __decorate([
        property(cc.Boolean)
    ], MovieClip.prototype, "isAll", void 0);
    __decorate([
        property(cc.Boolean)
    ], MovieClip.prototype, "autoPlayOnLoad", void 0);
    __decorate([
        property(cc.Boolean)
    ], MovieClip.prototype, "autoDestroy", void 0);
    MovieClip = __decorate([
        ccclass
    ], MovieClip);
    return MovieClip;
}(cc.Component));
exports.default = MovieClip;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1dGlsXFxNb3ZpZUNsaXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGlDQUE0QjtBQUU1QixvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQXVDLDZCQUFZO0lBRG5EO1FBQUEscUVBbVFDO1FBaFFHLGFBQWE7UUFDYixhQUFhO1FBQ2IsY0FBYztRQUNKLGNBQVEsR0FBYSxJQUFJLENBQUM7UUFHcEMsYUFBYTtRQUNiLHFCQUFxQjtRQUNyQixjQUFjO1FBQ0osV0FBSyxHQUFVLEdBQUcsQ0FBQztRQUU3QixhQUFhO1FBQ2IsWUFBWTtRQUNaLGNBQWM7UUFFUCxjQUFRLEdBQVUsR0FBRyxDQUFDO1FBRTdCLGFBQWE7UUFDYixTQUFTO1FBQ1QsY0FBYztRQUVQLGFBQU8sR0FBZ0IsSUFBSSxDQUFDO1FBRW5DLGFBQWE7UUFDYixRQUFRO1FBQ1IsY0FBYztRQUVQLGVBQVMsR0FBVSxDQUFDLENBQUM7UUFFNUIsYUFBYTtRQUNiLFdBQVc7UUFDWCxjQUFjO1FBR1AsU0FBRyxHQUFVLENBQUMsQ0FBQztRQUV0QixhQUFhO1FBQ2IsV0FBVztRQUNYLGNBQWM7UUFFUCxTQUFHLEdBQVUsQ0FBQyxDQUFDO1FBR2YsY0FBUSxHQUFVLENBQUMsQ0FBQztRQUdwQixXQUFLLEdBQVcsS0FBSyxDQUFDO1FBR3RCLG9CQUFjLEdBQVcsSUFBSSxDQUFDO1FBRXJDLGFBQWE7UUFDYixXQUFXO1FBQ1gsY0FBYztRQUVQLGlCQUFXLEdBQVcsS0FBSyxDQUFDO1FBRzNCLFdBQUssR0FBVSxDQUFDLENBQUM7UUFFakIsU0FBRyxHQUFVLENBQUMs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Q0FBQyxPQUFPLENBQUM7MENBQ0M7SUFHdEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQzsrQ0FDTTtJQUczQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDOzRDQUNRO0lBRzdCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUM7cURBQ2dCO0lBTXJDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUM7a0RBQ2M7SUF6RGxCLFNBQVM7UUFEN0IsT0FBTztPQUNhLFNBQVMsQ0FrUTdCO0lBQUQsZ0JBQUM7Q0FsUUQsQUFrUUMsQ0FsUXNDLEVBQUUsQ0FBQyxTQUFTLEdBa1FsRDtrQkFsUW9CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTWF0aGYgZnJvbSBcIi4vTWF0aGZcIjtcclxuXHJcbi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb3ZpZUNsaXAgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBTcHJpdGXmuLLmn5PlmahcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwcm90ZWN0ZWQgbV9zcHJpdGU6Y2MuU3ByaXRlID0gbnVsbDs7XHJcblxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDliqjnlLvorqHml7bpl7TpmpQg5q+P6ZqUMC4xc+abtOaWsOS4gOW4p1xyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHByb3RlY3RlZCB0aW1lcjpudW1iZXIgPSAwLjE7XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOaSreaUviDml7bpl7Qg6Ze06ZqUXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgQHByb3BlcnR5KGNjLkZsb2F0KVxyXG4gICAgcHVibGljIGludGVydmFsOm51bWJlciA9IDAuMTtcclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g6LS05Zu+5paH5Lu25ZCNXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLlRleHR1cmUyRH0pXHJcbiAgICBwdWJsaWMgdGV4dHVyZTpjYy5UZXh0dXJlMkQgPSBudWxsO1xyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDmkq3mlL7mrKHmlbBcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuSW50ZWdlcn0pXHJcbiAgICBwdWJsaWMgcGxheVRpbWVzOm51bWJlciA9IDA7XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOWbvueJh+WIh+WJsuaIkOWHoOihjFxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuXHJcbiAgICBAcHJvcGVydHkoY2MuSW50ZWdlcilcclxuICAgIHB1YmxpYyByb3c6bnVtYmVyID0gNDtcclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g5Zu+54mH5YiH5Ymy5oiQ5Yeg5YiXXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgQHByb3BlcnR5KGNjLkludGVnZXIpXHJcbiAgICBwdWJsaWMgY29sOm51bWJlciA9IDQ7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkludGVnZXIpXHJcbiAgICBwdWJsaWMgcm93SW5kZXg6bnVtYmVyID0gMDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuQm9vbGVhbilcclxuICAgIHB1YmxpYyBpc0FsbDpib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkJvb2xlYW4pXHJcbiAgICBwdWJsaWMgYXV0b1BsYXlPbkxvYWQ6Ym9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOaSreaUvuWujOiHquWKqOmUgOavgVxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIEBwcm9wZXJ0eShjYy5Cb29sZWFuKVxyXG4gICAgcHVibGljIGF1dG9EZXN0cm95OmJvb2xlYW4gPSBmYWxzZTtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBiZWdpbjpudW1iZXIgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgZW5kOm51bWJlciA9IDQ7XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOWKqOeUu+W4p+aVsFxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyB0b3RhbEZyYW1lOm51bWJlciA9IDg7XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOW9k+WJjeW4p+aVsFxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBjdXJyZW50RnJhbWU6bnVtYmVyID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOW9k+WJjeaSreaUvuS6huesrOWHoOasoVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGN1cnJlbnRUaW1lczpudW1iZXIgPSAwO1xyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDlvbHniYfmmK/lkKblnKjot5HliqjkuK1cclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwdWJsaWMgcnVubmluZzpib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICAvL3ByaXZhdGUgX2RpcmVjdGlvbjpudW1iZXIgPSAxO1xyXG5cclxuICAgIHByaXZhdGUgX3BsYXlJbmRleDpudW1iZXIgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgX3BpZWNlV2lkdGg6bnVtYmVyID0gMDtcclxuXHJcbiAgICBwcml2YXRlIF9waWVjZUhlaWdodDpudW1iZXIgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgcmVjdDpjYy5SZWN0ID0gbmV3IGNjLlJlY3QoKTtcclxuXHJcblxyXG4gICAgLy8gVXNlIHRoaXMgZm9yIGluaXRpYWxpemF0aW9uXHJcbiAgICBzdGFydCgpXHJcbiAgICB7XHJcblxyXG4gICAgICAgIC8vdGhpcy4gbV9jbGlwcyA9IG5ldyBjYy5TcHJpdGVGcmFtZVt0aGlzLnJvd11bdGhpcy5jb2xdO1xyXG4gICAgICAgIC8vVGV4dHVyZTJEIHRleCA9IFJlc291cmNlcy5Mb2FkPFRleHR1cmUyRD4oXCJJbWFnZS9BdmF0YXIvXCIgKyBtX3Nwcml0ZV9uYW1lKTtcclxuXHJcbiAgICAgICAgdGhpcy5iZWdpbiA9IDA7XHJcbiAgICAgICAgdGhpcy5lbmQgPSB0aGlzLmNvbDtcclxuXHJcbiAgICAgICAgdGhpcy5yb3dJbmRleCA9IE1hdGhmLmNsYW1wKHRoaXMucm93SW5kZXgsMCx0aGlzLnJvdyAtIDEpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5fcGllY2VXaWR0aCA9IHRoaXMudGV4dHVyZS53aWR0aCAvIHRoaXMuY29sO1xyXG4gICAgICAgIHRoaXMuX3BpZWNlSGVpZ2h0ID0gdGhpcy50ZXh0dXJlLmhlaWdodCAvIHRoaXMucm93O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMubV9zcHJpdGUgPSB0aGlzLmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xyXG5cclxuICAgICAgICB0aGlzLm1fc3ByaXRlLnNwcml0ZUZyYW1lID0gbmV3IGNjLlNwcml0ZUZyYW1lKHRoaXMudGV4dHVyZSxuZXcgY2MuUmVjdCgwLHRoaXMucm93SW5kZXggKiB0aGlzLl9waWVjZUhlaWdodCx0aGlzLl9waWVjZVdpZHRoLCB0aGlzLl9waWVjZUhlaWdodCksZmFsc2UsY2MudjIoMCwwKSxuZXcgY2MuU2l6ZSh0aGlzLl9waWVjZVdpZHRoLHRoaXMuX3BpZWNlSGVpZ2h0KSk7XHJcblxyXG4gICAgICAgIC8vdGhpcy5tX3Nwcml0ZS5zcHJpdGVGcmFtZS5zZXRUZXh0dXJlKHRoaXMudGV4dHVyZSxuZXcgY2MuUmVjdCgwLDAsdGhpcy5fcGllY2VXaWR0aCAqIGosaSAqIHRoaXMuX3BpZWNlSGVpZ2h0KSxmYWxzZSxjYy52MigwLDApLG5ldyBjYy5TaXplKHRoaXMuX3BpZWNlV2lkdGgsdGhpcy5fcGllY2VIZWlnaHQpKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWN0LndpZHRoID0gdGhpcy5fcGllY2VXaWR0aDtcclxuICAgICAgICB0aGlzLnJlY3QuaGVpZ2h0ID0gdGhpcy5fcGllY2VIZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMubm9kZS53aWR0aCA9IHRoaXMuX3BpZWNlV2lkdGg7XHJcbiAgICAgICAgdGhpcy5ub2RlLmhlaWdodCA9IHRoaXMuX3BpZWNlSGVpZ2h0O1xyXG5cclxuICAgICAgICB0aGlzLnRpbWVyID0gdGhpcy5pbnRlcnZhbDtcclxuXHJcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gdGhpcy5hdXRvUGxheU9uTG9hZDtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShkdClcclxuICAgIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnJ1bm5pbmcpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGxheVRpbWVzICE9IDAgJiYgdGhpcy5jdXJyZW50VGltZXMgPT0gdGhpcy5wbGF5VGltZXMpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lciAtPSBkdDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudGltZXIgPD0gMClcclxuICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRpbWVyID0gdGhpcy5pbnRlcnZhbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWUgJSB0aGlzLmNvbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxheUFjdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50RnJhbWUrKztcclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMuY3VycmVudEZyYW1lID09IHRoaXMuY29sKVxyXG4gICAgICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5pc0FsbClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvd0luZGV4Kys7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMucm93SW5kZXggPT0gdGhpcy5yb3cpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUaW1lcyArKztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5lbWl0KFwiY29tcGxldGVUaW1lc1wiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXlUaW1lcyAhPSAwICYmIHRoaXMuY3VycmVudFRpbWVzID09IHRoaXMucGxheVRpbWVzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGUuZW1pdChcImNvbXBsZXRlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuYXV0b0Rlc3Ryb3kpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2RlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3dJbmRleCAlPSB0aGlzLnJvdztcclxuICAgICAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VGltZXMgKys7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5lbWl0KFwiY29tcGxldGVUaW1lc1wiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheVRpbWVzICE9IDAgJiYgdGhpcy5jdXJyZW50VGltZXMgPT0gdGhpcy5wbGF5VGltZXMpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGUuZW1pdChcImNvbXBsZXRlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5hdXRvRGVzdHJveSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2RlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiBcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBwbGF5QWN0aW9uKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnJvd0luZGV4ID0gTWF0aGYuY2xhbXAodGhpcy5yb3dJbmRleCwgMCwgdGhpcy5yb3cgLSAxKTtcclxuXHJcbiAgICAgICAgdGhpcy5fcGxheUluZGV4ID0gdGhpcy5fcGxheUluZGV4ICUgKHRoaXMuYmVnaW4gLSB0aGlzLmVuZCkgKyB0aGlzLmJlZ2luO1xyXG4gICAgICAgIC8vdGhpcy5tX3Nwcml0ZS5zcHJpdGUgPSBtX2NsaXBzW3Jvd0luZGV4LCBfcGxheUluZGV4XTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWN0LnggPSB0aGlzLl9wbGF5SW5kZXggKiB0aGlzLl9waWVjZVdpZHRoO1xyXG4gICAgICAgIHRoaXMucmVjdC55ID0gdGhpcy5yb3dJbmRleCAqIHRoaXMuX3BpZWNlSGVpZ2h0O1xyXG5cclxuICAgICAgICB0aGlzLm1fc3ByaXRlLnNwcml0ZUZyYW1lLnNldFJlY3QodGhpcy5yZWN0KTtcclxuICAgICAgICB0aGlzLl9wbGF5SW5kZXgrKztcclxuICAgIH1cclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g5pKt5pS+5b2x54mHXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljIHBsYXkoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMucnVubmluZyA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOWBnOatouaSreaUvuW9seeJh1xyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBzdG9wKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g6Lez5bin5pKt5pS+XHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgLy8vIDxwYXJhbSBuYW1lPVwiZnJhbWVcIj7luKc8L3BhcmFtPlxyXG4gICAgcHVibGljIGdvdG9BbmRQbGF5KGZyYW1lOm51bWJlcilcclxuICAgIHtcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX3BsYXlJbmRleCA9IGZyYW1lO1xyXG4gICAgICAgIHRoaXMuX3BsYXlJbmRleCA9IE1hdGhmLmNsYW1wKHRoaXMuX3BsYXlJbmRleCwgMCwgdGhpcy5jb2wgLSAxKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOi3s+W4p+WBnOatolxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIC8vLyA8cGFyYW0gbmFtZT1cImZyYW1lXCI+5binPC9wYXJhbT5cclxuICAgIHB1YmxpYyBnb3RvQW5kU3RvcChmcmFtZTpudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuX3BsYXlJbmRleCA9IGZyYW1lO1xyXG4gICAgICAgIHRoaXMuX3BsYXlJbmRleCA9IE1hdGhmLmNsYW1wKHRoaXMuX3BsYXlJbmRleCwgMCwgdGhpcy5jb2wgLSAxKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnJlY3QueCA9IHRoaXMuX3BsYXlJbmRleCAqIHRoaXMuX3BpZWNlV2lkdGg7XHJcbiAgICAgICAgdGhpcy5yZWN0LnkgPSB0aGlzLnJvd0luZGV4ICogdGhpcy5fcGllY2VIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5tX3Nwcml0ZS5zcHJpdGVGcmFtZS5zZXRSZWN0KHRoaXMucmVjdCk7XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/gamescene/PlayerController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fffb951/GFGpZQryjExFi+v', 'PlayerController');
// script/tscript/gamescene/PlayerController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Player_1 = require("./Player");
var GameManager_1 = require("../core/GameManager");
var Mathf_1 = require("../util/Mathf");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PlayerController = /** @class */ (function (_super) {
    __extends(PlayerController, _super);
    function PlayerController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.player = null;
        _this.touchPos = cc.Vec2.ZERO;
        _this.baseZoom = 1;
        _this.targetZoom = 1;
        _this.zoomRatio = 1;
        _this.joyStick = null;
        return _this;
    }
    //private currentZoomVec:cc.Vec2 = cc.Vec2.ZERO;
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    PlayerController.prototype.start = function () {
        var _this = this;
        //this.currentZoomVec.x = cc.Camera.main.zoomRatio;
        this.baseZoom = cc.Camera.main.zoomRatio;
        this.targetZoom = cc.Camera.main.zoomRatio;
        this.player = this.getComponent(Player_1.default);
        this.joyStick = GameManager_1.default.instance.joystick;
        //cc.log("lerp",Mathf.lerp(0.5,1,0.5));
        if (this.player.isAI) {
            return;
        }
        var touchPlane = GameManager_1.default.instance.touchPlane;
        touchPlane.on(cc.Node.EventType.TOUCH_START, function (event) {
            if (!_this.player || _this.player.status == Player_1.PlayerStatus.die) {
                return;
            }
            _this.touchPos = event.getLocation();
            _this.player.changeAttackState();
            if (GameManager_1.default.instance.gameStatus == GameManager_1.GameStatus.start) {
                _this.zoomRatio = 0.75;
                _this.joyStick.node.position = cc.v2(event.getLocation().x - cc.winSize.width * 0.5, event.getLocation().y - cc.winSize.height * 0.5);
                _this.joyStick.show();
            }
            _this.player.circle.active = false;
        });
        touchPlane.on(cc.Node.EventType.TOUCH_MOVE, function (event) {
            if (GameManager_1.default.instance.gameStatus != GameManager_1.GameStatus.start) {
                _this.player.moveDir = cc.Vec2.ZERO;
                return;
            }
            if (!_this.player || _this.player.status == Player_1.PlayerStatus.die) {
                return;
            }
            var currentPos = event.getLocation();
            _this.player.moveDir = currentPos.sub(_this.touchPos).normalize();
            _this.joyStick.cursorTo(_this.player.moveDir);
            //this.player.moveDir = event.getDelta().normalize();
        });
        touchPlane.on(cc.Node.EventType.TOUCH_END, function (event) {
            if (!_this.player || _this.player.status == Player_1.PlayerStatus.die) {
                return;
            }
            _this.player.moveDir = cc.Vec2.ZERO;
            _this.player.changeDefenceState();
            _this.zoomRatio = 1;
            if (GameManager_1.default.instance.gameStatus == GameManager_1.GameStatus.start) {
                _this.player.circle.active = true;
            }
            _this.joyStick.hidden();
        });
        touchPlane.on(cc.Node.EventType.TOUCH_CANCEL, function (event) {
            if (!_this.player || _this.player.status == Player_1.PlayerStatus.die) {
                return;
            }
            _this.player.moveDir = cc.Vec2.ZERO;
            _this.player.changeDefenceState();
            _this.zoomRatio = 1;
            if (GameManager_1.default.instance.gameStatus == GameManager_1.GameStatus.start) {
                _this.player.circle.active = true;
            }
            _this.joyStick.hidden();
        });
    };
    PlayerController.prototype.update = function (dt) {
        //cc.Camera.main.zoomRatio = Mathf.lerp(cc.Camera.main.zoomRatio,this.targetZoom,dt);
        //var vec2:cc.Vec2 = Vector2.lerp(this.currentZoomVec,this.targetZoomVec,dt * 5);
        //cc.Camera.main.zoomRatio = vec2.x;
        if (this.player.isAI) {
            return;
        }
        this.targetZoom = (this.baseZoom / this.player.size) * this.zoomRatio;
        cc.Camera.main.zoomRatio = Mathf_1.default.lerp(cc.Camera.main.zoomRatio, this.targetZoom, dt * 5);
    };
    PlayerController = __decorate([
        ccclass
    ], PlayerController);
    return PlayerController;
}(cc.Component));
exports.default = PlayerController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxnYW1lc2NlbmVcXFBsYXllckNvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG1DQUFnRDtBQUNoRCxtREFBOEQ7QUFFOUQsdUNBQWtDO0FBSWxDLG9CQUFvQjtBQUNwQixrRkFBa0Y7QUFDbEYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5Qiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBRTdGLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFHMUM7SUFBOEMsb0NBQVk7SUFEMUQ7UUFBQSxxRUErSUM7UUEzSVUsWUFBTSxHQUFVLElBQUksQ0FBQztRQUVwQixjQUFRLEdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7UUFHaEMsY0FBUSxHQUFVLENBQUMsQ0FBQztRQUVwQixnQkFBVSxHQUFVLENBQUMsQ0FBQztRQUV2QixlQUFTLEdBQVUsQ0FBQyxDQUFDO1FBRXBCLGNBQVEsR0FBWSxJQUFJLENBQUM7O0lBZ0lyQyxDQUFDO0lBN0hHLGdEQUFnRDtJQUVoRCx3QkFBd0I7SUFFeEIsZUFBZTtJQUVmLGdDQUFLLEdBQUw7UUFBQSxpQkFzR0M7UUFwR0csbURBQW1EO1FBQ25ELElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBRTNDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxnQkFBTSxDQUFDLENBQUM7UUFFeEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUM7UUFFOUMsdUNBQXVDO1FBRXZDLElB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LENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLENBQUMsVUFBVSxFQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUUzRixDQUFDO0lBN0lnQixnQkFBZ0I7UUFEcEMsT0FBTztPQUNhLGdCQUFnQixDQThJcEM7SUFBRCx1QkFBQztDQTlJRCxBQThJQyxDQTlJNkMsRUFBRSxDQUFDLFNBQVMsR0E4SXpEO2tCQTlJb0IsZ0JBQWdCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBsYXllciwgeyBQbGF5ZXJTdGF0dXMgfSBmcm9tIFwiLi9QbGF5ZXJcIjtcclxuaW1wb3J0IEdhbWVNYW5hZ2VyLCB7IEdhbWVTdGF0dXMgfSBmcm9tIFwiLi4vY29yZS9HYW1lTWFuYWdlclwiO1xyXG5pbXBvcnQgVmVjdG9yMiBmcm9tIFwiLi4vdXRpbC9WZWN0b3IyXCI7XHJcbmltcG9ydCBNYXRoZiBmcm9tIFwiLi4vdXRpbC9NYXRoZlwiO1xyXG5pbXBvcnQgSm95c3RpY2sgZnJvbSBcIi4vSm95c3RpY2tcIjtcclxuaW1wb3J0IENvbW1vblVpbHMgZnJvbSBcIi4uL3V0aWwvQ29tbW9uVWlsc1wiO1xyXG5cclxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllckNvbnRyb2xsZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIFxyXG4gICAgcHVibGljIHBsYXllcjpQbGF5ZXIgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgdG91Y2hQb3M6Y2MuVmVjMiA9IGNjLlZlYzIuWkVSTztcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBiYXNlWm9vbTpudW1iZXIgPSAxO1xyXG4gICAgXHJcbiAgICBwcml2YXRlIHRhcmdldFpvb206bnVtYmVyID0gMTtcclxuXHJcbiAgICBwdWJsaWMgem9vbVJhdGlvOm51bWJlciA9IDE7XHJcblxyXG4gICAgcHJpdmF0ZSBqb3lTdGljazpKb3lzdGljayA9IG51bGw7XHJcbiAgICBcclxuXHJcbiAgICAvL3ByaXZhdGUgY3VycmVudFpvb21WZWM6Y2MuVmVjMiA9IGNjLlZlYzIuWkVSTztcclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcbiAgICAvLyBvbkxvYWQgKCkge31cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgICAgIC8vdGhpcy5jdXJyZW50Wm9vbVZlYy54ID0gY2MuQ2FtZXJhLm1haW4uem9vbVJhdGlvO1xyXG4gICAgICAgIHRoaXMuYmFzZVpvb20gPSBjYy5DYW1lcmEubWFpbi56b29tUmF0aW87XHJcbiAgICAgICAgdGhpcy50YXJnZXRab29tID0gY2MuQ2FtZXJhLm1haW4uem9vbVJhdGlvO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllciA9IHRoaXMuZ2V0Q29tcG9uZW50KFBsYXllcik7XHJcblxyXG4gICAgICAgIHRoaXMuam95U3RpY2sgPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5qb3lzdGljaztcclxuXHJcbiAgICAgICAgLy9jYy5sb2coXCJsZXJwXCIsTWF0aGYubGVycCgwLjUsMSwwLjUpKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5wbGF5ZXIuaXNBSSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB2YXIgdG91Y2hQbGFuZTpjYy5Ob2RlID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UudG91Y2hQbGFuZTtcclxuXHJcbiAgICAgICAgdG91Y2hQbGFuZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCwoZXZlbnQ6Y2MuRXZlbnQuRXZlbnRUb3VjaCk9PlxyXG4gICAgICAgIHtcclxuXHJcbiAgICAgICAgICAgIGlmKCF0aGlzLnBsYXllciB8fCB0aGlzLnBsYXllci5zdGF0dXMgPT0gUGxheWVyU3RhdHVzLmRpZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudG91Y2hQb3MgPSBldmVudC5nZXRMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5jaGFuZ2VBdHRhY2tTdGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYoR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ2FtZVN0YXR1cyA9PSBHYW1lU3RhdHVzLnN0YXJ0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnpvb21SYXRpbyA9IDAuNzU7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5qb3lTdGljay5ub2RlLnBvc2l0aW9uID0gY2MudjIoZXZlbnQuZ2V0TG9jYXRpb24oKS54IC0gY2Mud2luU2l6ZS53aWR0aCAqIDAuNSxldmVudC5nZXRMb2NhdGlvbigpLnkgLSBjYy53aW5TaXplLmhlaWdodCAqIDAuNSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmpveVN0aWNrLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuY2lyY2xlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdG91Y2hQbGFuZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9NT1ZFLChldmVudDpjYy5FdmVudC5FdmVudFRvdWNoKT0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYoR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ2FtZVN0YXR1cyAhPSBHYW1lU3RhdHVzLnN0YXJ0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5tb3ZlRGlyID0gY2MuVmVjMi5aRVJPO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZighdGhpcy5wbGF5ZXIgfHwgdGhpcy5wbGF5ZXIuc3RhdHVzID09IFBsYXllclN0YXR1cy5kaWUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRQb3MgPSBldmVudC5nZXRMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5tb3ZlRGlyID0gY3VycmVudFBvcy5zdWIodGhpcy50b3VjaFBvcykubm9ybWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuam95U3RpY2suY3Vyc29yVG8odGhpcy5wbGF5ZXIubW92ZURpcik7XHJcbiAgICAgICAgICAgIC8vdGhpcy5wbGF5ZXIubW92ZURpciA9IGV2ZW50LmdldERlbHRhKCkubm9ybWFsaXplKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRvdWNoUGxhbmUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELChldmVudDpjYy5FdmVudC5FdmVudFRvdWNoKT0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZighdGhpcy5wbGF5ZXIgfHwgdGhpcy5wbGF5ZXIuc3RhdHVzID09IFBsYXllclN0YXR1cy5kaWUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIubW92ZURpciA9IGNjLlZlYzIuWkVSTztcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuY2hhbmdlRGVmZW5jZVN0YXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuem9vbVJhdGlvID0gMTtcclxuXHJcbiAgICAgICAgICAgIGlmKEdhbWVNYW5hZ2VyLmluc3RhbmNlLmdhbWVTdGF0dXMgPT0gR2FtZVN0YXR1cy5zdGFydClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuY2lyY2xlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuam95U3RpY2suaGlkZGVuKCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0b3VjaFBsYW5lLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0NBTkNFTCwoZXZlbnQ6Y2MuRXZlbnQuRXZlbnRUb3VjaCk9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoIXRoaXMucGxheWVyIHx8IHRoaXMucGxheWVyLnN0YXR1cyA9PSBQbGF5ZXJTdGF0dXMuZGllKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLm1vdmVEaXIgPSBjYy5WZWMyLlpFUk87XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmNoYW5nZURlZmVuY2VTdGF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnpvb21SYXRpbyA9IDE7XHJcbiAgICAgICAgICAgIGlmKEdhbWVNYW5hZ2VyLmluc3RhbmNlLmdhbWVTdGF0dXMgPT0gR2FtZVN0YXR1cy5zdGFydClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuY2lyY2xlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuam95U3RpY2suaGlkZGVuKCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlIChkdCkgXHJcbiAgICB7XHJcbiAgICAgICAgLy9jYy5DYW1lcmEubWFpbi56b29tUmF0aW8gPSBNYXRoZi5sZXJwKGNjLkNhbWVyYS5tYWluLnpvb21SYXRpbyx0aGlzLnRhcmdldFpvb20sZHQpO1xyXG4gICAgICAgIC8vdmFyIHZlYzI6Y2MuVmVjMiA9IFZlY3RvcjIubGVycCh0aGlzLmN1cnJlbnRab29tVmVjLHRoaXMudGFyZ2V0Wm9vbVZlYyxkdCAqIDUpO1xyXG4gICAgICAgIC8vY2MuQ2FtZXJhLm1haW4uem9vbVJhdGlvID0gdmVjMi54O1xyXG5cclxuICAgICAgICBpZih0aGlzLnBsYXllci5pc0FJKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICByZXR1cm47ICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRhcmdldFpvb20gPSAodGhpcy5iYXNlWm9vbSAvIHRoaXMucGxheWVyLnNpemUpICogdGhpcy56b29tUmF0aW87XHJcbiAgICAgICAgY2MuQ2FtZXJhLm1haW4uem9vbVJhdGlvID0gTWF0aGYubGVycChjYy5DYW1lcmEubWFpbi56b29tUmF0aW8sdGhpcy50YXJnZXRab29tLGR0ICogNSk7XHJcblxyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/gamescene/Mark.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '77508ChDR1GLYt5yR5jvjxa', 'Mark');
// script/tscript/gamescene/Mark.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Player_1 = require("./Player");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Mark = /** @class */ (function (_super) {
    __extends(Mark, _super);
    function Mark() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.player = null;
        _this.targetPlayer = null;
        _this.blackHole = null;
        _this.isPlayer = true;
        _this.halfSize = cc.Size.ZERO;
        /**
         * 视野范围
         */
        _this.viewSize = cc.Size.ZERO;
        _this.targetNode = null;
        return _this;
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    Mark.prototype.start = function () {
        if (this.isPlayer) {
            this.getComponent(cc.Sprite).spriteFrame = this.targetPlayer.body.skin.spriteFrame;
            this.targetNode = this.targetPlayer.node;
        }
        else {
            this.getComponent(cc.Sprite).spriteFrame = this.blackHole.skin.spriteFrame;
            this.targetNode = this.blackHole.node;
        }
        this.halfSize.width = (cc.winSize.width - this.node.width) / 2;
        this.halfSize.height = (cc.winSize.height - this.node.height) / 2;
        this.winRadius = cc.v2(this.halfSize.width, this.halfSize.height).mag();
    };
    Mark.prototype.update = function (dt) {
        if (this.isPlayer) {
            if (!this.targetPlayer || !this.targetPlayer.isValid || this.targetPlayer.status == Player_1.PlayerStatus.die) {
                this.node.destroy();
                return;
            }
        }
        else {
            //--------------------------------------------- 
        }
        if (!this.player || !this.player.isValid) {
            return;
        }
        var ratio = 1 / cc.Camera.main.zoomRatio;
        this.viewSize.width = (cc.winSize.width + 160) * ratio / 2;
        this.viewSize.height = (cc.winSize.height + 160) * ratio / 2;
        var dir = this.targetNode.position.sub(this.player.node.position);
        if ((dir.x > -this.viewSize.width && dir.x < this.viewSize.width) && (dir.y > -this.viewSize.height && dir.y < this.viewSize.height)) {
            //对手在视野范围内，隐藏标志
            this.node.opacity = 0;
            return;
        }
        this.node.opacity = 255;
        var angle = Math.atan2(dir.y, dir.x);
        var pos = cc.v2(this.winRadius * Math.cos(angle), this.winRadius * Math.sin(angle));
        //var pos = dir;
        if (pos.x < -this.halfSize.width) {
            pos.x = -this.halfSize.width;
        }
        else if (pos.x > this.halfSize.width) {
            pos.x = this.halfSize.width;
        }
        if (pos.y < -this.halfSize.height) {
            pos.y = -this.halfSize.height;
        }
        else if (pos.y > this.halfSize.height) {
            pos.y = this.halfSize.height;
        }
        this.node.position = pos;
    };
    Mark = __decorate([
        ccclass
    ], Mark);
    return Mark;
}(cc.Component));
exports.default = Mark;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxnYW1lc2NlbmVcXE1hcmsudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG1DQUFnRDtBQUdoRCxvQkFBb0I7QUFDcEIsa0ZBQWtGO0FBQ2xGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQWtDLHdCQUFZO0lBRDlDO1FBQUEscUVBK0dDO1FBNUdVLFlBQU0sR0FBVSxJQUFJLENBQUM7UUFFckIsa0JBQVksR0FBVSxJQUFJLENBQUM7UUFFM0IsZUFBUyxHQUFhLElBQUksQ0FBQztRQUUzQixjQUFRLEdBQVcsSUFBSSxDQUFDO1FBRXZCLGNBQVEsR0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztRQUd4Qzs7V0FFRztRQUNLLGNBQVEsR0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztRQUtoQyxnQkFBVSxHQUFXLElBQUksQ0FBQzs7SUF5RnRDLENBQUM7SUF2Rkcsd0JBQXdCO0lBRXhCLGVBQWU7SUFFZixvQkFBSyxHQUFMO1FBRUksSUFBRyxJQUFJLENBQUMsUUFBUSxFQUNoQjtZQUNJLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO1lBQ25GLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUM7U0FDNUM7YUFDRDtZQUNJLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElB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UUFFaEIsSUFBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQy9CO1lBQ0ksR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDO1NBQ2hDO2FBQUssSUFBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUNwQztZQUNJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7U0FDL0I7UUFFRCxJQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFDaEM7WUFDSSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7U0FDakM7YUFBSyxJQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQ3JDO1lBQ0ksR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztTQUNoQztRQUVELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQztJQUU3QixDQUFDO0lBN0dlLElBQUk7UUFEeEIsT0FBTztPQUNhLElBQUksQ0E4R3hCO0lBQUQsV0FBQztDQTlHRCxBQThHQyxDQTlHaUMsRUFBRSxDQUFDLFNBQVMsR0E4RzdDO2tCQTlHb0IsSUFBSSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQbGF5ZXIsIHsgUGxheWVyU3RhdHVzIH0gZnJvbSBcIi4vUGxheWVyXCI7XHJcbmltcG9ydCBCbGFja0hvbGUgZnJvbSBcIi4vQmxhY2tIb2xlXCI7XHJcblxyXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFyayBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgcHVibGljIHBsYXllcjpQbGF5ZXIgPSBudWxsO1xyXG5cclxuICAgIHB1YmxpYyB0YXJnZXRQbGF5ZXI6UGxheWVyID0gbnVsbDtcclxuXHJcbiAgICBwdWJsaWMgYmxhY2tIb2xlOkJsYWNrSG9sZSA9IG51bGw7XHJcblxyXG4gICAgcHVibGljIGlzUGxheWVyOmJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICAgIHByaXZhdGUgaGFsZlNpemU6Y2MuU2l6ZSA9IGNjLlNpemUuWkVSTztcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDop4bph47ojIPlm7RcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSB2aWV3U2l6ZTpjYy5TaXplID0gY2MuU2l6ZS5aRVJPO1xyXG5cclxuXHJcbiAgICBwcml2YXRlIHdpblJhZGl1czpudW1iZXI7XHJcblxyXG4gICAgcHJpdmF0ZSB0YXJnZXROb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIC8vIG9uTG9hZCAoKSB7fVxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuXHJcbiAgICAgICAgaWYodGhpcy5pc1BsYXllcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLnRhcmdldFBsYXllci5ib2R5LnNraW4uc3ByaXRlRnJhbWU7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0Tm9kZSA9IHRoaXMudGFyZ2V0UGxheWVyLm5vZGU7XHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLmJsYWNrSG9sZS5za2luLnNwcml0ZUZyYW1lO1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldE5vZGUgPSB0aGlzLmJsYWNrSG9sZS5ub2RlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmhhbGZTaXplLndpZHRoID0gKGNjLndpblNpemUud2lkdGggLSB0aGlzLm5vZGUud2lkdGgpIC8gMjtcclxuICAgICAgICB0aGlzLmhhbGZTaXplLmhlaWdodCA9IChjYy53aW5TaXplLmhlaWdodCAtIHRoaXMubm9kZS5oZWlnaHQpIC8gMjtcclxuXHJcbiAgICAgICAgdGhpcy53aW5SYWRpdXMgPSBjYy52Mih0aGlzLmhhbGZTaXplLndpZHRoLHRoaXMuaGFsZlNpemUuaGVpZ2h0KS5tYWcoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgIHVwZGF0ZSAoZHQpIFxyXG4gICAgIHtcclxuXHJcbiAgICAgICAgaWYodGhpcy5pc1BsYXllcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKCF0aGlzLnRhcmdldFBsYXllciB8fCAhdGhpcy50YXJnZXRQbGF5ZXIuaXNWYWxpZCB8fCB0aGlzLnRhcmdldFBsYXllci5zdGF0dXMgPT0gUGxheWVyU3RhdHVzLmRpZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIGlmKCF0aGlzLnBsYXllciB8fCAhdGhpcy5wbGF5ZXIuaXNWYWxpZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciByYXRpbyA9IDEgLyBjYy5DYW1lcmEubWFpbi56b29tUmF0aW87XHJcblxyXG4gICAgICAgIHRoaXMudmlld1NpemUud2lkdGggPSAoY2Mud2luU2l6ZS53aWR0aCArIDE2MCkgKiByYXRpbyAvIDIgO1xyXG4gICAgICAgIHRoaXMudmlld1NpemUuaGVpZ2h0ID0gKGNjLndpblNpemUuaGVpZ2h0ICsgMTYwKSAqIHJhdGlvIC8gMjtcclxuXHJcbiAgICAgICAgIHZhciBkaXIgPSB0aGlzLnRhcmdldE5vZGUucG9zaXRpb24uc3ViKHRoaXMucGxheWVyLm5vZGUucG9zaXRpb24pO1xyXG5cclxuICAgICAgICAgaWYoKGRpci54ID4gLXRoaXMudmlld1NpemUud2lkdGggJiYgZGlyLnggPCB0aGlzLnZpZXdTaXplLndpZHRoKSAmJiAoZGlyLnkgPiAtdGhpcy52aWV3U2l6ZS5oZWlnaHQgJiYgZGlyLnkgPCB0aGlzLnZpZXdTaXplLmhlaWdodCkpXHJcbiAgICAgICAgIHtcclxuICAgICAgICAgICAgIC8v5a+55omL5Zyo6KeG6YeO6IyD5Zu05YaF77yM6ZqQ6JeP5qCH5b+XXHJcbiAgICAgICAgICAgICB0aGlzLm5vZGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgICAgIHRoaXMubm9kZS5vcGFjaXR5ID0gMjU1O1xyXG5cclxuXHJcbiAgICAgICAgIHZhciBhbmdsZTpudW1iZXIgPSBNYXRoLmF0YW4yKGRpci55LGRpci54KTtcclxuXHJcbiAgICAgICAgIHZhciBwb3MgPSBjYy52Mih0aGlzLndpblJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSx0aGlzLndpblJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKSk7XHJcblxyXG4gICAgICAgICAvL3ZhciBwb3MgPSBkaXI7XHJcblxyXG4gICAgICAgICBpZihwb3MueCA8IC10aGlzLmhhbGZTaXplLndpZHRoKVxyXG4gICAgICAgICB7XHJcbiAgICAgICAgICAgICBwb3MueCA9IC10aGlzLmhhbGZTaXplLndpZHRoO1xyXG4gICAgICAgICB9ZWxzZSBpZihwb3MueCA+IHRoaXMuaGFsZlNpemUud2lkdGgpXHJcbiAgICAgICAgIHtcclxuICAgICAgICAgICAgIHBvcy54ID0gdGhpcy5oYWxmU2l6ZS53aWR0aDtcclxuICAgICAgICAgfVxyXG5cclxuICAgICAgICAgaWYocG9zLnkgPCAtdGhpcy5oYWxmU2l6ZS5oZWlnaHQpXHJcbiAgICAgICAgIHtcclxuICAgICAgICAgICAgIHBvcy55ID0gLXRoaXMuaGFsZlNpemUuaGVpZ2h0O1xyXG4gICAgICAgICB9ZWxzZSBpZihwb3MueSA+IHRoaXMuaGFsZlNpemUuaGVpZ2h0KVxyXG4gICAgICAgICB7XHJcbiAgICAgICAgICAgICBwb3MueSA9IHRoaXMuaGFsZlNpemUuaGVpZ2h0O1xyXG4gICAgICAgICB9XHJcblxyXG4gICAgICAgICB0aGlzLm5vZGUucG9zaXRpb24gPSBwb3M7XHJcblxyXG4gICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/core/DataManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c6c4fxMJsxHDYEnKbDHNKIx', 'DataManager');
// script/tscript/core/DataManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ResourcesManager_1 = require("./ResourcesManager");
var DataStorage_1 = require("./DataStorage");
var PlayerData_1 = require("../data/PlayerData");
var LevelData_1 = require("../data/LevelData");
var CustomEventType_1 = require("../event/CustomEventType");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DataManager = /** @class */ (function (_super) {
    __extends(DataManager, _super);
    function DataManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /**
         * 玩家数据
         */
        _this._playerData = null;
        _this._levelData = null;
        _this._nameConfigDatas = null;
        _this._levelConfigDatas = null;
        _this._knifeConfigDatas = null;
        _this._accountRankConfigDatas = null;
        _this._accountRankCnfDatasDic = {};
        _this._ctlevelConfigDatas = [];
        _this._isJosnLoaded = false;
        return _this;
        // update (dt) {}
    }
    DataManager_1 = DataManager;
    Object.defineProperty(DataManager, "instance", {
        get: function () {
            if (this._instance == null) {
                this._instance = new DataManager_1();
                this._instance.init();
            }
            return DataManager_1._instance;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataManager.prototype, "nameConfigDatas", {
        get: function () {
            return this._nameConfigDatas;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataManager.prototype, "levelConfigDatas", {
        get: function () {
            return this._levelConfigDatas;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataManager.prototype, "knifeConfigDatas", {
        get: function () {
            return this._knifeConfigDatas;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataManager.prototype, "accountRankConfigDatas", {
        get: function () {
            return this._accountRankConfigDatas;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataManager.prototype, "accountRankCnfDatasDic", {
        get: function () {
            return this._accountRankCnfDatasDic;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataManager.prototype, "ctlevelConfigDatas", {
        get: function () {
            return this._ctlevelConfigDatas;
        },
        enumerable: true,
        configurable: true
    });
    DataManager.prototype.init = function () {
        /**发布版本一点要删除 */
        //DataStorage.removeItem("playerData");
        //DataStorage.removeItem("levelData");
        //DataStorage.removeItem("day");
    };
    //加载配置数据
    DataManager.prototype.loadConfigDatas = function (callback) {
        var _this = this;
        if (this._isJosnLoaded) {
            callback();
            return;
        }
        var jsonArr = ["LevelTable", "NameTable", "KnifeTable", "AccountRankTable"];
        var resMgr = ResourcesManager_1.default.instance;
        resMgr.loadJson("LevelTable", function (data, jsonName) { _this._levelConfigDatas = data; removeJsonitem(jsonName); });
        resMgr.loadJson("NameTable", function (data, jsonName) { _this._nameConfigDatas = data; removeJsonitem(jsonName); });
        resMgr.loadJson("KnifeTable", function (data, jsonName) { _this._knifeConfigDatas = data; removeJsonitem(jsonName); });
        resMgr.loadJson("AccountRankTable", function (data, jsonName) { _this._accountRankConfigDatas = data; removeJsonitem(jsonName); });
        this.schedule(wait, 0.02);
        var self = this;
        function wait() {
            if (jsonArr.length == 0) {
                this.onConfigDataLoadComp();
                callback();
                self.unschedule(wait);
                self._isJosnLoaded = true;
            }
        }
        function removeJsonitem(item) {
            var index = jsonArr.indexOf(item);
            if (index >= 0) {
                jsonArr.splice(index, 1);
            }
        }
    };
    DataManager.prototype.onConfigDataLoadComp = function () {
        var len = this._accountRankConfigDatas.length;
        for (var i = 0; i < len; i++) {
            var arcnfdata = this._accountRankConfigDatas[i];
            if (!this._accountRankCnfDatasDic[arcnfdata.level]) {
                this._accountRankCnfDatasDic[arcnfdata.level] = [];
            }
            this._accountRankCnfDatasDic[arcnfdata.level].push(arcnfdata);
        }
        len = this._levelConfigDatas.length;
        for (var i = 0; i < len; i++) {
            var levelcnfdata = this._levelConfigDatas[i];
            if (levelcnfdata.contentType == 0) {
                continue;
            }
            this._ctlevelConfigDatas.push(levelcnfdata);
        }
        this.updateDataEveryDay();
    };
    DataManager.prototype.updateDataEveryDay = function () {
        //DataStorage.setItem("day","2018/11/22");
        var yesterday = new Date();
        yesterday.setDate(yesterday.getDate() - 1);
        var lastDay = DataStorage_1.default.getItem("day", this.getLocaleDateString(yesterday));
        //cc.log("上次登录时间",lastDay,DataStorage.getItem("day","没存储"));
        //var date1:Date = new Date("2018/11/15 00:00:00");
        var lastDate = new Date(lastDay); //上一次的日期
        var nowDate = new Date(this.getLocaleDateString(new Date())); //现在的日期
        var dateDifc = (nowDate.getTime() - lastDate.getTime()) / 86400000;
        //cc.log("dateDifc",dateDifc,this.getLocaleDateString(nowDate),this.getLocaleDateString(new Date()),this.getSignInData().lastLoginDay);
        var checkTimer = function (dt) {
            nowDate = new Date();
            if (nowDate.getHours() >= 6) //每天凌晨6点钟刷新数据
             {
                cc.log("新的一天到了");
                this.getPlayerData().logindays++;
                this.getPlayerData().todayUseFace = false; //每天重置表情是否试用
                this.savePlayerData();
                this.unschedule(checkTimer);
                DataStorage_1.default.setItem("day", this.getLocaleDateString(nowDate));
                cc.systemEvent.emit(CustomEventType_1.default.NewDay);
            }
        }.bind(this);
        //this.scheduleOnce(checkTimer,1.25);//首次快速更新一下
        if (dateDifc >= 1) //如果是新的一天
         {
            this.schedule(checkTimer, 5);
            checkTimer(0);
        }
        else if (dateDifc < 0) {
            //cc.log("用户手动调了系统时间");
            //this.schedule(checkTimer,5);
            //checkTimer(0);
            DataStorage_1.default.setItem("day", this.getLocaleDateString(nowDate)); //重新存储当前时间
        }
    };
    DataManager.prototype.getLocaleDateString = function (date) {
        //"2018/11/22"
        var year = date.getFullYear().toString();
        var mon = date.getMonth() + 1;
        var month = mon < 10 ? "0" + mon : mon.toString();
        var day = date.getDate() < 10 ? "0" + date.getDate() : date.getDate().toString();
        return year + "/" + month + "/" + day;
    };
    DataManager.prototype.getNowTime = function () {
        return Date.now();
    };
    DataManager.prototype.getPlayerData = function () {
        if (this._playerData == null) {
            this._playerData = new PlayerData_1.default();
            var localData = JSON.parse(DataStorage_1.default.getItem("playerData"));
            if (localData) {
                for (var key in localData) {
                    if (typeof this._playerData[key] != "undefined") {
                        this._playerData[key] = localData[key];
                    }
                }
            }
            //cc.log("playerdata",this._playerData);
        }
        return this._playerData;
    };
    DataManager.prototype.savePlayerData = function () {
        DataStorage_1.default.setItem("playerData", JSON.stringify(this._playerData));
    };
    DataManager.prototype.getLevelData = function () {
        if (this._levelData == null) {
            this._levelData = new LevelData_1.default();
            var localData = JSON.parse(DataStorage_1.default.getItem("levelData"));
            if (localData) {
                for (var key in localData) {
                    if (typeof this._levelData[key] != "undefined") {
                        this._levelData[key] = localData[key];
                    }
                }
            }
        }
        return this._levelData;
    };
    DataManager.prototype.saveLevelData = function () {
        DataStorage_1.default.setItem("levelData", JSON.stringify(this._levelData));
    };
    DataManager.prototype.getNameConfigData = function (id) {
        if (id <= 0)
            return null;
        return this._nameConfigDatas[id - 1];
    };
    DataManager.prototype.getLevelConfigData = function (id) {
        if (id <= 0)
            return null;
        return this._levelConfigDatas[id - 1];
    };
    DataManager.prototype.getKnifeConfigData = function (id) {
        if (id <= 0)
            return null;
        return this._knifeConfigDatas[id - 1];
    };
    DataManager.prototype.getLevelId = function (star) {
        var leveCnfdatas = this.levelConfigDatas;
        var index = 0;
        if (star >= leveCnfdatas[leveCnfdatas.length - 1].stars) {
            index = leveCnfdatas.length - 1;
        }
        else {
            for (var i = 0; i < leveCnfdatas.length - 1; i++) {
                if (star >= leveCnfdatas[i].stars && star < leveCnfdatas[i + 1].stars) {
                    index = i;
                    break;
                }
            }
        }
        return leveCnfdatas[index].id;
    };
    DataManager.prototype.getLevel = function (star) {
        var levelId = this.getLevelId(star);
        var levelcnfdata = DataManager_1.instance.levelConfigDatas[levelId - 1];
        return levelcnfdata.level;
    };
    var DataManager_1;
    DataManager = DataManager_1 = __decorate([
        ccclass
    ], DataManager);
    return DataManager;
}(cc.Component));
exports.default = DataManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxjb3JlXFxEYXRhTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsdURBQWtEO0FBQ2xELDZDQUF3QztBQUN4QyxpREFBNEM7QUFDNUMsK0NBQTBDO0FBSTFDLDREQUF1RDtBQUd2RCxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQXlDLCtCQUFZO0lBRHJEO1FBQUEscUVBbVZDO1FBdFVHOztXQUVHO1FBQ0ssaUJBQVcsR0FBYyxJQUFJLENBQUM7UUFFOUIsZ0JBQVUsR0FBYSxJQUFJLENBQUM7UUFHNUIsc0JBQWdCLEdBQXFCLElBQUksQ0FBQztRQU0xQyx1QkFBaUIsR0FBc0IsSUFBSSxDQUFDO1FBTTVDLHVCQUFpQixHQUFzQixJQUFJLENBQUM7UUFNNUMsNkJBQXVCLEdBQXNCLElBQUksQ0FBQztRQUtsRCw2QkFBdUIsR0FFM0IsRUFBRSxDQUFDO1FBUUMseUJBQW1CLEdBQXNCLEVBQUUsQ0FBQztRQU81QyxtQkFBYSxHQUFHLEtBQUssQ0FBQzs7UUFxUjlCLGlCQUFpQjtJQUNyQixDQUFDO29CQWxWb0IsV0FBVztJQUc1QixzQkFBa0IsdUJBQVE7YUFBMUI7WUFDSSxJQUFHLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxFQUN6QjtnQkFDSSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksYUFBVyxFQUFFLENBQUM7Z0JBQ25DLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUM7YUFDekI7WUFDRCxPQUFPLGFBQVcsQ0FBQyxTQUFTLENBQUM7UUFDakMsQ0FBQzs7O09BQUE7SUFXRCxzQkFBVyx3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TSxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFDaEQ7Z0JBQ0ksSUFBRyxJQUFJLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxJQUFJLEdBQUcsWUFBWSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQ3BFO29CQUNJLEtBQUssR0FBRyxDQUFDLENBQUM7b0JBQ1YsTUFBTTtpQkFDVDthQUVKO1NBQ0o7UUFFRCxPQUFPLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFFbEMsQ0FBQztJQUVNLDhCQUFRLEdBQWYsVUFBZ0IsSUFBVztRQUV2QixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BDLElBQUksWUFBWSxHQUFtQixhQUFXLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN0RixPQUFPLFlBQVksQ0FBQyxLQUFLLENBQUE7SUFDN0IsQ0FBQzs7SUEvVWdCLFdBQVc7UUFEL0IsT0FBTztPQUNhLFdBQVcsQ0FrVi9CO0lBQUQsa0JBQUM7Q0FsVkQsQUFrVkMsQ0FsVndDLEVBQUUsQ0FBQyxTQUFTLEdBa1ZwRDtrQkFsVm9CLFdBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IFJlc291cmNlc01hbmFnZXIgZnJvbSBcIi4vUmVzb3VyY2VzTWFuYWdlclwiO1xyXG5pbXBvcnQgRGF0YVN0b3JhZ2UgZnJvbSBcIi4vRGF0YVN0b3JhZ2VcIjtcclxuaW1wb3J0IFBsYXllckRhdGEgZnJvbSBcIi4uL2RhdGEvUGxheWVyRGF0YVwiO1xyXG5pbXBvcnQgTGV2ZWxEYXRhIGZyb20gXCIuLi9kYXRhL0xldmVsRGF0YVwiO1xyXG5pbXBvcnQgTmFtZUNvbmZpZ0RhdGEgZnJvbSBcIi4uL2NvbmZpZ2RhdGEvTmFtZUNvbmZpZ0RhdGFcIjtcclxuaW1wb3J0IExldmVsQ29uZmlnRGF0YSBmcm9tIFwiLi4vY29uZmlnZGF0YS9MZXZlbENvbmZpZ0RhdGFcIjtcclxuaW1wb3J0IEtuaWZlQ29uZmlnRGF0YSBmcm9tIFwiLi4vY29uZmlnZGF0YS9LbmlmZUNvbmZpZ0RhdGFcIjtcclxuaW1wb3J0IEN1c3RvbUV2ZW50VHlwZSBmcm9tIFwiLi4vZXZlbnQvQ3VzdG9tRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBBY2NvdW50UmFua0RhdGEgZnJvbSBcIi4uL2NvbmZpZ2RhdGEvQWNjb3VudFJhbmtEYXRhXCI7XHJcblxyXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF0YU1hbmFnZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogRGF0YU1hbmFnZXI7XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBEYXRhTWFuYWdlciB7XHJcbiAgICAgICAgaWYodGhpcy5faW5zdGFuY2UgPT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IERhdGFNYW5hZ2VyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlLmluaXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIERhdGFNYW5hZ2VyLl9pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOeOqeWutuaVsOaNrlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9wbGF5ZXJEYXRhOlBsYXllckRhdGEgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgX2xldmVsRGF0YTpMZXZlbERhdGEgPSBudWxsO1xyXG4gICAgXHJcblxyXG4gICAgcHJpdmF0ZSBfbmFtZUNvbmZpZ0RhdGFzOiBOYW1lQ29uZmlnRGF0YVtdID0gbnVsbDtcclxuICAgIHB1YmxpYyBnZXQgbmFtZUNvbmZpZ0RhdGFzKCk6IE5hbWVDb25maWdEYXRhW10gXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWVDb25maWdEYXRhcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9sZXZlbENvbmZpZ0RhdGFzOiBMZXZlbENvbmZpZ0RhdGFbXSA9IG51bGw7XHJcbiAgICBwdWJsaWMgZ2V0IGxldmVsQ29uZmlnRGF0YXMoKTogTGV2ZWxDb25maWdEYXRhW10gXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xldmVsQ29uZmlnRGF0YXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfa25pZmVDb25maWdEYXRhczogS25pZmVDb25maWdEYXRhW10gPSBudWxsO1xyXG4gICAgcHVibGljIGdldCBrbmlmZUNvbmZpZ0RhdGFzKCk6IEtuaWZlQ29uZmlnRGF0YVtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fa25pZmVDb25maWdEYXRhcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBfYWNjb3VudFJhbmtDb25maWdEYXRhczogQWNjb3VudFJhbmtEYXRhW10gPSBudWxsO1xyXG4gICAgcHVibGljIGdldCBhY2NvdW50UmFua0NvbmZpZ0RhdGFzKCk6IEFjY291bnRSYW5rRGF0YVtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWNjb3VudFJhbmtDb25maWdEYXRhcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9hY2NvdW50UmFua0NuZkRhdGFzRGljOiB7XHJcbiAgICAgICAgW2tleTogbnVtYmVyXTogQWNjb3VudFJhbmtEYXRhW107XHJcbiAgICB9ID0ge307XHJcblxyXG4gICAgcHVibGljIGdldCBhY2NvdW50UmFua0NuZkRhdGFzRGljKCk6IHtcclxuICAgICAgICBba2V5OiBudW1iZXJdOiBBY2NvdW50UmFua0RhdGFbXTtcclxuICAgIH0ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hY2NvdW50UmFua0NuZkRhdGFzRGljO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2N0bGV2ZWxDb25maWdEYXRhczogTGV2ZWxDb25maWdEYXRhW10gPSBbXTtcclxuICAgIHB1YmxpYyBnZXQgY3RsZXZlbENvbmZpZ0RhdGFzKCk6IExldmVsQ29uZmlnRGF0YVtdIFxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdGxldmVsQ29uZmlnRGF0YXM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgX2lzSm9zbkxvYWRlZCA9IGZhbHNlO1xyXG5cclxuICAgIHByaXZhdGUgaW5pdCgpXHJcbiAgICB7XHJcbiAgICAgICAgLyoq5Y+R5biD54mI5pys5LiA54K56KaB5Yig6ZmkICovXHJcblxyXG4gICAgICAgIC8vRGF0YVN0b3JhZ2UucmVtb3ZlSXRlbShcInBsYXllckRhdGFcIik7XHJcbiAgICAgICAgLy9EYXRhU3RvcmFnZS5yZW1vdmVJdGVtKFwibGV2ZWxEYXRhXCIpO1xyXG4gICAgICAgIC8vRGF0YVN0b3JhZ2UucmVtb3ZlSXRlbShcImRheVwiKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy/liqDovb3phY3nva7mlbDmja5cclxuICAgIHB1YmxpYyBsb2FkQ29uZmlnRGF0YXMoY2FsbGJhY2s6RnVuY3Rpb24pXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy5faXNKb3NuTG9hZGVkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGpzb25BcnIgPSBbXCJMZXZlbFRhYmxlXCIsXCJOYW1lVGFibGVcIixcIktuaWZlVGFibGVcIixcIkFjY291bnRSYW5rVGFibGVcIl07XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHJlc01nciA9IFJlc291cmNlc01hbmFnZXIuaW5zdGFuY2U7XHJcblxyXG5cclxuICAgICAgICByZXNNZ3IubG9hZEpzb24oXCJMZXZlbFRhYmxlXCIsKGRhdGEsanNvbk5hbWUpPT57dGhpcy5fbGV2ZWxDb25maWdEYXRhcyA9IGRhdGE7IHJlbW92ZUpzb25pdGVtKGpzb25OYW1lKTt9KTtcclxuICAgICAgICByZXNNZ3IubG9hZEpzb24oXCJOYW1lVGFibGVcIiwoZGF0YSxqc29uTmFtZSk9Pnt0aGlzLl9uYW1lQ29uZmlnRGF0YXMgPSBkYXRhO3JlbW92ZUpzb25pdGVtKGpzb25OYW1lKTt9KTtcclxuICAgICAgICByZXNNZ3IubG9hZEpzb24oXCJLbmlmZVRhYmxlXCIsKGRhdGEsanNvbk5hbWUpPT57dGhpcy5fa25pZmVDb25maWdEYXRhcyA9IGRhdGE7cmVtb3ZlSnNvbml0ZW0oanNvbk5hbWUpO30pO1xyXG4gICAgICAgIHJlc01nci5sb2FkSnNvbihcIkFjY291bnRSYW5rVGFibGVcIiwoZGF0YSxqc29uTmFtZSk9Pnt0aGlzLl9hY2NvdW50UmFua0NvbmZpZ0RhdGFzID0gZGF0YTtyZW1vdmVKc29uaXRlbShqc29uTmFtZSk7fSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZSh3YWl0LDAuMDIpO1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHdhaXQoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoanNvbkFyci5sZW5ndGggPT0gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbmZpZ0RhdGFMb2FkQ29tcCgpO1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgIHNlbGYudW5zY2hlZHVsZSh3YWl0KTtcclxuICAgICAgICAgICAgICAgIHNlbGYuX2lzSm9zbkxvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUpzb25pdGVtKGl0ZW06c3RyaW5nKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0ganNvbkFyci5pbmRleE9mKGl0ZW0pO1xyXG4gICAgICAgICAgICBpZihpbmRleCA+PSAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBqc29uQXJyLnNwbGljZShpbmRleCwxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uQ29uZmlnRGF0YUxvYWRDb21wKClcclxuICAgIHtcclxuXHJcbiAgICAgICAgdmFyIGxlbjpudW1iZXIgPSB0aGlzLl9hY2NvdW50UmFua0NvbmZpZ0RhdGFzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMCA7IGkgPCBsZW47IGkrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBhcmNuZmRhdGEgPSB0aGlzLl9hY2NvdW50UmFua0NvbmZpZ0RhdGFzW2ldO1xyXG5cclxuICAgICAgICAgICAgaWYoIXRoaXMuX2FjY291bnRSYW5rQ25mRGF0YXNEaWNbYXJjbmZkYXRhLmxldmVsXSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYWNjb3VudFJhbmtDbmZEYXRhc0RpY1thcmNuZmRhdGEubGV2ZWxdID0gW107XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2FjY291bnRSYW5rQ25mRGF0YXNEaWNbYXJjbmZkYXRhLmxldmVsXS5wdXNoKGFyY25mZGF0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZW4gPSB0aGlzLl9sZXZlbENvbmZpZ0RhdGFzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMCA7IGkgPCBsZW47IGkrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBsZXZlbGNuZmRhdGE6TGV2ZWxDb25maWdEYXRhID0gdGhpcy5fbGV2ZWxDb25maWdEYXRhc1tpXTtcclxuXHJcbiAgICAgICAgICAgIGlmKGxldmVsY25mZGF0YS5jb250ZW50VHlwZSA9PSAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fY3RsZXZlbENvbmZpZ0RhdGFzLnB1c2gobGV2ZWxjbmZkYXRhKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZURhdGFFdmVyeURheSgpO1xyXG4gICAgfVxyXG5cclxuICAgXHJcbiAgICBwcml2YXRlIHVwZGF0ZURhdGFFdmVyeURheSgpXHJcbiAgICB7XHJcbiAgICAgICAgLy9EYXRhU3RvcmFnZS5zZXRJdGVtKFwiZGF5XCIsXCIyMDE4LzExLzIyXCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciB5ZXN0ZXJkYXk6RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgeWVzdGVyZGF5LnNldERhdGUoeWVzdGVyZGF5LmdldERhdGUoKSAtIDEpO1xyXG5cclxuICAgICAgICB2YXIgbGFzdERheTpzdHJpbmcgPSBEYXRhU3RvcmFnZS5nZXRJdGVtKFwiZGF5XCIsdGhpcy5nZXRMb2NhbGVEYXRlU3RyaW5nKHllc3RlcmRheSkpO1xyXG5cclxuICAgICAgICAvL2NjLmxvZyhcIuS4iuasoeeZu+W9leaXtumXtFwiLGxhc3REYXksRGF0YVN0b3JhZ2UuZ2V0SXRlbShcImRheVwiLFwi5rKh5a2Y5YKoXCIpKTtcclxuICAgICAgICAvL3ZhciBkYXRlMTpEYXRlID0gbmV3IERhdGUoXCIyMDE4LzExLzE1IDAwOjAwOjAwXCIpO1xyXG4gICAgICAgIHZhciBsYXN0RGF0ZTpEYXRlID0gbmV3IERhdGUobGFzdERheSk7IC8v5LiK5LiA5qyh55qE5pel5pyfXHJcbiAgICAgICBcclxuICAgICAgICB2YXIgbm93RGF0ZTpEYXRlID0gbmV3IERhdGUodGhpcy5nZXRMb2NhbGVEYXRlU3RyaW5nKG5ldyBEYXRlKCkpKTsgLy/njrDlnKjnmoTml6XmnJ9cclxuXHJcbiAgICAgICAgdmFyIGRhdGVEaWZjID0gKG5vd0RhdGUuZ2V0VGltZSgpIC0gbGFzdERhdGUuZ2V0VGltZSgpKSAvIDg2NDAwMDAwO1xyXG5cclxuICAgICAgICAvL2NjLmxvZyhcImRhdGVEaWZjXCIsZGF0ZURpZmMsdGhpcy5nZXRMb2NhbGVEYXRlU3RyaW5nKG5vd0RhdGUpLHRoaXMuZ2V0TG9jYWxlRGF0ZVN0cmluZyhuZXcgRGF0ZSgpKSx0aGlzLmdldFNpZ25JbkRhdGEoKS5sYXN0TG9naW5EYXkpO1xyXG5cclxuICAgICAgICB2YXIgY2hlY2tUaW1lciA9IGZ1bmN0aW9uKGR0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbm93RGF0ZSA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgICAgICBpZihub3dEYXRlLmdldEhvdXJzKCk+PTYpLy/mr4/lpKnlh4zmmag254K56ZKf5Yi35paw5pWw5o2uXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNjLmxvZyhcIuaWsOeahOS4gOWkqeWIsOS6hlwiKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRQbGF5ZXJEYXRhKCkubG9naW5kYXlzICsrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRQbGF5ZXJEYXRhKCkudG9kYXlVc2VGYWNlID0gZmFsc2U7IC8v5q+P5aSp6YeN572u6KGo5oOF5piv5ZCm6K+V55SoXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNhdmVQbGF5ZXJEYXRhKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy51bnNjaGVkdWxlKGNoZWNrVGltZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIERhdGFTdG9yYWdlLnNldEl0ZW0oXCJkYXlcIix0aGlzLmdldExvY2FsZURhdGVTdHJpbmcobm93RGF0ZSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNjLnN5c3RlbUV2ZW50LmVtaXQoQ3VzdG9tRXZlbnRUeXBlLk5ld0RheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xyXG5cclxuICAgICAgICAvL3RoaXMuc2NoZWR1bGVPbmNlKGNoZWNrVGltZXIsMS4yNSk7Ly/pppbmrKHlv6vpgJ/mm7TmlrDkuIDkuItcclxuXHJcbiAgICAgICAgaWYoZGF0ZURpZmMgPj0gMSkvL+WmguaenOaYr+aWsOeahOS4gOWkqVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZShjaGVja1RpbWVyLDUpO1xyXG4gICAgICAgICAgICBjaGVja1RpbWVyKDApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9ZWxzZSBpZihkYXRlRGlmYyA8IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL2NjLmxvZyhcIueUqOaIt+aJi+WKqOiwg+S6huezu+e7n+aXtumXtFwiKTtcclxuICAgICAgICAgICAgLy90aGlzLnNjaGVkdWxlKGNoZWNrVGltZXIsNSk7XHJcbiAgICAgICAgICAgIC8vY2hlY2tUaW1lcigwKTtcclxuICAgICAgICAgICAgRGF0YVN0b3JhZ2Uuc2V0SXRlbShcImRheVwiLHRoaXMuZ2V0TG9jYWxlRGF0ZVN0cmluZyhub3dEYXRlKSk7Ly/ph43mlrDlrZjlgqjlvZPliY3ml7bpl7RcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldExvY2FsZURhdGVTdHJpbmcoZGF0ZTpEYXRlKTpzdHJpbmdcclxuICAgIHtcclxuICAgICAgICAvL1wiMjAxOC8xMS8yMlwiXHJcbiAgICAgICAgdmFyIHllYXI6c3RyaW5nID0gZGF0ZS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgdmFyIG1vbjpudW1iZXIgPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xyXG4gICAgICAgIHZhciBtb250aDpzdHJpbmcgPSBtb24gPCAxMCA/IFwiMFwiICsgbW9uIDogbW9uLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgdmFyIGRheTpzdHJpbmcgPSBkYXRlLmdldERhdGUoKSA8IDEwID8gXCIwXCIgKyBkYXRlLmdldERhdGUoKSA6IGRhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB5ZWFyICsgXCIvXCIgKyBtb250aCArIFwiL1wiICsgZGF5O1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Tm93VGltZSgpOm51bWJlclxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBEYXRlLm5vdygpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0UGxheWVyRGF0YSgpOlBsYXllckRhdGFcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLl9wbGF5ZXJEYXRhID09IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9wbGF5ZXJEYXRhID0gbmV3IFBsYXllckRhdGEoKTtcclxuICAgICAgICAgICAgdmFyIGxvY2FsRGF0YTpQbGF5ZXJEYXRhID0gSlNPTi5wYXJzZShEYXRhU3RvcmFnZS5nZXRJdGVtKFwicGxheWVyRGF0YVwiKSk7XHJcblxyXG4gICAgICAgICAgICBpZihsb2NhbERhdGEpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIga2V5IGluIGxvY2FsRGF0YSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgdGhpcy5fcGxheWVyRGF0YVtrZXldICE9IFwidW5kZWZpbmVkXCIpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wbGF5ZXJEYXRhW2tleV0gPSBsb2NhbERhdGFba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vY2MubG9nKFwicGxheWVyZGF0YVwiLHRoaXMuX3BsYXllckRhdGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsYXllckRhdGE7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBzYXZlUGxheWVyRGF0YSgpOnZvaWRcclxuICAgIHtcclxuICAgICAgICBEYXRhU3RvcmFnZS5zZXRJdGVtKFwicGxheWVyRGF0YVwiLEpTT04uc3RyaW5naWZ5KHRoaXMuX3BsYXllckRhdGEpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TGV2ZWxEYXRhKCk6TGV2ZWxEYXRhXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy5fbGV2ZWxEYXRhID09IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9sZXZlbERhdGEgPSBuZXcgTGV2ZWxEYXRhKCk7XHJcbiAgICAgICAgICAgIHZhciBsb2NhbERhdGE6UGxheWVyRGF0YSA9IEpTT04ucGFyc2UoRGF0YVN0b3JhZ2UuZ2V0SXRlbShcImxldmVsRGF0YVwiKSk7XHJcblxyXG4gICAgICAgICAgICBpZihsb2NhbERhdGEpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIga2V5IGluIGxvY2FsRGF0YSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgdGhpcy5fbGV2ZWxEYXRhW2tleV0gIT0gXCJ1bmRlZmluZWRcIilcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xldmVsRGF0YVtrZXldID0gbG9jYWxEYXRhW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fbGV2ZWxEYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzYXZlTGV2ZWxEYXRhKCk6dm9pZFxyXG4gICAge1xyXG4gICAgICAgIERhdGFTdG9yYWdlLnNldEl0ZW0oXCJsZXZlbERhdGFcIixKU09OLnN0cmluZ2lmeSh0aGlzLl9sZXZlbERhdGEpKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGdldE5hbWVDb25maWdEYXRhKGlkOm51bWJlcik6TmFtZUNvbmZpZ0RhdGFcclxuICAgIHtcclxuICAgICAgICBpZihpZCA8PSAwKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZUNvbmZpZ0RhdGFzW2lkIC0gMV07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldExldmVsQ29uZmlnRGF0YShpZDpudW1iZXIpOkxldmVsQ29uZmlnRGF0YVxyXG4gICAge1xyXG4gICAgICAgIGlmKGlkIDw9IDApXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9sZXZlbENvbmZpZ0RhdGFzW2lkIC0gMV07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEtuaWZlQ29uZmlnRGF0YShpZDpudW1iZXIpOktuaWZlQ29uZmlnRGF0YVxyXG4gICAge1xyXG4gICAgICAgIGlmKGlkIDw9IDApXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9rbmlmZUNvbmZpZ0RhdGFzW2lkIC0gMV07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldExldmVsSWQoc3RhcjpudW1iZXIpOm51bWJlclxyXG4gICAge1xyXG4gICAgICAgIHZhciBsZXZlQ25mZGF0YXMgPSB0aGlzLmxldmVsQ29uZmlnRGF0YXM7XHJcblxyXG4gICAgICAgIHZhciBpbmRleDpudW1iZXIgPSAwO1xyXG5cclxuICAgICAgICBpZihzdGFyID49IGxldmVDbmZkYXRhc1tsZXZlQ25mZGF0YXMubGVuZ3RoIC0gMV0uc3RhcnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpbmRleCA9IGxldmVDbmZkYXRhcy5sZW5ndGggLSAxOyBcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMCA7IGkgPCBsZXZlQ25mZGF0YXMubGVuZ3RoIC0gMTsgaSsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZihzdGFyID49IGxldmVDbmZkYXRhc1tpXS5zdGFycyAmJiBzdGFyIDwgbGV2ZUNuZmRhdGFzW2kgKyAxXS5zdGFycylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGxldmVDbmZkYXRhc1tpbmRleF0uaWQ7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRMZXZlbChzdGFyOm51bWJlcik6bnVtYmVyXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGxldmVsSWQgPSB0aGlzLmdldExldmVsSWQoc3Rhcik7XHJcbiAgICAgICAgdmFyIGxldmVsY25mZGF0YTpMZXZlbENvbmZpZ0RhdGEgPSBEYXRhTWFuYWdlci5pbnN0YW5jZS5sZXZlbENvbmZpZ0RhdGFzW2xldmVsSWQgLSAxXTtcclxuICAgICAgICByZXR1cm4gbGV2ZWxjbmZkYXRhLmxldmVsXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG5cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/audio/BgSoundClip.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '55b43/MlypGNavaonI/Czvm', 'BgSoundClip');
// script/tscript/audio/BgSoundClip.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BgSoundClipType;
(function (BgSoundClipType) {
    BgSoundClipType[BgSoundClipType["none"] = 0] = "none";
    BgSoundClipType[BgSoundClipType["main"] = 1] = "main";
    BgSoundClipType[BgSoundClipType["level1"] = 2] = "level1";
    BgSoundClipType[BgSoundClipType["level2"] = 3] = "level2";
    BgSoundClipType[BgSoundClipType["level3"] = 4] = "level3";
    BgSoundClipType[BgSoundClipType["level4"] = 5] = "level4";
    BgSoundClipType[BgSoundClipType["level5"] = 6] = "level5";
})(BgSoundClipType = exports.BgSoundClipType || (exports.BgSoundClipType = {}));
var BgSoundClip = /** @class */ (function (_super) {
    __extends(BgSoundClip, _super);
    function BgSoundClip() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.clipName = "";
        _this.type = BgSoundClipType.none;
        _this.clip = null;
        return _this;
    }
    __decorate([
        property(cc.String)
    ], BgSoundClip.prototype, "clipName", void 0);
    __decorate([
        property({ type: cc.Enum(BgSoundClipType) })
    ], BgSoundClip.prototype, "type", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], BgSoundClip.prototype, "clip", void 0);
    BgSoundClip = __decorate([
        ccclass
    ], BgSoundClip);
    return BgSoundClip;
}(cc.Component));
exports.default = BgSoundClip;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxhdWRpb1xcQmdTb3VuZENsaXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFNLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFFMUMsSUFBWSxlQVNYO0FBVEQsV0FBWSxlQUFlO0lBRXZCLHFEQUFRLENBQUE7SUFDUixxREFBUSxDQUFBO0lBQ1IseURBQVUsQ0FBQTtJQUNWLHlEQUFVLENBQUE7SUFDVix5REFBVSxDQUFBO0lBQ1YseURBQVUsQ0FBQTtJQUNWLHlEQUFVLENBQUE7QUFDZCxDQUFDLEVBVFcsZUFBZSxHQUFmLHVCQUFlLEtBQWYsdUJBQWUsUUFTMUI7QUFHRDtJQUF5QywrQkFBWTtJQURyRDtRQUFBLHFFQVVDO1FBUFUsY0FBUSxHQUFVLEVBQUUsQ0FBQztRQUdyQixVQUFJLEdBQW1CLGVBQWUsQ0FBQyxJQUFJLENBQUM7UUFHNUMsVUFBSSxHQUFnQixJQUFJLENBQUM7O0lBQ3BDLENBQUM7SUFQRztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2lEQUNRO0lBRzVCO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEVBQUMsQ0FBQzs2Q0FDUztJQUduRDtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBQyxFQUFFLENBQUMsU0FBUyxFQUFDLENBQUM7NkNBQ0U7SUFSZixXQUFXO1FBRC9CLE9BQU87T0FDYSxXQUFXLENBUy9CO0lBQUQsa0JBQUM7Q0FURCxBQVNDLENBVHdDLEVBQUUsQ0FBQyxTQUFTLEdBU3BEO2tCQVRvQixXQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5leHBvcnQgZW51bSBCZ1NvdW5kQ2xpcFR5cGVcclxue1xyXG4gICAgbm9uZSA9IDAsXHJcbiAgICBtYWluID0gMSxcclxuICAgIGxldmVsMSA9IDIsXHJcbiAgICBsZXZlbDIgPSAzLFxyXG4gICAgbGV2ZWwzID0gNCxcclxuICAgIGxldmVsNCA9IDUsXHJcbiAgICBsZXZlbDUgPSA2LFxyXG59XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCZ1NvdW5kQ2xpcCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcbiAgICBAcHJvcGVydHkoY2MuU3RyaW5nKVxyXG4gICAgcHVibGljIGNsaXBOYW1lOnN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLkVudW0oQmdTb3VuZENsaXBUeXBlKX0pXHJcbiAgICBwdWJsaWMgdHlwZTpCZ1NvdW5kQ2xpcFR5cGUgPSBCZ1NvdW5kQ2xpcFR5cGUubm9uZTtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuQXVkaW9DbGlwfSlcclxuICAgIHB1YmxpYyBjbGlwOmNjLkF1ZGlvQ2xpcCA9IG51bGw7XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/main/TryOutUI.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '07a505naSVOI6ydPPukyqp/', 'TryOutUI');
// script/tscript/ui/main/TryOutUI.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BaseUI_1 = require("../base/BaseUI");
var WXSdk_1 = require("../../wx/WXSdk");
var Clock_1 = require("../../util/Clock");
var GameManager_1 = require("../../core/GameManager");
var DataManager_1 = require("../../core/DataManager");
var Random_1 = require("../../util/Random");
var UIManager_1 = require("../UIManager");
var GameScene_1 = require("../../gamescene/GameScene");
var MainUI_1 = require("./MainUI");
var Mathf_1 = require("../../util/Mathf");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var RewardType;
(function (RewardType) {
    RewardType[RewardType["none"] = 0] = "none";
    RewardType[RewardType["face"] = 1] = "face";
    RewardType[RewardType["kf6"] = 2] = "kf6";
    RewardType[RewardType["kfskin"] = 3] = "kfskin";
    RewardType[RewardType["rocket"] = 4] = "rocket";
})(RewardType = exports.RewardType || (exports.RewardType = {}));
var TryOutUI = /** @class */ (function (_super) {
    __extends(TryOutUI, _super);
    function TryOutUI() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.rewardType = RewardType.none;
        _this.otherRewardType = RewardType.none;
        _this.turnbackBtn = null;
        _this.useBtn = null;
        _this.rewardTxt1 = null;
        _this.rewardTxt2 = null;
        _this.useTxt = null;
        _this.levelImg = null;
        _this.rewardIcon = null;
        _this.lightImg = null;
        _this.cdImg = null;
        _this.cdImgArr = [];
        _this.faceSF = null;
        _this.kf6SF = null;
        _this.kfId = 0;
        _this.gameScene = null;
        _this.closeCallback = null;
        _this.lookingVidio = false;
        return _this;
    }
    // LIFE-CYCLE CALLBACKS:
    TryOutUI.prototype.onLoad = function () {
        this.basePos = this.node.position;
        this.checkReward();
    };
    TryOutUI.prototype.start = function () {
        var _this = this;
        this.gameScene = GameManager_1.default.instance.gameScene.getComponent(GameScene_1.default);
        this.lightImg.node.runAction(cc.rotateBy(3.6, 360).repeatForever());
        this.turnbackBtn.node.on(cc.Node.EventType.TOUCH_END, function (event) {
            _this.close();
        }, this);
        this.useBtn.node.on(cc.Node.EventType.TOUCH_END, function (event) {
            //WXSdk.instance.shareToAnyOne(()=>{},()=>{});
            _this.lookingVidio = true;
            WXSdk_1.default.instance.showVideo(MainUI_1.default.startRightAway ? "adunit-82c0e31583967848" : "adunit-4fce270de78f93a0", function (closeState) {
                _this.lookingVidio = false;
                if (closeState == 0) {
                    return;
                }
                switch (_this.rewardType) {
                    case RewardType.face:
                        DataManager_1.default.instance.getPlayerData().todayUseFace = true;
                        DataManager_1.default.instance.saveLevelData();
                        _this.gameScene.player.showface = true;
                        break;
                    case RewardType.kf6:
                        _this.gameScene.player.initKnife(6);
                        break;
                    case RewardType.kfskin:
                        UIManager_1.default.instance.mainUI.selectKnife(_this.kfId);
                        break;
                }
                switch (_this.otherRewardType) {
                    case RewardType.kf6:
                        _this.gameScene.player.initKnife(6);
                        break;
                    case RewardType.rocket:
                        _this.gameScene.player.rocketItemEffect();
                        break;
                }
                _this.close();
            });
        }, this);
    };
    TryOutUI.prototype.checkReward = function () {
        var _this = this;
        this.rewardType = RewardType.none;
        var gameTimes = GameManager_1.default.gameTimes;
        if (gameTimes == 1) {
            if (!DataManager_1.default.instance.getPlayerData().todayUseFace) {
                this.rewardType = RewardType.face;
            }
            else {
                this.rewardType = RewardType.kf6;
            }
        }
        else if (gameTimes > 1) {
            if (gameTimes % 2 == 1) {
                if (gameTimes % 4 == 3) {
                    //奇
                    if (!DataManager_1.default.instance.getPlayerData().todayUseFace) {
                        this.rewardType = RewardType.face;
                    }
                    else {
                        this.rewardType = RewardType.kf6;
                    }
                }
                else {
                    //偶
                    this.rewardType = RewardType.kfskin;
                }
            }
        }
        //this.rewardType = RewardType.face;
        if (this.rewardType == RewardType.none) {
            this.close();
        }
        else {
            switch (this.rewardType) {
                case RewardType.face:
                    this.rewardIcon.spriteFrame = this.faceSF;
                    this.rewardTxt1.string = "免费今日表情";
                    this.otherRewardType = RewardType.kf6;
                    break;
                case RewardType.kf6:
                    this.rewardIcon.spriteFrame = this.kf6SF;
                    this.rewardTxt1.string = "开局6把刀";
                    this.otherRewardType = RewardType.rocket;
                    break;
                case RewardType.kfskin:
                    //this.rewardIcon.spriteFrame = this;
                    this.kfId = Random_1.default.RangeInteger(11, 26);
                    this.rewardIcon.spriteFrame = GameManager_1.default.instance.daoImgs[this.kfId - 1];
                    this.rewardTxt1.string = "免费试用飞刀皮肤";
                    this.otherRewardType = Mathf_1.default.probability(0.5) ? RewardType.kf6 : RewardType.rocket;
                    break;
            }
            switch (this.otherRewardType) {
                case RewardType.kf6:
                    this.rewardTxt2.string = "附赠：开局6把刀";
                    break;
                case RewardType.rocket:
                    this.rewardTxt2.string = "附赠：开局加速";
                    break;
            }
            this.rewardIcon.node.width = this.rewardIcon.spriteFrame.getRect().width;
            this.rewardIcon.node.height = this.rewardIcon.spriteFrame.getRect().height;
            this.scheduleOnce(function () {
                _this.open();
            }, 0.05);
        }
    };
    TryOutUI.prototype.close = function () {
        _super.prototype.close.call(this);
        this.cdImg.getComponent(Clock_1.default).Stop();
        if (!this.lookingVidio) {
            this.closeCallback && this.closeCallback();
        }
        WXSdk_1.default.instance.removeBanner();
    };
    TryOutUI.prototype.open = function () {
        var _this = this;
        _super.prototype.open.call(this);
        WXSdk_1.default.instance.showBottomBanner("adunit-d39672ca59cf15a2");
        var clock = this.cdImg.getComponent(Clock_1.default);
        clock.Reset();
        clock.timeLength = 6;
        clock.Play(function (s, m, h, str, t) {
            if (t <= 5) {
                _this.cdImg.spriteFrame = _this.cdImgArr[t - 1];
            }
        }, function () {
            _this.close();
        });
    };
    __decorate([
        property({ type: cc.Enum(RewardType) })
    ], TryOutUI.prototype, "rewardType", void 0);
    __decorate([
        property({ type: cc.Enum(RewardType) })
    ], TryOutUI.prototype, "otherRewardType", void 0);
    __decorate([
        property(cc.Button)
    ], TryOutUI.prototype, "turnbackBtn", void 0);
    __decorate([
        property(cc.Button)
    ], TryOutUI.prototype, "useBtn", void 0);
    __decorate([
        property(cc.Label)
    ], TryOutUI.prototype, "rewardTxt1", void 0);
    __decorate([
        property(cc.Label)
    ], TryOutUI.prototype, "rewardTxt2", void 0);
    __decorate([
        property(cc.Label)
    ], TryOutUI.prototype, "useTxt", void 0);
    __decorate([
        property(cc.Sprite)
    ], TryOutUI.prototype, "levelImg", void 0);
    __decorate([
        property(cc.Sprite)
    ], TryOutUI.prototype, "rewardIcon", void 0);
    __decorate([
        property(cc.Sprite)
    ], TryOutUI.prototype, "lightImg", void 0);
    __decorate([
        property(cc.Sprite)
    ], TryOutUI.prototype, "cdImg", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], TryOutUI.prototype, "cdImgArr", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], TryOutUI.prototype, "faceSF", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], TryOutUI.prototype, "kf6SF", void 0);
    TryOutUI = __decorate([
        ccclass
    ], TryOutUI);
    return TryOutUI;
}(BaseUI_1.default));
exports.default = TryOutUI;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcbWFpblxcVHJ5T3V0VUkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHlDQUFvQztBQUNwQyx3Q0FBbUM7QUFDbkMsMENBQXFDO0FBQ3JDLHNEQUFpRDtBQUNqRCxzREFBaUQ7QUFDakQsNENBQXVDO0FBQ3ZDLDBDQUFxQztBQUNyQyx1REFBa0Q7QUFDbEQsbUNBQThCO0FBQzlCLDBDQUFxQztBQUVyQyxvQkFBb0I7QUFDcEIsa0ZBQWtGO0FBQ2xGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDLElBQVksVUFRWDtBQVJELFdBQVksVUFBVTtJQUVsQiwyQ0FBUSxDQUFBO0lBQ1IsMkNBQVEsQ0FBQTtJQUNSLHlDQUFPLENBQUE7SUFDUCwrQ0FBVSxDQUFBO0lBQ1YsK0NBQVUsQ0FBQTtBQUVkLENBQUMsRUFSVyxVQUFVLEdBQVYsa0JBQVUsS0FBVixrQkFBVSxRQVFyQjtBQUdEO0lBQXNDLDRCQUFNO0lBRDVDO1FBQUEscUVBOFFDO1FBelFVLGdCQUFVLEdBQWMsVUFBVSxDQUFDLElBQUksQ0FBQztRQUd4QyxxQkFBZSxHQUFjLFVBQVUsQ0FBQyxJQUFJLENBQUM7UUFHcEQsaUJBQVcsR0FBYyxJQUFJLENBQUM7UUFHOUIsWUFBTSxHQUFjLElBQUksQ0FBQztRQUd6QixnQkFBVSxHQUFhLElBQUksQ0FBQztRQUc1QixnQkFBVSxHQUFhLElBQUksQ0FBQztRQUc1QixZQUFNLEdBQWEsSUFBSSxDQUFDO1FBR3hCLGNBQVEsR0FBYyxJQUFJLENBQUM7UUFHM0IsZ0JBQVUsR0FBYyxJQUFJLENBQUM7UUFHN0IsY0FBUSxHQUFjLElBQUksQ0FBQztRQUczQixXQUFLLEdB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Q0FBQzs0Q0FDVztJQUdwQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDOzJDQUNVO0lBM0NsQixRQUFRO1FBRDVCLE9BQU87T0FDYSxRQUFRLENBNlE1QjtJQUFELGVBQUM7Q0E3UUQsQUE2UUMsQ0E3UXFDLGdCQUFNLEdBNlEzQztrQkE3UW9CLFFBQVEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZVVJIGZyb20gXCIuLi9iYXNlL0Jhc2VVSVwiO1xyXG5pbXBvcnQgV1hTZGsgZnJvbSBcIi4uLy4uL3d4L1dYU2RrXCI7XHJcbmltcG9ydCBDbG9jayBmcm9tIFwiLi4vLi4vdXRpbC9DbG9ja1wiO1xyXG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uLy4uL2NvcmUvR2FtZU1hbmFnZXJcIjtcclxuaW1wb3J0IERhdGFNYW5hZ2VyIGZyb20gXCIuLi8uLi9jb3JlL0RhdGFNYW5hZ2VyXCI7XHJcbmltcG9ydCBSYW5kb20gZnJvbSBcIi4uLy4uL3V0aWwvUmFuZG9tXCI7XHJcbmltcG9ydCBVSU1hbmFnZXIgZnJvbSBcIi4uL1VJTWFuYWdlclwiO1xyXG5pbXBvcnQgR2FtZVNjZW5lIGZyb20gXCIuLi8uLi9nYW1lc2NlbmUvR2FtZVNjZW5lXCI7XHJcbmltcG9ydCBNYWluVUkgZnJvbSBcIi4vTWFpblVJXCI7XHJcbmltcG9ydCBNYXRoZiBmcm9tIFwiLi4vLi4vdXRpbC9NYXRoZlwiO1xyXG5cclxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcblxyXG5leHBvcnQgZW51bSBSZXdhcmRUeXBlXHJcbntcclxuICAgIG5vbmUgPSAwLFxyXG4gICAgZmFjZSA9IDEsXHJcbiAgICBrZjYgPSAyLFxyXG4gICAga2Zza2luID0gMyxcclxuICAgIHJvY2tldCA9IDQsXHJcblxyXG59XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcnlPdXRVSSBleHRlbmRzIEJhc2VVSSB7XHJcblxyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5FbnVtKFJld2FyZFR5cGUpfSlcclxuICAgIHB1YmxpYyByZXdhcmRUeXBlOlJld2FyZFR5cGUgPSBSZXdhcmRUeXBlLm5vbmU7XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLkVudW0oUmV3YXJkVHlwZSl9KVxyXG4gICAgcHVibGljIG90aGVyUmV3YXJkVHlwZTpSZXdhcmRUeXBlID0gUmV3YXJkVHlwZS5ub25lO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5CdXR0b24pXHJcbiAgICB0dXJuYmFja0J0bjogY2MuQnV0dG9uID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuQnV0dG9uKVxyXG4gICAgdXNlQnRuOiBjYy5CdXR0b24gPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHJld2FyZFR4dDE6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICByZXdhcmRUeHQyOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgdXNlVHh0OiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIGxldmVsSW1nOiBjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICByZXdhcmRJY29uOiBjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBsaWdodEltZzogY2MuU3ByaXRlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgY2RJbWc6IGNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZUZyYW1lKVxyXG4gICAgcHVibGljIGNkSW1nQXJyOmNjLlNwcml0ZUZyYW1lW10gPSBbXTtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBwdWJsaWMgZmFjZVNGOmNjLlNwcml0ZUZyYW1lID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBwdWJsaWMga2Y2U0Y6Y2MuU3ByaXRlRnJhbWUgPSBudWxsO1xyXG5cclxuICAgIHB1YmxpYyBrZklkOm51bWJlciA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBnYW1lU2NlbmU6R2FtZVNjZW5lID0gbnVsbDtcclxuXHJcbiAgICBwdWJsaWMgY2xvc2VDYWxsYmFjazpGdW5jdGlvbiA9IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBsb29raW5nVmlkaW86Ym9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgICBwdWJsaWMgb25Mb2FkICgpIFxyXG4gICAgIHtcclxuICAgICAgICB0aGlzLmJhc2VQb3MgPSB0aGlzLm5vZGUucG9zaXRpb247XHJcblxyXG4gICAgICAgIHRoaXMuY2hlY2tSZXdhcmQoKTtcclxuICAgICB9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ2FtZVNjZW5lLmdldENvbXBvbmVudChHYW1lU2NlbmUpO1xyXG5cclxuICAgICAgICB0aGlzLmxpZ2h0SW1nLm5vZGUucnVuQWN0aW9uKGNjLnJvdGF0ZUJ5KDMuNiwzNjApLnJlcGVhdEZvcmV2ZXIoKSk7XHJcblxyXG4gICAgICAgIHRoaXMudHVybmJhY2tCdG4ubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsKGV2ZW50KT0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcblxyXG4gICAgICAgIH0sdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMudXNlQnRuLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELChldmVudCk9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy9XWFNkay5pbnN0YW5jZS5zaGFyZVRvQW55T25lKCgpPT57fSwoKT0+e30pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb29raW5nVmlkaW8gPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgV1hTZGsuaW5zdGFuY2Uuc2hvd1ZpZGVvKE1haW5VSS5zdGFydFJpZ2h0QXdheSA/IFwiYWR1bml0LTgyYzBlMzE1ODM5Njc4NDhcIiA6IFwiYWR1bml0LTRmY2UyNzBkZTc4ZjkzYTBcIixcclxuICAgICAgICAgICAgKGNsb3NlU3RhdGU6bnVtYmVyKT0+e1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubG9va2luZ1ZpZGlvID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoY2xvc2VTdGF0ZSA9PSAwKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2godGhpcy5yZXdhcmRUeXBlKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgUmV3YXJkVHlwZS5mYWNlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEYXRhTWFuYWdlci5pbnN0YW5jZS5nZXRQbGF5ZXJEYXRhKCkudG9kYXlVc2VGYWNlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGF0YU1hbmFnZXIuaW5zdGFuY2Uuc2F2ZUxldmVsRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVTY2VuZS5wbGF5ZXIuc2hvd2ZhY2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFJld2FyZFR5cGUua2Y2OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVTY2VuZS5wbGF5ZXIuaW5pdEtuaWZlKDYpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFJld2FyZFR5cGUua2Zza2luOlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmluc3RhbmNlLm1haW5VSS5zZWxlY3RLbmlmZSh0aGlzLmtmSWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc3dpdGNoKHRoaXMub3RoZXJSZXdhcmRUeXBlKVxyXG4gICAgICAgICAgICAgICAge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFJld2FyZFR5cGUua2Y2OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVTY2VuZS5wbGF5ZXIuaW5pdEtuaWZlKDYpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFJld2FyZFR5cGUucm9ja2V0OlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lU2NlbmUucGxheWVyLnJvY2tldEl0ZW1FZmZlY3QoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9LHRoaXMpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAgcHJpdmF0ZSBjaGVja1Jld2FyZCgpXHJcbiAgICAge1xyXG4gICAgICAgIHRoaXMucmV3YXJkVHlwZSA9IFJld2FyZFR5cGUubm9uZTtcclxuXHJcbiAgICAgICAgdmFyIGdhbWVUaW1lczpudW1iZXIgPSBHYW1lTWFuYWdlci5nYW1lVGltZXM7XHJcblxyXG4gICAgICAgIGlmKGdhbWVUaW1lcyA9PSAxKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoIURhdGFNYW5hZ2VyLmluc3RhbmNlLmdldFBsYXllckRhdGEoKS50b2RheVVzZUZhY2UpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmV3YXJkVHlwZSA9IFJld2FyZFR5cGUuZmFjZTtcclxuICAgICAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXdhcmRUeXBlID0gUmV3YXJkVHlwZS5rZjY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSBpZihnYW1lVGltZXMgPiAxKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoZ2FtZVRpbWVzICUgMiA9PSAxKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZihnYW1lVGltZXMgJSA0ID09IDMpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/lpYdcclxuICAgICAgICAgICAgICAgICAgICBpZighRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLnRvZGF5VXNlRmFjZSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV3YXJkVHlwZSA9IFJld2FyZFR5cGUuZmFjZTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXdhcmRUeXBlID0gUmV3YXJkVHlwZS5rZjY7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+WBtlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmV3YXJkVHlwZSA9IFJld2FyZFR5cGUua2Zza2luO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3RoaXMucmV3YXJkVHlwZSA9IFJld2FyZFR5cGUuZmFjZTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5yZXdhcmRUeXBlID09IFJld2FyZFR5cGUubm9uZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3dpdGNoKHRoaXMucmV3YXJkVHlwZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBSZXdhcmRUeXBlLmZhY2U6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXdhcmRJY29uLnNwcml0ZUZyYW1lID0gdGhpcy5mYWNlU0Y7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXdhcmRUeHQxLnN0cmluZyA9IFwi5YWN6LS55LuK5pel6KGo5oOFXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vdGhlclJld2FyZFR5cGUgPSBSZXdhcmRUeXBlLmtmNjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgUmV3YXJkVHlwZS5rZjY6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXdhcmRJY29uLnNwcml0ZUZyYW1lID0gdGhpcy5rZjZTRjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJld2FyZFR4dDEuc3RyaW5nID0gXCLlvIDlsYA25oqK5YiAXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vdGhlclJld2FyZFR5cGUgPSBSZXdhcmRUeXBlLnJvY2tldDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgUmV3YXJkVHlwZS5rZnNraW46XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLnJld2FyZEljb24uc3ByaXRlRnJhbWUgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmtmSWQgPSBSYW5kb20uUmFuZ2VJbnRlZ2VyKDExLDI2KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJld2FyZEljb24uc3ByaXRlRnJhbWUgPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5kYW9JbWdzW3RoaXMua2ZJZCAtIDFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJld2FyZFR4dDEuc3RyaW5nID0gXCLlhY3otLnor5XnlKjpo57liIDnmq7ogqRcIjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm90aGVyUmV3YXJkVHlwZSA9IE1hdGhmLnByb2JhYmlsaXR5KDAuNSkgPyBSZXdhcmRUeXBlLmtmNiA6IFJld2FyZFR5cGUucm9ja2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2godGhpcy5vdGhlclJld2FyZFR5cGUpXHJcbiAgICAgICAgICAgIHtcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFJld2FyZFR5cGUua2Y2OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmV3YXJkVHh0Mi5zdHJpbmcgPSBcIumZhOi1oO+8muW8gOWxgDbmiorliIBcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgUmV3YXJkVHlwZS5yb2NrZXQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXdhcmRUeHQyLnN0cmluZyA9IFwi6ZmE6LWg77ya5byA5bGA5Yqg6YCfXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5yZXdhcmRJY29uLm5vZGUud2lkdGggPSB0aGlzLnJld2FyZEljb24uc3ByaXRlRnJhbWUuZ2V0UmVjdCgpLndpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLnJld2FyZEljb24ubm9kZS5oZWlnaHQgPSB0aGlzLnJld2FyZEljb24uc3ByaXRlRnJhbWUuZ2V0UmVjdCgpLmhlaWdodDtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuKCk7XHJcbiAgICAgICAgICAgIH0sMC4wNSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbG9zZSgpXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgICAgICB0aGlzLmNkSW1nLmdldENvbXBvbmVudChDbG9jaykuU3RvcCgpO1xyXG5cclxuICAgICAgICBpZighdGhpcy5sb29raW5nVmlkaW8pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlQ2FsbGJhY2sgJiYgdGhpcy5jbG9zZUNhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIFdYU2RrLmluc3RhbmNlLnJlbW92ZUJhbm5lcigpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgb3BlbigpXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG5cclxuICAgICAgICBXWFNkay5pbnN0YW5jZS5zaG93Qm90dG9tQmFubmVyKFwiYWR1bml0LWQzOTY3MmNhNTljZjE1YTJcIik7XHJcblxyXG4gICAgICAgIHZhciBjbG9jazpDbG9jayA9IHRoaXMuY2RJbWcuZ2V0Q29tcG9uZW50KENsb2NrKTtcclxuICAgICAgICBjbG9jay5SZXNldCgpO1xyXG4gICAgICAgIGNsb2NrLnRpbWVMZW5ndGggPSA2O1xyXG4gICAgICAgIGNsb2NrLlBsYXkoKHMsbSxoLHN0cix0KT0+e1xyXG5cclxuICAgICAgICAgICAgaWYodCA8PSA1KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNkSW1nLnNwcml0ZUZyYW1lID0gdGhpcy5jZEltZ0Fyclt0IC0gMV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSwoKT0+e1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/gamescene/Player.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c3b100Vh/REDKGWVEdiJIDB', 'Player');
// script/tscript/gamescene/Player.ts

// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var Item_1 = require("../item/Item");
var GameManager_1 = require("../core/GameManager");
var GameScene_1 = require("./GameScene");
var KnifePool_1 = require("./KnifePool");
var Knife_1 = require("./Knife");
var Body_1 = require("./Body");
var Random_1 = require("../util/Random");
var DataManager_1 = require("../core/DataManager");
var Mathf_1 = require("../util/Mathf");
var SoundManager_1 = require("../core/SoundManager");
var SoundClip_1 = require("../audio/SoundClip");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PlayerStatus;
(function (PlayerStatus) {
    PlayerStatus[PlayerStatus["none"] = 0] = "none";
    PlayerStatus[PlayerStatus["defence"] = 1] = "defence";
    PlayerStatus[PlayerStatus["attack"] = 2] = "attack";
    PlayerStatus[PlayerStatus["die"] = 3] = "die";
})(PlayerStatus = exports.PlayerStatus || (exports.PlayerStatus = {}));
var Player = /** @class */ (function (_super) {
    __extends(Player, _super);
    function Player() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.knifePool = null;
        _this.nameTxt = null;
        _this.nameexitTxt = null;
        _this.isAI = false;
        _this.body = null;
        _this.circle = null;
        _this.tail = null;
        _this.skins = [];
        _this.radius = 0;
        _this.gameScene = null;
        _this.moveDir = cc.Vec2.ZERO;
        _this.moveSpeed = 550;
        _this.halfSize = cc.Size.ZERO;
        _this.hp = 10;
        _this.status = PlayerStatus.defence;
        _this.knifeId = 1;
        _this.killCount = 0;
        _this.showface = false;
        _this.circleCollider = null;
        _this.physicsCircleCollider = null;
        _this.speedBufTime = 0;
        _this.fhlBufTime = 0;
        _this.magnetBufTime = 0;
        _this.moveSpeedUp = 1;
        _this.rotaSpeedUp = 1;
        _this.circleRange = 1;
        /**
         * 仇家
         */
        _this.killer = null;
        _this.rank = 1;
        _this.baseScale = 1;
        _this._size = 1;
        _this._skin = 1;
        return _this;
    }
    Object.defineProperty(Player.prototype, "size", {
        get: function () {
            return this._size;
        },
        set: function (value) {
            this._size = value;
            this.body.node.scale = this.baseScale * this._size;
            /*if(!this.circleCollider)
            {
                this.circleCollider = this.getComponent(cc.CircleCollider);
            }
    
            this.circleCollider.radius = 200 * this._size * this.circleRange;*/
            if (!this.physicsCircleCollider) {
                this.physicsCircleCollider = this.getComponent(cc.PhysicsCircleCollider);
            }
            this.physicsCircleCollider.radius = 75 * this._size;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Player.prototype, "pickRadius", {
        get: function () {
            return this._pickRadius;
        },
        set: function (value) {
            this._pickRadius = value;
            if (!this.circleCollider) {
                this.circleCollider = this.getComponent(cc.CircleCollider);
            }
            this.circleCollider.radius = this._pickRadius * this.circleRange;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Player.prototype, "skin", {
        get: function () {
            return this._skin;
        },
        set: function (value) {
            this._skin = Mathf_1.default.clamp(value, 1, 8);
            this.body.skin.spriteFrame = this.skins[this._skin - 1];
        },
        enumerable: true,
        configurable: true
    });
    // LIFE-CYCLE CALLBACKS:
    Player.prototype.onLoad = function () {
        this.gameScene = this.node.parent.getComponent(GameScene_1.default);
        this.baseScale = this.body.node.scale;
        this.radius = this.body.getComponent(cc.CircleCollider).radius;
        //this.body = this.getComponentInChildren(Body);
        //this.body.node.color = new cc.Color(Random.Range(0,255),Random.Range(0,255),Random.Range(0,255));
        //var index:number = Random.RangeInteger(0,Player.colorArr.length);
        //this.colorId = index + 1;
        //this.body.node.color = Player.colorArr[index];
        //
    };
    Player.prototype.start = function () {
        //var nameArr = ["龙隼","飞哥","efsl","拉啊啦","何欢","项少龙","说书","we11","小胖子"];
        //var nameArr = DataManager.instance.nameConfigDatas;
        //this.nameTxt.string = nameArr[Random.RangeInteger(0,nameArr.length)].name;
        if (!this.isAI) {
            //this.circle.active = true;
        }
        var nn = cc.sys.localStorage.getItem("playname");
        if (nn == "" || nn == null || nn == undefined) {
            nn = "小李飞刀";
            cc.sys.localStorage.setItem("playname", nn);
        }
        if (this.nameexitTxt) {
            this.nameexitTxt.string = nn;
        }
    };
    Player.prototype.namechange = function () {
        if (this.nameexitTxt) {
            var nn = this.nameexitTxt.string;
            if (nn != "") {
                cc.sys.localStorage.setItem("playname", nn);
            }
            this.setName(nn);
        }
    };
    Player.prototype.onGameStart = function () {
        if (!this.isAI) {
            this.circle.active = true;
        }
        if (this.speedBufTime > 0) {
            this.tail.active = true;
        }
        this.body.updateState();
        if (this.nameexitTxt) {
            this.nameTxt.node.active = true;
            this.nameexitTxt.node.active = false;
        }
    };
    Player.prototype.getName = function () {
        return this.nameTxt.string;
    };
    Player.prototype.onCollisionEnter = function (other, self) {
        if (this.status == PlayerStatus.die) {
            return;
        }
        if (other.tag == 0) {
        }
        else if (other.tag == 1) {
            var knife = other.getComponent(Knife_1.default);
            //cc.log("碰撞到了 other ",other,knife);
            if (knife && knife.status == Knife_1.KnifeStatus.normal) {
                this.captureKnife(knife);
            }
        }
        else if (other.tag == 8) {
            var item = other.getComponent(Item_1.default);
            switch (item.type) {
                case Item_1.ItemType.fhl:
                    this.fhlItemEffect();
                    break;
                case Item_1.ItemType.rocket:
                    this.rocketItemEffect();
                    break;
                case Item_1.ItemType.magnet:
                    this.magnetItemEffect();
                    break;
            }
            item.destroySelf();
        }
        else {
        }
    };
    /**
     * 类似unity 的OnCollisionEnter OnTriggerEnter的结合
     * @param concact
     * @param selfCollider
     * @param otherColliser
     */
    Player.prototype.onBeginContact = function (concact, selfCollider, otherColliser) {
        //cc.log("刚体发生碰撞了",selfCollider.name);
        var knife = otherColliser.getComponent(Knife_1.default);
        if (knife && knife.status == Knife_1.KnifeStatus.normal) {
            this.captureKnife(knife);
        }
    };
    Player.prototype.update = function (dt) {
        if (GameManager_1.default.instance.gameStatus == GameManager_1.GameStatus.none) {
            return;
        }
        if (this.speedBufTime > 0) {
            this.speedBufTime -= dt;
            if (this.speedBufTime <= 0) {
                this.speedBufTime = 0;
                this.moveSpeedUp = 1;
                this.tail.active = false;
            }
        }
        if (this.fhlBufTime > 0) {
            this.fhlBufTime -= dt;
            if (this.fhlBufTime <= 0) {
                this.fhlBufTime = 0;
                this.rotaSpeedUp = 1;
            }
        }
        if (this.magnetBufTime > 0) {
            this.magnetBufTime -= dt;
            if (this.magnetBufTime <= 0) {
                this.magnetBufTime = 0;
                this.circleRange = 1;
                this.size = this.size;
            }
        }
        this.halfSize.width = (this.gameScene.sceneSize.width - 2 * this.radius * this.size) / 2;
        this.halfSize.height = (this.gameScene.sceneSize.height - 2 * this.radius * this.size) / 2;
        var pos = this.node.position.add(this.moveDir.mul(this.getMoveSpeed() * dt));
        if (pos.x < -this.halfSize.width) {
            pos.x = -this.halfSize.width;
        }
        else if (pos.x > this.halfSize.width) {
            pos.x = this.halfSize.width;
        }
        if (pos.y < -this.halfSize.height) {
            pos.y = -this.halfSize.height;
        }
        else if (pos.y > this.halfSize.height) {
            pos.y = this.halfSize.height;
        }
        this.node.position = pos;
    };
    Player.prototype.getMoveSpeed = function () {
        return this.moveSpeed * this.moveSpeedUp;
    };
    Player.prototype.moveToTarget = function (targetPos) {
        this.moveDir = targetPos.sub(this.node.position).normalize();
    };
    Player.prototype.stopMove = function () {
        this.moveDir = cc.Vec2.ZERO;
    };
    Player.prototype.captureKnife = function (knife) {
        if (!this.isAI) {
            SoundManager_1.default.instance.playAudioClip(SoundClip_1.SoundClipType.pick);
        }
        this.knifePool.addKnife(knife);
        this.gameScene.removeKnife(knife);
    };
    Player.prototype.changeDefenceState = function () {
        if (this.status != PlayerStatus.defence) {
            this.status = PlayerStatus.defence;
            this.knifePool.changeDefenceState();
            this.changeFace(0);
        }
    };
    Player.prototype.changeAttackState = function () {
        if (this.status != PlayerStatus.attack) {
            this.status = PlayerStatus.attack;
            this.knifePool.changeAttackState();
            this.changeFace(1);
        }
    };
    Player.prototype.initKnife = function (count) {
        this.knifePool.initKnife(count);
    };
    Player.prototype.randomKnifeSkin = function () {
        this.knifeId = Random_1.default.RangeInteger(1, DataManager_1.default.instance.knifeConfigDatas.length + 1);
        //this.colorId = Random.RangeInteger(1,7);
        this.updateKnifesSkin();
    };
    Player.prototype.setColor = function (color) {
        this.body.node.color = color;
        this.circle.color = color;
    };
    Player.prototype.setName = function (name) {
        this.nameTxt.string = name;
    };
    Player.prototype.fhlItemEffect = function () {
        this.fhlBufTime = 10;
        this.rotaSpeedUp = 2;
    };
    Player.prototype.rocketItemEffect = function () {
        this.speedBufTime = 10;
        this.moveSpeedUp = 1.5;
        if (GameManager_1.default.instance.gameStatus == GameManager_1.GameStatus.start) {
            this.tail.active = true;
        }
    };
    Player.prototype.magnetItemEffect = function () {
        this.magnetBufTime = 5;
        this.circleRange = 1.5;
        this.size = this.size;
    };
    Player.prototype.updateKnifesSkin = function () {
        this.knifePool.updateKnifesSkin(this.knifeId);
    };
    Player.prototype.setDamage = function (value, otherPlayer) {
        if (this.status == PlayerStatus.die) {
            return;
        }
        this.hp -= value;
        if (this.hp <= 0) {
            this.hp = 0;
            this.status = PlayerStatus.die;
            this.knifePool.disposeAllKnifes();
            //this.node.destroy();
            this.killer = otherPlayer;
            this.node.active = false;
            this.gameScene.playerKilled(otherPlayer, this);
        }
    };
    Player.prototype.changeFace = function (index, timer) {
        if (timer === void 0) { timer = 0; }
        if (!this.showface)
            return;
        this.body.changeFace(index, timer);
    };
    Player.colorArr = [
        new cc.Color(255, 152, 96),
        new cc.Color(45, 185, 251),
        new cc.Color(123, 87, 240),
        new cc.Color(61, 230, 146),
        new cc.Color(245, 135, 189),
        new cc.Color(253, 253, 122) //黄
    ];
    __decorate([
        property(KnifePool_1.default)
    ], Player.prototype, "knifePool", void 0);
    __decorate([
        property(cc.Label)
    ], Player.prototype, "nameTxt", void 0);
    __decorate([
        property(cc.EditBox)
    ], Player.prototype, "nameexitTxt", void 0);
    __decorate([
        property()
    ], Player.prototype, "isAI", void 0);
    __decorate([
        property(Body_1.default)
    ], Player.prototype, "body", void 0);
    __decorate([
        property(cc.Node)
    ], Player.prototype, "circle", void 0);
    __decorate([
        property(cc.Node)
    ], Player.prototype, "tail", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Player.prototype, "skins", void 0);
    Player = __decorate([
        ccclass
    ], Player);
    return Player;
}(cc.Component));
exports.default = Player;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxnYW1lc2NlbmVcXFBsYXllci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsa0ZBQWtGO0FBQ2xGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsNEZBQTRGO0FBQzVGLG1HQUFtRzs7QUFHbkcscUNBQThDO0FBQzlDLG1EQUE4RDtBQUU5RCx5Q0FBb0M7QUFDcEMseUNBQW9DO0FBQ3BDLGlDQUF3RDtBQUN4RCwrQkFBMEI7QUFDMUIseUNBQW9DO0FBRXBDLG1EQUE4QztBQUM5Qyx1Q0FBa0M7QUFDbEMscURBQWdEO0FBQ2hELGdEQUFtRDtBQUU3QyxJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDLElBQVksWUFNWDtBQU5ELFdBQVksWUFBWTtJQUVwQiwrQ0FBUSxDQUFBO0lBQ1IscURBQVcsQ0FBQTtJQUNYLG1EQUFVLENBQUE7SUFDViw2Q0FBTyxDQUFBO0FBQ1gsQ0FBQyxFQU5XLFlBQVksR0FBWixvQkFBWSxLQUFaLG9CQUFZLFFBTXZCO0FBR0Q7SUFBb0MsMEJBQVk7SUFEaEQ7UUFBQSxxRUF5ZkM7UUE1ZVUsZUFBUyxHQUFhLElBQUksQ0FBQztRQUczQixhQUFPLEdBQVksSUFBSSxDQUFDO1FBR3hCLGlCQUFXLEdBQWUsSUFBSSxDQUFDO1FBSS9CLFVBQUksR0FBVyxLQUFLLENBQUM7UUFHckIsVUFBSSxHQUFRLElBQUksQ0FBQztRQUdqQixZQUFNLEdBQVcsSUFBSSxDQUFDO1FBR3RCLFVBQUksR0FBVyxJQUFJLENBQUM7UUFHcEIsV0FBSyxHQUFvQixFQUFFLENBQUM7UUFFNUIsWUFBTSxHQUFVLENBQUMsQ0FBQztRQUVsQixlQUFTLEdBQWEsSUFBSSxDQUFDO1FBRzNCLGFBQU8sR0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUks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QUMsR0FBRyxFQUFDLEdBQUcsQ0FBQyxDQUFBLEdBQUc7S0FDL0IsQ0FBQztJQUdGO1FBREMsUUFBUSxDQUFDLG1CQUFTLENBQUM7NkNBQ2M7SUFHbEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzsyQ0FDWTtJQUcvQjtRQURELFFBQVEsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFFOytDQUNrQjtJQUl0QztRQURDLFFBQVEsRUFBRTt3Q0FDaUI7SUFHNUI7UUFEQyxRQUFRLENBQUMsY0FBSSxDQUFDO3dDQUNTO0lBR3hCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7MENBQ1c7SUFHN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt3Q0FDUztJQUczQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDO3lDQUNVO0lBbENsQixNQUFNO1FBRDFCLE9BQU87T0FDYSxNQUFNLENBd2YxQjtJQUFELGFBQUM7Q0F4ZkQsQUF3ZkMsQ0F4Zm1DLEVBQUUsQ0FBQyxTQUFTLEdBd2YvQztrQkF4Zm9CLE1BQU0iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBDdXN0b21FdmVudFR5cGUgZnJvbSBcIi4uL2V2ZW50L0N1c3RvbUV2ZW50VHlwZVwiO1xyXG5pbXBvcnQgSXRlbSwgeyBJdGVtVHlwZSB9IGZyb20gXCIuLi9pdGVtL0l0ZW1cIjtcclxuaW1wb3J0IEdhbWVNYW5hZ2VyLCB7IEdhbWVTdGF0dXMgfSBmcm9tIFwiLi4vY29yZS9HYW1lTWFuYWdlclwiO1xyXG5pbXBvcnQgQ29tbW9uVWlscyBmcm9tIFwiLi4vdXRpbC9Db21tb25VaWxzXCI7XHJcbmltcG9ydCBHYW1lU2NlbmUgZnJvbSBcIi4vR2FtZVNjZW5lXCI7XHJcbmltcG9ydCBLbmlmZVBvb2wgZnJvbSBcIi4vS25pZmVQb29sXCI7XHJcbmltcG9ydCBLbmlmZSwgeyBLbmlmZVR5cGUsIEtuaWZlU3RhdHVzIH0gZnJvbSBcIi4vS25pZmVcIjtcclxuaW1wb3J0IEJvZHkgZnJvbSBcIi4vQm9keVwiO1xyXG5pbXBvcnQgUmFuZG9tIGZyb20gXCIuLi91dGlsL1JhbmRvbVwiO1xyXG5pbXBvcnQgVUlNYW5hZ2VyIGZyb20gXCIuLi91aS9VSU1hbmFnZXJcIjtcclxuaW1wb3J0IERhdGFNYW5hZ2VyIGZyb20gXCIuLi9jb3JlL0RhdGFNYW5hZ2VyXCI7XHJcbmltcG9ydCBNYXRoZiBmcm9tIFwiLi4vdXRpbC9NYXRoZlwiO1xyXG5pbXBvcnQgU291bmRNYW5hZ2VyIGZyb20gXCIuLi9jb3JlL1NvdW5kTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBTb3VuZENsaXBUeXBlIH0gZnJvbSBcIi4uL2F1ZGlvL1NvdW5kQ2xpcFwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5cclxuZXhwb3J0IGVudW0gUGxheWVyU3RhdHVzXHJcbntcclxuICAgIG5vbmUgPSAwLFxyXG4gICAgZGVmZW5jZSA9IDEsXHJcbiAgICBhdHRhY2sgPSAyLFxyXG4gICAgZGllID0gMyxcclxufVxyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNvbG9yQXJyOkFycmF5PGNjLkNvbG9yPiA9IFtcclxuICAgICAgICBuZXcgY2MuQ29sb3IoMjU1LDE1Miw5NiksLy/mqZlcclxuICAgICAgICBuZXcgY2MuQ29sb3IoNDUsMTg1LDI1MSksLy/ok51cclxuICAgICAgICBuZXcgY2MuQ29sb3IoMTIzLDg3LDI0MCksLy/ntKtcclxuICAgICAgICBuZXcgY2MuQ29sb3IoNjEsMjMwLDE0NiksLy/nu79cclxuICAgICAgICBuZXcgY2MuQ29sb3IoMjQ1LDEzNSwxODkpLC8v57KJXHJcbiAgICAgICAgbmV3IGNjLkNvbG9yKDI1MywyNTMsMTIyKS8v6buEXHJcbiAgICBdO1xyXG5cclxuICAgIEBwcm9wZXJ0eShLbmlmZVBvb2wpXHJcbiAgICBwdWJsaWMga25pZmVQb29sOktuaWZlUG9vbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgcHVibGljIG5hbWVUeHQ6Y2MuTGFiZWwgPSBudWxsO1xyXG5cdFxyXG5cdCBAcHJvcGVydHkoY2MuRWRpdEJveCApXHJcbiAgICBwdWJsaWMgbmFtZWV4aXRUeHQ6Y2MuRWRpdEJveCAgPSBudWxsO1xyXG5cdFxyXG5cclxuICAgIEBwcm9wZXJ0eSgpXHJcbiAgICBwdWJsaWMgaXNBSTpib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgQHByb3BlcnR5KEJvZHkpXHJcbiAgICBwdWJsaWMgYm9keTpCb2R5ID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHB1YmxpYyBjaXJjbGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBwdWJsaWMgdGFpbDpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBwdWJsaWMgc2tpbnM6Y2MuU3ByaXRlRnJhbWVbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyByYWRpdXM6bnVtYmVyID0gMDtcclxuXHJcbiAgICBwdWJsaWMgZ2FtZVNjZW5lOkdhbWVTY2VuZSA9IG51bGw7XHJcbiAgICBcclxuXHJcbiAgICBwdWJsaWMgbW92ZURpcjpjYy5WZWMyID0gY2MuVmVjMi5aRVJPO1xyXG5cclxuICAgIHB1YmxpYyBtb3ZlU3BlZWQ6bnVtYmVyID0gNTUwO1xyXG5cclxuICAgIHByaXZhdGUgaGFsZlNpemU6Y2MuU2l6ZSA9IGNjLlNpemUuWkVSTztcclxuXHJcbiAgICBwdWJsaWMgaHA6bnVtYmVyID0gMTA7XHJcblxyXG4gICAgcHVibGljIHN0YXR1czpQbGF5ZXJTdGF0dXMgID0gUGxheWVyU3RhdHVzLmRlZmVuY2U7XHJcblxyXG4gICAgcHVibGljIGtuaWZlSWQ6bnVtYmVyID0gMTtcclxuXHJcbiAgICBwdWJsaWMga2lsbENvdW50Om51bWJlciA9IDA7XHJcblxyXG4gICAgcHVibGljIHNob3dmYWNlOmJvb2xlYW4gPSBmYWxzZTtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBjaXJjbGVDb2xsaWRlcjpjYy5DaXJjbGVDb2xsaWRlciA9IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBwaHlzaWNzQ2lyY2xlQ29sbGlkZXI6Y2MuQ2lyY2xlQ29sbGlkZXIgPSBudWxsO1xyXG5cclxuXHJcbiAgICBwcml2YXRlIHNwZWVkQnVmVGltZSA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBmaGxCdWZUaW1lID0gMDtcclxuXHJcbiAgICBwcml2YXRlIG1hZ25ldEJ1ZlRpbWUgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBtb3ZlU3BlZWRVcCA9IDE7XHJcblxyXG4gICAgcHVibGljIHJvdGFTcGVlZFVwID0gMTtcclxuXHJcbiAgICBwdWJsaWMgY2lyY2xlUmFuZ2UgPSAxO1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS7h+WutlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMga2lsbGVyOlBsYXllciA9IG51bGw7XHJcblxyXG4gICAgcHVibGljIHJhbms6bnVtYmVyID0gMTtcclxuXHJcbiAgICBwcml2YXRlIGJhc2VTY2FsZTpudW1iZXIgPSAxO1xyXG5cclxuICAgIHByaXZhdGUgX3NpemU6IG51bWJlciA9IDE7XHJcbiAgICBwdWJsaWMgZ2V0IHNpemUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgc2l6ZSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuYm9keS5ub2RlLnNjYWxlID0gdGhpcy5iYXNlU2NhbGUgKiB0aGlzLl9zaXplO1xyXG5cclxuICAgICAgICAvKmlmKCF0aGlzLmNpcmNsZUNvbGxpZGVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5jaXJjbGVDb2xsaWRlciA9IHRoaXMuZ2V0Q29tcG9uZW50KGNjLkNpcmNsZUNvbGxpZGVyKTtcclxuICAgICAgICB9IFxyXG5cclxuICAgICAgICB0aGlzLmNpcmNsZUNvbGxpZGVyLnJhZGl1cyA9IDIwMCAqIHRoaXMuX3NpemUgKiB0aGlzLmNpcmNsZVJhbmdlOyovXHJcblxyXG5cclxuICAgICAgICBpZighdGhpcy5waHlzaWNzQ2lyY2xlQ29sbGlkZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3NDaXJjbGVDb2xsaWRlciA9IHRoaXMuZ2V0Q29tcG9uZW50KGNjLlBoeXNpY3NDaXJjbGVDb2xsaWRlcik7XHJcbiAgICAgICAgfSBcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzQ2lyY2xlQ29sbGlkZXIucmFkaXVzID0gNzUgKiB0aGlzLl9zaXplO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9waWNrUmFkaXVzOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgZ2V0IHBpY2tSYWRpdXMoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGlja1JhZGl1cztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgcGlja1JhZGl1cyh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fcGlja1JhZGl1cyA9IHZhbHVlO1xyXG5cclxuICAgICAgICBpZighdGhpcy5jaXJjbGVDb2xsaWRlcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY2lyY2xlQ29sbGlkZXIgPSB0aGlzLmdldENvbXBvbmVudChjYy5DaXJjbGVDb2xsaWRlcik7XHJcbiAgICAgICAgfSBcclxuXHJcbiAgICAgICAgdGhpcy5jaXJjbGVDb2xsaWRlci5yYWRpdXMgPSB0aGlzLl9waWNrUmFkaXVzICogdGhpcy5jaXJjbGVSYW5nZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfc2tpbjogbnVtYmVyID0gMTtcclxuICAgIHB1YmxpYyBnZXQgc2tpbigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9za2luO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBza2luKHZhbHVlOiBudW1iZXIpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fc2tpbiA9IE1hdGhmLmNsYW1wKHZhbHVlLDEsOCk7XHJcbiAgICAgICAgdGhpcy5ib2R5LnNraW4uc3ByaXRlRnJhbWUgPSB0aGlzLnNraW5zW3RoaXMuX3NraW4gLSAxXTtcclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcblxyXG4gICAgICAgdGhpcy5nYW1lU2NlbmUgPSB0aGlzLm5vZGUucGFyZW50LmdldENvbXBvbmVudChHYW1lU2NlbmUpO1xyXG4gICAgICAgdGhpcy5iYXNlU2NhbGUgPSB0aGlzLmJvZHkubm9kZS5zY2FsZTtcclxuICAgICAgIHRoaXMucmFkaXVzID0gdGhpcy5ib2R5LmdldENvbXBvbmVudChjYy5DaXJjbGVDb2xsaWRlcikucmFkaXVzO1xyXG4gICAgICAgLy90aGlzLmJvZHkgPSB0aGlzLmdldENvbXBvbmVudEluQ2hpbGRyZW4oQm9keSk7XHJcbiAgICAgICAvL3RoaXMuYm9keS5ub2RlLmNvbG9yID0gbmV3IGNjLkNvbG9yKFJhbmRvbS5SYW5nZSgwLDI1NSksUmFuZG9tLlJhbmdlKDAsMjU1KSxSYW5kb20uUmFuZ2UoMCwyNTUpKTtcclxuXHJcbiAgICAgICAvL3ZhciBpbmRleDpudW1iZXIgPSBSYW5kb20uUmFuZ2VJbnRlZ2VyKDAsUGxheWVyLmNvbG9yQXJyLmxlbmd0aCk7XHJcbiAgICAgICAvL3RoaXMuY29sb3JJZCA9IGluZGV4ICsgMTtcclxuXHJcbiAgICAgICAvL3RoaXMuYm9keS5ub2RlLmNvbG9yID0gUGxheWVyLmNvbG9yQXJyW2luZGV4XTtcclxuXHRcdFxyXG5cdFx0XHJcblx0XHQvL1xyXG5cdFx0XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG5cclxuICAgICAgICAvL3ZhciBuYW1lQXJyID0gW1wi6b6Z6Zq8XCIsXCLpo57lk6VcIixcImVmc2xcIixcIuaLieWViuWVplwiLFwi5L2V5qyiXCIsXCLpobnlsJHpvplcIixcIuivtOS5plwiLFwid2UxMVwiLFwi5bCP6IOW5a2QXCJdO1xyXG4gICAgICAgIC8vdmFyIG5hbWVBcnIgPSBEYXRhTWFuYWdlci5pbnN0YW5jZS5uYW1lQ29uZmlnRGF0YXM7XHJcblxyXG4gICAgICAgIC8vdGhpcy5uYW1lVHh0LnN0cmluZyA9IG5hbWVBcnJbUmFuZG9tLlJhbmdlSW50ZWdlcigwLG5hbWVBcnIubGVuZ3RoKV0ubmFtZTtcclxuICAgICAgICBpZighdGhpcy5pc0FJKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy90aGlzLmNpcmNsZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcblx0XHRcclxuXHRcdHZhciBubiA9ICBjYy5zeXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwbGF5bmFtZVwiKTtcclxuXHRcdFx0XHJcblx0XHRcdGlmKCBubj09IFwiXCIgfHwgbm49PW51bGwgfHwgbm49PSB1bmRlZmluZWQgIClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5uID0gXCLlsI/mnY7po57liIBcIjtcclxuXHRcdFx0XHRjYy5zeXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwbGF5bmFtZVwiLG5uKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZih0aGlzLm5hbWVleGl0VHh0IClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHRoaXMubmFtZWV4aXRUeHQuc3RyaW5nID0gbm47XHJcblx0XHRcdH1cclxuXHRcdFxyXG5cdFx0XHJcbiAgICB9XHJcblx0XHJcblx0XHJcblx0bmFtZWNoYW5nZSgpXHJcblx0e1xyXG5cdFx0aWYodGhpcy5uYW1lZXhpdFR4dCApXHJcblx0XHRcdHtcclxuXHRcdFxyXG5cdFx0XHR2YXIgbm4gPSB0aGlzLm5hbWVleGl0VHh0LnN0cmluZztcclxuXHRcdFx0XHJcblx0XHRcdGlmKCBubiE9IFwiXCIgIClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0Y2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicGxheW5hbWVcIixubik7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5zZXROYW1lKG5uKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdH1cclxuXHJcbiAgICBwdWJsaWMgb25HYW1lU3RhcnQoKVxyXG4gICAge1xyXG4gICAgICAgIGlmKCF0aGlzLmlzQUkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmNpcmNsZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5zcGVlZEJ1ZlRpbWUgPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy50YWlsLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmJvZHkudXBkYXRlU3RhdGUoKTtcclxuXHRcdFxyXG5cdFx0XHJcblx0XHRpZih0aGlzLm5hbWVleGl0VHh0IClcclxuXHRcdHtcclxuXHRcdFx0dGhpcy5uYW1lVHh0Lm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuXHRcdFx0dGhpcy5uYW1lZXhpdFR4dC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0XHRcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGdldE5hbWUoKTpzdHJpbmdcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uYW1lVHh0LnN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25Db2xsaXNpb25FbnRlcihvdGhlcjpjYy5Db2xsaWRlcixzZWxmOmNjLkNvbGxpZGVyKVxyXG4gICAge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKHRoaXMuc3RhdHVzID09IFBsYXllclN0YXR1cy5kaWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKG90aGVyLnRhZyA9PSAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICB9ZWxzZSBpZihvdGhlci50YWcgPT0gMSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBrbmlmZTpLbmlmZSA9IG90aGVyLmdldENvbXBvbmVudChLbmlmZSk7XHJcblxyXG4gICAgICAgICAgICAvL2NjLmxvZyhcIueisOaSnuWIsOS6hiBvdGhlciBcIixvdGhlcixrbmlmZSk7XHJcblxyXG4gICAgICAgICAgICBpZihrbmlmZSAmJiBrbmlmZS5zdGF0dXMgPT0gS25pZmVTdGF0dXMubm9ybWFsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhcHR1cmVLbmlmZShrbmlmZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfWVsc2UgaWYob3RoZXIudGFnID09IDgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgaXRlbTpJdGVtID0gb3RoZXIuZ2V0Q29tcG9uZW50KEl0ZW0pO1xyXG4gICAgICAgICAgICBzd2l0Y2goaXRlbS50eXBlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEl0ZW1UeXBlLmZobDpcclxuICAgICAgICAgICAgICAgIHRoaXMuZmhsSXRlbUVmZmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEl0ZW1UeXBlLnJvY2tldDpcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvY2tldEl0ZW1FZmZlY3QoKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEl0ZW1UeXBlLm1hZ25ldDpcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hZ25ldEl0ZW1FZmZlY3QoKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGl0ZW0uZGVzdHJveVNlbGYoKTtcclxuXHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnsbvkvLx1bml0eSDnmoRPbkNvbGxpc2lvbkVudGVyIE9uVHJpZ2dlckVudGVy55qE57uT5ZCIXHJcbiAgICAgKiBAcGFyYW0gY29uY2FjdCBcclxuICAgICAqIEBwYXJhbSBzZWxmQ29sbGlkZXIgXHJcbiAgICAgKiBAcGFyYW0gb3RoZXJDb2xsaXNlciBcclxuICAgICAqL1xyXG4gICAgcHVibGljIG9uQmVnaW5Db250YWN0KGNvbmNhY3Q6Y2MuUGh5c2ljc0NvbnRhY3Qsc2VsZkNvbGxpZGVyOmNjLkNvbGxpZGVyLG90aGVyQ29sbGlzZXI6Y2MuQ29sbGlkZXIpXHJcbiAgICB7XHJcbiAgICAgICAgLy9jYy5sb2coXCLliJrkvZPlj5HnlJ/norDmkp7kuoZcIixzZWxmQ29sbGlkZXIubmFtZSk7XHJcblxyXG4gICAgICAgIHZhciBrbmlmZTpLbmlmZSA9IG90aGVyQ29sbGlzZXIuZ2V0Q29tcG9uZW50KEtuaWZlKTtcclxuXHJcbiAgICAgICAgaWYoa25pZmUgJiYga25pZmUuc3RhdHVzID09IEtuaWZlU3RhdHVzLm5vcm1hbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FwdHVyZUtuaWZlKGtuaWZlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgIHVwZGF0ZSAoZHQpIHtcclxuXHJcbiAgICAgICAgaWYoR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ2FtZVN0YXR1cyA9PSBHYW1lU3RhdHVzLm5vbmUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKHRoaXMuc3BlZWRCdWZUaW1lID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc3BlZWRCdWZUaW1lIC09IGR0O1xyXG4gICAgICAgICAgICBpZih0aGlzLnNwZWVkQnVmVGltZSA8PSAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwZWVkQnVmVGltZSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVTcGVlZFVwID0gMTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFpbC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5maGxCdWZUaW1lID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuZmhsQnVmVGltZSAtPSBkdDtcclxuICAgICAgICAgICAgaWYodGhpcy5maGxCdWZUaW1lIDw9IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmhsQnVmVGltZSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGFTcGVlZFVwID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5tYWduZXRCdWZUaW1lID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubWFnbmV0QnVmVGltZSAtPSBkdDtcclxuICAgICAgICAgICAgaWYodGhpcy5tYWduZXRCdWZUaW1lIDw9IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFnbmV0QnVmVGltZSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNpcmNsZVJhbmdlID0gMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSA9IHRoaXMuc2l6ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHRoaXMuaGFsZlNpemUud2lkdGggPSAodGhpcy5nYW1lU2NlbmUuc2NlbmVTaXplLndpZHRoIC0gMiAqIHRoaXMucmFkaXVzICogdGhpcy5zaXplKSAvIDIgO1xyXG4gICAgICAgIHRoaXMuaGFsZlNpemUuaGVpZ2h0ID0gKHRoaXMuZ2FtZVNjZW5lLnNjZW5lU2l6ZS5oZWlnaHQgLSAyICogdGhpcy5yYWRpdXMgKiB0aGlzLnNpemUpIC8gMiA7XHJcblxyXG4gICAgICAgIHZhciBwb3M6Y2MuVmVjMiA9IHRoaXMubm9kZS5wb3NpdGlvbi5hZGQodGhpcy5tb3ZlRGlyLm11bCh0aGlzLmdldE1vdmVTcGVlZCgpICogZHQpKTtcclxuXHJcbiAgICAgICAgaWYocG9zLnggPCAtdGhpcy5oYWxmU2l6ZS53aWR0aClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHBvcy54ID0gLXRoaXMuaGFsZlNpemUud2lkdGg7XHJcbiAgICAgICAgfWVsc2UgaWYocG9zLnggPiB0aGlzLmhhbGZTaXplLndpZHRoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcG9zLnggPSB0aGlzLmhhbGZTaXplLndpZHRoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYocG9zLnkgPCAtdGhpcy5oYWxmU2l6ZS5oZWlnaHQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBwb3MueSA9IC10aGlzLmhhbGZTaXplLmhlaWdodDtcclxuICAgICAgICB9ZWxzZSBpZihwb3MueSA+IHRoaXMuaGFsZlNpemUuaGVpZ2h0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcG9zLnkgPSB0aGlzLmhhbGZTaXplLmhlaWdodDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubm9kZS5wb3NpdGlvbiA9IHBvcztcclxuXHJcbiAgICAgfVxyXG5cclxuICAgICBwdWJsaWMgZ2V0TW92ZVNwZWVkKCk6bnVtYmVyXHJcbiAgICAge1xyXG4gICAgICAgICByZXR1cm4gdGhpcy5tb3ZlU3BlZWQgKiB0aGlzLm1vdmVTcGVlZFVwO1xyXG4gICAgIH1cclxuXHJcbiAgICAgcHVibGljIG1vdmVUb1RhcmdldCh0YXJnZXRQb3M6Y2MuVmVjMilcclxuICAgICB7XHJcbiAgICAgICAgIHRoaXMubW92ZURpciA9IHRhcmdldFBvcy5zdWIodGhpcy5ub2RlLnBvc2l0aW9uKS5ub3JtYWxpemUoKTtcclxuICAgICB9XHJcblxyXG4gICAgIHB1YmxpYyBzdG9wTW92ZSgpXHJcbiAgICAge1xyXG4gICAgICAgICB0aGlzLm1vdmVEaXIgPSBjYy5WZWMyLlpFUk87XHJcbiAgICAgfVxyXG5cclxuICAgICBwdWJsaWMgY2FwdHVyZUtuaWZlKGtuaWZlOktuaWZlKVxyXG4gICAgIHtcclxuICAgICAgICAgaWYoIXRoaXMuaXNBSSlcclxuICAgICAgICAge1xyXG4gICAgICAgICAgICBTb3VuZE1hbmFnZXIuaW5zdGFuY2UucGxheUF1ZGlvQ2xpcChTb3VuZENsaXBUeXBlLnBpY2spO1xyXG4gICAgICAgICB9XHJcblxyXG4gICAgICAgICB0aGlzLmtuaWZlUG9vbC5hZGRLbmlmZShrbmlmZSk7XHJcbiAgICAgICAgIHRoaXMuZ2FtZVNjZW5lLnJlbW92ZUtuaWZlKGtuaWZlKTtcclxuICAgICB9XHJcblxyXG4gICAgIHB1YmxpYyBjaGFuZ2VEZWZlbmNlU3RhdGUoKVxyXG4gICAgIHtcclxuICAgICAgICAgaWYodGhpcy5zdGF0dXMgIT0gUGxheWVyU3RhdHVzLmRlZmVuY2UpXHJcbiAgICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBQbGF5ZXJTdGF0dXMuZGVmZW5jZTtcclxuICAgICAgICAgICAgdGhpcy5rbmlmZVBvb2wuY2hhbmdlRGVmZW5jZVN0YXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlRmFjZSgwKTtcclxuICAgICAgICAgfVxyXG4gICAgIH1cclxuXHJcbiAgICAgcHVibGljIGNoYW5nZUF0dGFja1N0YXRlKClcclxuICAgICB7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuc3RhdHVzICE9IFBsYXllclN0YXR1cy5hdHRhY2spXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IFBsYXllclN0YXR1cy5hdHRhY2s7XHJcbiAgICAgICAgICAgIHRoaXMua25pZmVQb29sLmNoYW5nZUF0dGFja1N0YXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlRmFjZSgxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgfVxyXG4gICAgIFxyXG4gICAgIHB1YmxpYyBpbml0S25pZmUoY291bnQ6bnVtYmVyKVxyXG4gICAgIHtcclxuICAgICAgICAgdGhpcy5rbmlmZVBvb2wuaW5pdEtuaWZlKGNvdW50KTtcclxuICAgICB9XHJcblxyXG4gICAgIHB1YmxpYyByYW5kb21LbmlmZVNraW4oKVxyXG4gICAgIHtcclxuICAgICAgICB0aGlzLmtuaWZlSWQgPSBSYW5kb20uUmFuZ2VJbnRlZ2VyKDEsRGF0YU1hbmFnZXIuaW5zdGFuY2Uua25pZmVDb25maWdEYXRhcy5sZW5ndGggKyAxKTtcclxuICAgICAgICAvL3RoaXMuY29sb3JJZCA9IFJhbmRvbS5SYW5nZUludGVnZXIoMSw3KTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUtuaWZlc1NraW4oKTtcclxuICAgICB9XHJcblxyXG4gICAgIHB1YmxpYyBzZXRDb2xvcihjb2xvcjpjYy5Db2xvcilcclxuICAgICB7XHJcbiAgICAgICAgdGhpcy5ib2R5Lm5vZGUuY29sb3IgPSBjb2xvcjtcclxuICAgICAgICB0aGlzLmNpcmNsZS5jb2xvciA9IGNvbG9yO1xyXG4gICAgIH1cclxuXHJcbiAgICAgcHVibGljIHNldE5hbWUobmFtZTpzdHJpbmcpXHJcbiAgICAge1xyXG4gICAgICAgIHRoaXMubmFtZVR4dC5zdHJpbmcgPSBuYW1lO1xyXG5cclxuICAgICB9XHJcblxyXG4gICAgIHB1YmxpYyBmaGxJdGVtRWZmZWN0KClcclxuICAgICB7XHJcbiAgICAgICAgIHRoaXMuZmhsQnVmVGltZSA9IDEwO1xyXG4gICAgICAgICB0aGlzLnJvdGFTcGVlZFVwID0gMjtcclxuICAgICB9XHJcblxyXG4gICAgIHB1YmxpYyByb2NrZXRJdGVtRWZmZWN0KClcclxuICAgICB7XHJcbiAgICAgICAgIHRoaXMuc3BlZWRCdWZUaW1lID0gMTA7XHJcbiAgICAgICAgIHRoaXMubW92ZVNwZWVkVXAgPSAxLjU7XHJcblxyXG4gICAgICAgICBpZihHYW1lTWFuYWdlci5pbnN0YW5jZS5nYW1lU3RhdHVzID09IEdhbWVTdGF0dXMuc3RhcnQpXHJcbiAgICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy50YWlsLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgfVxyXG5cclxuICAgICBwdWJsaWMgbWFnbmV0SXRlbUVmZmVjdCgpXHJcbiAgICAge1xyXG4gICAgICAgICB0aGlzLm1hZ25ldEJ1ZlRpbWUgPSA1O1xyXG4gICAgICAgICB0aGlzLmNpcmNsZVJhbmdlID0gMS41O1xyXG4gICAgICAgICB0aGlzLnNpemUgPSB0aGlzLnNpemU7XHJcbiAgICAgfVxyXG5cclxuICAgICBwdWJsaWMgdXBkYXRlS25pZmVzU2tpbigpXHJcbiAgICAge1xyXG4gICAgICAgICB0aGlzLmtuaWZlUG9vbC51cGRhdGVLbmlmZXNTa2luKHRoaXMua25pZmVJZCk7XHJcbiAgICAgfVxyXG5cclxuXHJcbiAgICAgcHVibGljIHNldERhbWFnZSh2YWx1ZTpudW1iZXIsb3RoZXJQbGF5ZXI6UGxheWVyKVxyXG4gICAgIHtcclxuICAgICAgICAgaWYodGhpcy5zdGF0dXMgPT0gUGxheWVyU3RhdHVzLmRpZSlcclxuICAgICAgICAge1xyXG4gICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICB9XHJcblxyXG4gICAgICAgICB0aGlzLmhwIC09IHZhbHVlO1xyXG5cclxuICAgICAgICAgaWYodGhpcy5ocCA8PSAwKVxyXG4gICAgICAgICB7XHJcbiAgICAgICAgICAgICB0aGlzLmhwID0gMDtcclxuICAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gUGxheWVyU3RhdHVzLmRpZTtcclxuICAgICAgICAgICAgIHRoaXMua25pZmVQb29sLmRpc3Bvc2VBbGxLbmlmZXMoKTtcclxuXHJcbiAgICAgICAgICAgICAvL3RoaXMubm9kZS5kZXN0cm95KCk7XHJcblxyXG4gICAgICAgICAgICAgdGhpcy5raWxsZXIgPSBvdGhlclBsYXllcjtcclxuXHJcbiAgICAgICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgdGhpcy5nYW1lU2NlbmUucGxheWVyS2lsbGVkKG90aGVyUGxheWVyLHRoaXMpO1xyXG4gICAgICAgICB9XHJcblxyXG5cclxuICAgICB9XHJcblxyXG4gICAgcHVibGljIGNoYW5nZUZhY2UoaW5kZXg6bnVtYmVyLHRpbWVyOm51bWJlciA9IDApXHJcbiAgICB7XHJcblxyXG4gICAgICAgIGlmKCF0aGlzLnNob3dmYWNlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuYm9keS5jaGFuZ2VGYWNlKGluZGV4LHRpbWVyKTtcclxuICAgIH1cclxuXHJcblxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/main/AccountUI.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2833fGUv4RIaqVA9q1xQBOV', 'AccountUI');
// script/tscript/ui/main/AccountUI.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BaseUI_1 = require("../base/BaseUI");
var GameScene_1 = require("../../gamescene/GameScene");
var GameManager_1 = require("../../core/GameManager");
var Player_1 = require("../../gamescene/Player");
var DataManager_1 = require("../../core/DataManager");
var WXSdk_1 = require("../../wx/WXSdk");
var UIManager_1 = require("../UIManager");
var LevelIcon_1 = require("./LevelIcon");
var MainUI_1 = require("./MainUI");
var Mathf_1 = require("../../util/Mathf");
var SoundManager_1 = require("../../core/SoundManager");
var SoundClip_1 = require("../../audio/SoundClip");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var AccountUI = /** @class */ (function (_super) {
    __extends(AccountUI, _super);
    function AccountUI() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.levelIcon = null;
        _this.levelProgress = null;
        _this.levelvalueTxt = null;
        _this.rankValueTxt = null;
        _this.killValueTxt = null;
        _this.totalValueTxt = null;
        _this.winStarTxt1 = null;
        _this.killTxt = null;
        _this.winStarTxt2 = null;
        _this.turnBack = null;
        _this.lookRankBtn = null;
        _this.huoquBtn1 = null;
        _this.huoquBtn2 = null;
        _this.recoverBtn = null;
        _this.replayBtn = null;
        _this.rankImg = null;
        _this.numArr = [];
        _this.gameScene = null;
        _this.star = 0;
        return _this;
        /*update (dt) {
   
          
        
        }*/
    }
    AccountUI.prototype.start = function () {
        var _this = this;
        this.gameScene = GameManager_1.default.instance.gameScene.getComponent(GameScene_1.default);
        this.turnBack.node.on(cc.Node.EventType.TOUCH_END, function (event) {
            var lastStar = DataManager_1.default.instance.getPlayerData().star;
            var lastLevelId = DataManager_1.default.instance.getLevelId(DataManager_1.default.instance.getPlayerData().star);
            DataManager_1.default.instance.getPlayerData().addStar(_this.star);
            DataManager_1.default.instance.savePlayerData();
            WXSdk_1.default.instance.setUserRankStorage("star", DataManager_1.default.instance.getPlayerData().star);
            var levelId = DataManager_1.default.instance.getLevelId(DataManager_1.default.instance.getPlayerData().star);
            if (levelId > lastLevelId) {
                _this.close();
                UIManager_1.default.instance.upgradeUI.open();
                UIManager_1.default.instance.upgradeUI.showUpgrade(levelId, true);
                UIManager_1.default.instance.upgradeUI.onExit = function () {
                    cc.director.loadScene(cc.director.getScene().name);
                };
            }
            else if (levelId < lastLevelId) {
                _this.close();
                UIManager_1.default.instance.upgradeUI.open();
                UIManager_1.default.instance.upgradeUI.showUpgrade(levelId, false);
                UIManager_1.default.instance.upgradeUI.onExit = function () {
                    cc.director.loadScene(cc.director.getScene().name);
                };
                UIManager_1.default.instance.upgradeUI.onRecover = function () {
                    DataManager_1.default.instance.getPlayerData().star = lastStar;
                    DataManager_1.default.instance.savePlayerData();
                    cc.director.loadScene(cc.director.getScene().name);
                };
            }
            else {
                cc.director.loadScene(cc.director.getScene().name);
            }
        });
        this.huoquBtn2.node.on(cc.Node.EventType.TOUCH_END, function (event) {
            WXSdk_1.default.instance.showVideo("adunit-82c0e31583967848", function (closeState) {
                if (closeState == 0) {
                    return;
                }
                var lastStar = DataManager_1.default.instance.getPlayerData().star;
                var lastLevelId = DataManager_1.default.instance.getLevelId(DataManager_1.default.instance.getPlayerData().star);
                DataManager_1.default.instance.getPlayerData().addStar(_this.star * 3);
                ;
                DataManager_1.default.instance.savePlayerData();
                WXSdk_1.default.instance.setUserRankStorage("star", DataManager_1.default.instance.getPlayerData().star);
                var levelId = DataManager_1.default.instance.getLevelId(DataManager_1.default.instance.getPlayerData().star);
                if (levelId > lastLevelId) {
                    _this.close();
                    UIManager_1.default.instance.upgradeUI.open();
                    UIManager_1.default.instance.upgradeUI.showUpgrade(levelId, true);
                    UIManager_1.default.instance.upgradeUI.onExit = function () {
                        cc.director.loadScene(cc.director.getScene().name);
                    };
                }
                else if (levelId < lastLevelId) {
                    _this.close();
                    UIManager_1.default.instance.upgradeUI.open();
                    UIManager_1.default.instance.upgradeUI.showUpgrade(levelId, false);
                    UIManager_1.default.instance.upgradeUI.onExit = function () {
                        cc.director.loadScene(cc.director.getScene().name);
                    };
                    UIManager_1.default.instance.upgradeUI.onRecover = function () {
                        DataManager_1.default.instance.getPlayerData().star = lastStar;
                        DataManager_1.default.instance.savePlayerData();
                        cc.director.loadScene(cc.director.getScene().name);
                    };
                }
                else {
                    cc.director.loadScene(cc.director.getScene().name);
                }
            });
        });
        this.recoverBtn.node.on(cc.Node.EventType.TOUCH_END, function (event) {
            WXSdk_1.default.instance.showVideo("adunit-58c67892748cf639", function (closeState) {
                if (closeState == 0) {
                    return;
                }
                cc.director.loadScene(cc.director.getScene().name);
            });
        });
        this.lookRankBtn.node.on(cc.Node.EventType.TOUCH_END, function (event) {
            UIManager_1.default.instance.wxOpenDataUI.openRankUI();
        }, this);
        this.replayBtn.node.on(cc.Node.EventType.TOUCH_END, function (event) {
            DataManager_1.default.instance.getPlayerData().addStar(_this.star);
            DataManager_1.default.instance.savePlayerData();
            WXSdk_1.default.instance.setUserRankStorage("star", DataManager_1.default.instance.getPlayerData().star);
            MainUI_1.default.startRightAway = true;
            cc.director.loadScene(cc.director.getScene().name);
        });
    };
    AccountUI.prototype.init = function () {
        this.gameScene = GameManager_1.default.instance.gameScene.getComponent(GameScene_1.default);
        if (this.gameScene.player.status == Player_1.PlayerStatus.die) {
            DataManager_1.default.instance.getPlayerData().continueStraking = 0;
        }
        else {
            if (this.gameScene.player.rank == 1) {
                DataManager_1.default.instance.getPlayerData().num1 += 1;
                //cc.log("用时",this.gameScene.clock.currentCount - 1);
                if (this.gameScene.clock.currentCount - 1 > DataManager_1.default.instance.getPlayerData().timelimitnum1) {
                    DataManager_1.default.instance.getPlayerData().timelimitnum1 = this.gameScene.clock.currentCount - 1;
                }
            }
            DataManager_1.default.instance.getPlayerData().continueStraking++;
            if (DataManager_1.default.instance.getPlayerData().continueStraking > DataManager_1.default.instance.getPlayerData().straking) {
                DataManager_1.default.instance.getPlayerData().straking = DataManager_1.default.instance.getPlayerData().continueStraking;
            }
        }
        this.star = 0;
        var rank = Mathf_1.default.clamp(this.gameScene.player.rank, 1, 8);
        //this.rankTxt.string = `第${rank}名`;
        this.rankImg.spriteFrame = this.numArr[rank - 1];
        this.rankImg.node.width = this.numArr[rank - 1].getRect().width;
        this.rankImg.node.height = this.numArr[rank - 1].getRect().height;
        var levelId = DataManager_1.default.instance.getLevelId(DataManager_1.default.instance.getPlayerData().star);
        var rankData = DataManager_1.default.instance.accountRankCnfDatasDic[levelId][rank - 1];
        var rw = rankData.reward;
        this.star += rw;
        this.rankValueTxt.string = rw >= 0 ? "+" + rw : "" + rw;
        if (rw < 0) {
            this.rankValueTxt.node.color = cc.Color.RED;
        }
        var killCount = this.gameScene.player.killCount;
        var kr = 0;
        if (killCount < 2) {
            //------
        }
        else {
            kr = killCount - 1;
        }
        this.killTxt.string = "" + killCount;
        this.killValueTxt.string = "+" + kr;
        this.star += kr;
        this.totalValueTxt.string = this.star >= 0 ? "+" + this.star : "" + this.star;
        //this.winStarTxt1.string = `+${this.star}`;
        //this.winStarTxt2.string = `+${this.star * 3}`;
        if (this.star < 0) {
            this.totalValueTxt.node.color = cc.Color.RED;
            this.recoverBtn.node.active = true;
            this.huoquBtn2.node.active = false;
            SoundManager_1.default.instance.playAudioClip(SoundClip_1.SoundClipType.fail);
        }
        else {
            this.recoverBtn.node.active = false;
            this.huoquBtn2.node.active = true;
            SoundManager_1.default.instance.playAudioClip(SoundClip_1.SoundClipType.victory);
        }
        DataManager_1.default.instance.savePlayerData();
        var levelId = DataManager_1.default.instance.getLevelId(DataManager_1.default.instance.getPlayerData().star);
        var leveCnfdatas = DataManager_1.default.instance.levelConfigDatas;
        if (levelId == leveCnfdatas.length) {
            this.levelvalueTxt.string = "" + DataManager_1.default.instance.getPlayerData().star;
            this.levelProgress.progress = 1;
        }
        else {
            this.levelvalueTxt.string = DataManager_1.default.instance.getPlayerData().star + "/" + leveCnfdatas[levelId].stars;
            this.levelProgress.progress = DataManager_1.default.instance.getPlayerData().star / leveCnfdatas[levelId].stars;
        }
        this.levelIcon.updatePlayerSkin();
    };
    AccountUI.prototype.open = function () {
        _super.prototype.open.call(this);
        this.init();
        WXSdk_1.default.instance.showBottomBanner("adunit-d39672ca59cf15a2");
        //cc.log("account open",this.node.position.toString());
    };
    AccountUI.prototype.close = function () {
        _super.prototype.close.call(this);
        WXSdk_1.default.instance.removeBanner();
    };
    __decorate([
        property(LevelIcon_1.default)
    ], AccountUI.prototype, "levelIcon", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], AccountUI.prototype, "levelProgress", void 0);
    __decorate([
        property(cc.Label)
    ], AccountUI.prototype, "levelvalueTxt", void 0);
    __decorate([
        property(cc.Label)
    ], AccountUI.prototype, "rankValueTxt", void 0);
    __decorate([
        property(cc.Label)
    ], AccountUI.prototype, "killValueTxt", void 0);
    __decorate([
        property(cc.Label)
    ], AccountUI.prototype, "totalValueTxt", void 0);
    __decorate([
        property(cc.Label)
    ], AccountUI.prototype, "winStarTxt1", void 0);
    __decorate([
        property(cc.Label)
    ], AccountUI.prototype, "killTxt", void 0);
    __decorate([
        property(cc.Label)
    ], AccountUI.prototype, "winStarTxt2", void 0);
    __decorate([
        property(cc.Button)
    ], AccountUI.prototype, "turnBack", void 0);
    __decorate([
        property(cc.Button)
    ], AccountUI.prototype, "lookRankBtn", void 0);
    __decorate([
        property(cc.Button)
    ], AccountUI.prototype, "huoquBtn1", void 0);
    __decorate([
        property(cc.Button)
    ], AccountUI.prototype, "huoquBtn2", void 0);
    __decorate([
        property(cc.Button)
    ], AccountUI.prototype, "recoverBtn", void 0);
    __decorate([
        property(cc.Button)
    ], AccountUI.prototype, "replayBtn", void 0);
    __decorate([
        property(cc.Sprite)
    ], AccountUI.prototype, "rankImg", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], AccountUI.prototype, "numArr", void 0);
    AccountUI = __decorate([
        ccclass
    ], AccountUI);
    return AccountUI;
}(BaseUI_1.default));
exports.default = AccountUI;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcbWFpblxcQWNjb3VudFVJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSx5Q0FBb0M7QUFDcEMsdURBQWtEO0FBQ2xELHNEQUFpRDtBQUNqRCxpREFBOEQ7QUFDOUQsc0RBQWlEO0FBQ2pELHdDQUFtQztBQUNuQywwQ0FBcUM7QUFFckMseUNBQW9DO0FBQ3BDLG1DQUE4QjtBQUM5QiwwQ0FBcUM7QUFDckMsd0RBQW1EO0FBQ25ELG1EQUFzRDtBQUV0RCxvQkFBb0I7QUFDcEIsa0ZBQWtGO0FBQ2xGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQXVDLDZCQUFNO0lBRDdDO1FBQUEscUVBd1ZDO1FBcFZHLGVBQVMsR0FBYyxJQUFJLENBQUM7UUFHNUIsbUJBQWEsR0FBbUIsSUFBSSxDQUFDO1FBR3JDLG1CQUFhLEdBQWEsSUFBSSxDQUFDO1FBRy9CLGtCQUFZLEdBQWEsSUFBSSxDQUFDO1FBRzlCLGtCQUFZLEdBQWEsSUFBSSxDQUFDO1FBRzlCLG1CQUFhLEdBQWEsSUFBSSxDQUFDO1FBRy9CLGlCQUFXLEdBQWEsSUFBSSxDQUFDO1FBRzdCLGFBQU8sR0FBYSxJQUFJLENBQUM7UUFHekIsaUJBQVcsR0FBYSxJQUFJLENBQUM7UUFHN0IsY0FBUSxHQUFjLElBQUksQ0FBQztRQUczQixpQkFBVyxHQUFjLElBQUksQ0FBQztRQUc5QixlQUFTLEdBQWMsSUFBSSxDQUFDO1FBRzVCLGVBQVMsR0FBYyxJQUFJLENBQUM7UUFHNUIsZ0JBQVUsR0FBYyxJQUFJLENBQUM7UUFHN0IsZUFBUyxHQUFjLElBQUksQ0FBQztRQUc1QixhQUFPLEdBQWMsSUFBSSxDQUFDO1FBRzFC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LFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2lEQUNTO0lBRzdCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7Z0RBQ1E7SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzs4Q0FDTTtJQUcxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDOzZDQUNLO0lBbkRiLFNBQVM7UUFEN0IsT0FBTztPQUNhLFNBQVMsQ0F1VjdCO0lBQUQsZ0JBQUM7Q0F2VkQsQUF1VkMsQ0F2VnNDLGdCQUFNLEdBdVY1QztrQkF2Vm9CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRHVhbldlaSBmcm9tIFwiLi9EdWFuV2VpXCI7XHJcbmltcG9ydCBCYXNlVUkgZnJvbSBcIi4uL2Jhc2UvQmFzZVVJXCI7XHJcbmltcG9ydCBHYW1lU2NlbmUgZnJvbSBcIi4uLy4uL2dhbWVzY2VuZS9HYW1lU2NlbmVcIjtcclxuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuLi8uLi9jb3JlL0dhbWVNYW5hZ2VyXCI7XHJcbmltcG9ydCBQbGF5ZXIsIHsgUGxheWVyU3RhdHVzIH0gZnJvbSBcIi4uLy4uL2dhbWVzY2VuZS9QbGF5ZXJcIjtcclxuaW1wb3J0IERhdGFNYW5hZ2VyIGZyb20gXCIuLi8uLi9jb3JlL0RhdGFNYW5hZ2VyXCI7XHJcbmltcG9ydCBXWFNkayBmcm9tIFwiLi4vLi4vd3gvV1hTZGtcIjtcclxuaW1wb3J0IFVJTWFuYWdlciBmcm9tIFwiLi4vVUlNYW5hZ2VyXCI7XHJcbmltcG9ydCBBY2NvdW50UmFua0RhdGEgZnJvbSBcIi4uLy4uL2NvbmZpZ2RhdGEvQWNjb3VudFJhbmtEYXRhXCI7XHJcbmltcG9ydCBMZXZlbEljb24gZnJvbSBcIi4vTGV2ZWxJY29uXCI7XHJcbmltcG9ydCBNYWluVUkgZnJvbSBcIi4vTWFpblVJXCI7XHJcbmltcG9ydCBNYXRoZiBmcm9tIFwiLi4vLi4vdXRpbC9NYXRoZlwiO1xyXG5pbXBvcnQgU291bmRNYW5hZ2VyIGZyb20gXCIuLi8uLi9jb3JlL1NvdW5kTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBTb3VuZENsaXBUeXBlIH0gZnJvbSBcIi4uLy4uL2F1ZGlvL1NvdW5kQ2xpcFwiO1xyXG5cclxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjY291bnRVSSBleHRlbmRzIEJhc2VVSSB7XHJcblxyXG4gICAgQHByb3BlcnR5KExldmVsSWNvbilcclxuICAgIGxldmVsSWNvbjogTGV2ZWxJY29uID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUHJvZ3Jlc3NCYXIpXHJcbiAgICBsZXZlbFByb2dyZXNzOiBjYy5Qcm9ncmVzc0JhciA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgbGV2ZWx2YWx1ZVR4dDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHJhbmtWYWx1ZVR4dDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGtpbGxWYWx1ZVR4dDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHRvdGFsVmFsdWVUeHQ6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB3aW5TdGFyVHh0MTogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGtpbGxUeHQ6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB3aW5TdGFyVHh0MjogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5CdXR0b24pXHJcbiAgICB0dXJuQmFjazogY2MuQnV0dG9uID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuQnV0dG9uKVxyXG4gICAgbG9va1JhbmtCdG46IGNjLkJ1dHRvbiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkJ1dHRvbilcclxuICAgIGh1b3F1QnRuMTogY2MuQnV0dG9uID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuQnV0dG9uKVxyXG4gICAgaHVvcXVCdG4yOiBjYy5CdXR0b24gPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5CdXR0b24pXHJcbiAgICByZWNvdmVyQnRuOiBjYy5CdXR0b24gPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5CdXR0b24pXHJcbiAgICByZXBsYXlCdG46IGNjLkJ1dHRvbiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIHJhbmtJbWc6IGNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZUZyYW1lKVxyXG4gICAgbnVtQXJyOiBjYy5TcHJpdGVGcmFtZVtdID0gW107XHJcblxyXG5cclxuICAgIHByaXZhdGUgZ2FtZVNjZW5lOkdhbWVTY2VuZSA9IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGFyOm51bWJlciA9IDA7XHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgLypwdWJsaWMgb25Mb2FkICgpIHtcclxuICAgICAgICAvL3RoaXMuYmFzZVBvcyA9IHRoaXMubm9kZS5wb3NpdGlvbjtcclxuICAgIH0qL1xyXG5cclxuICAgIHByaXZhdGUgaXNJbml0OmJvb2xlYW47XHJcbiAgICBcclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ2FtZVNjZW5lLmdldENvbXBvbmVudChHYW1lU2NlbmUpO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLnR1cm5CYWNrLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELChldmVudCk9PntcclxuXHJcbiAgICAgICAgICAgIHZhciBsYXN0U3RhciA9IERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldFBsYXllckRhdGEoKS5zdGFyO1xyXG4gICAgICAgICAgICB2YXIgbGFzdExldmVsSWQgPSBEYXRhTWFuYWdlci5pbnN0YW5jZS5nZXRMZXZlbElkKERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldFBsYXllckRhdGEoKS5zdGFyKTtcclxuXHJcbiAgICAgICAgICAgIERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldFBsYXllckRhdGEoKS5hZGRTdGFyKHRoaXMuc3Rhcik7XHJcbiAgICAgICAgICAgIERhdGFNYW5hZ2VyLmluc3RhbmNlLnNhdmVQbGF5ZXJEYXRhKCk7XHJcblxyXG4gICAgICAgICAgICBXWFNkay5pbnN0YW5jZS5zZXRVc2VyUmFua1N0b3JhZ2UoXCJzdGFyXCIsRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLnN0YXIpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGxldmVsSWQgPSBEYXRhTWFuYWdlci5pbnN0YW5jZS5nZXRMZXZlbElkKERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldFBsYXllckRhdGEoKS5zdGFyKTtcclxuXHJcbiAgICAgICAgICAgIGlmKGxldmVsSWQgPiBsYXN0TGV2ZWxJZClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmluc3RhbmNlLnVwZ3JhZGVVSS5vcGVuKCk7XHJcbiAgICAgICAgICAgICAgICBVSU1hbmFnZXIuaW5zdGFuY2UudXBncmFkZVVJLnNob3dVcGdyYWRlKGxldmVsSWQsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBVSU1hbmFnZXIuaW5zdGFuY2UudXBncmFkZVVJLm9uRXhpdCA9ICgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKGNjLmRpcmVjdG9yLmdldFNjZW5lKCkubmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihsZXZlbElkIDwgbGFzdExldmVsSWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIFVJTWFuYWdlci5pbnN0YW5jZS51cGdyYWRlVUkub3BlbigpO1xyXG4gICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmluc3RhbmNlLnVwZ3JhZGVVSS5zaG93VXBncmFkZShsZXZlbElkLGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIFVJTWFuYWdlci5pbnN0YW5jZS51cGdyYWRlVUkub25FeGl0ID0gKCk9PntcclxuICAgICAgICAgICAgICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmluc3RhbmNlLnVwZ3JhZGVVSS5vblJlY292ZXIgPSAoKT0+e1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBEYXRhTWFuYWdlci5pbnN0YW5jZS5nZXRQbGF5ZXJEYXRhKCkuc3RhciA9IGxhc3RTdGFyO1xyXG4gICAgICAgICAgICAgICAgICAgIERhdGFNYW5hZ2VyLmluc3RhbmNlLnNhdmVQbGF5ZXJEYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKGNjLmRpcmVjdG9yLmdldFNjZW5lKCkubmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKS5uYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5odW9xdUJ0bjIubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsKGV2ZW50KT0+e1xyXG5cclxuXHJcbiAgICAgICAgICAgIFdYU2RrLmluc3RhbmNlLnNob3dWaWRlbyhcImFkdW5pdC04MmMwZTMxNTgzOTY3ODQ4XCIsKGNsb3NlU3RhdGU6bnVtYmVyKT0+e1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKGNsb3NlU3RhdGUgPT0gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RTdGFyID0gRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLnN0YXI7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdExldmVsSWQgPSBEYXRhTWFuYWdlci5pbnN0YW5jZS5nZXRMZXZlbElkKERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldFBsYXllckRhdGEoKS5zdGFyKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLmFkZFN0YXIodGhpcy5zdGFyICogMyk7O1xyXG4gICAgICAgICAgICAgICAgRGF0YU1hbmFnZXIuaW5zdGFuY2Uuc2F2ZVBsYXllckRhdGEoKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgV1hTZGsuaW5zdGFuY2Uuc2V0VXNlclJhbmtTdG9yYWdlKFwic3RhclwiLERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldFBsYXllckRhdGEoKS5zdGFyKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgdmFyIGxldmVsSWQgPSBEYXRhTWFuYWdlci5pbnN0YW5jZS5nZXRMZXZlbElkKERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldFBsYXllckRhdGEoKS5zdGFyKTtcclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZihsZXZlbElkID4gbGFzdExldmVsSWQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIFVJTWFuYWdlci5pbnN0YW5jZS51cGdyYWRlVUkub3BlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIFVJTWFuYWdlci5pbnN0YW5jZS51cGdyYWRlVUkuc2hvd1VwZ3JhZGUobGV2ZWxJZCx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBVSU1hbmFnZXIuaW5zdGFuY2UudXBncmFkZVVJLm9uRXhpdCA9ICgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLmRpcmVjdG9yLmxvYWRTY2VuZShjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZihsZXZlbElkIDwgbGFzdExldmVsSWQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIFVJTWFuYWdlci5pbnN0YW5jZS51cGdyYWRlVUkub3BlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIFVJTWFuYWdlci5pbnN0YW5jZS51cGdyYWRlVUkuc2hvd1VwZ3JhZGUobGV2ZWxJZCxmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmluc3RhbmNlLnVwZ3JhZGVVSS5vbkV4aXQgPSAoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmluc3RhbmNlLnVwZ3JhZGVVSS5vblJlY292ZXIgPSAoKT0+e1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldFBsYXllckRhdGEoKS5zdGFyID0gbGFzdFN0YXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERhdGFNYW5hZ2VyLmluc3RhbmNlLnNhdmVQbGF5ZXJEYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLmRpcmVjdG9yLmxvYWRTY2VuZShjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKGNjLmRpcmVjdG9yLmdldFNjZW5lKCkubmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucmVjb3ZlckJ0bi5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwoZXZlbnQpPT57XHJcblxyXG4gICAgICAgICAgICBXWFNkay5pbnN0YW5jZS5zaG93VmlkZW8oXCJhZHVuaXQtNThjNjc4OTI3NDhjZjYzOVwiLChjbG9zZVN0YXRlOm51bWJlcik9PntcclxuXHJcbiAgICAgICAgICAgICAgICBpZihjbG9zZVN0YXRlID09IDApXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNjLmRpcmVjdG9yLmxvYWRTY2VuZShjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLm5hbWUpO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmxvb2tSYW5rQnRuLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELChldmVudCk9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgVUlNYW5hZ2VyLmluc3RhbmNlLnd4T3BlbkRhdGFVSS5vcGVuUmFua1VJKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0sdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMucmVwbGF5QnRuLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELChldmVudCk9PntcclxuXHJcbiAgICAgICAgICAgIERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldFBsYXllckRhdGEoKS5hZGRTdGFyKHRoaXMuc3Rhcik7XHJcbiAgICAgICAgICAgIERhdGFNYW5hZ2VyLmluc3RhbmNlLnNhdmVQbGF5ZXJEYXRhKCk7XHJcblxyXG4gICAgICAgICAgICBXWFNkay5pbnN0YW5jZS5zZXRVc2VyUmFua1N0b3JhZ2UoXCJzdGFyXCIsRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLnN0YXIpO1xyXG5cclxuICAgICAgICAgICAgTWFpblVJLnN0YXJ0UmlnaHRBd2F5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKGNjLmRpcmVjdG9yLmdldFNjZW5lKCkubmFtZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5pdCgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5nYW1lU2NlbmUuZ2V0Q29tcG9uZW50KEdhbWVTY2VuZSk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuZ2FtZVNjZW5lLnBsYXllci5zdGF0dXMgPT0gUGxheWVyU3RhdHVzLmRpZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldFBsYXllckRhdGEoKS5jb250aW51ZVN0cmFraW5nID0gMDtcclxuXHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLmdhbWVTY2VuZS5wbGF5ZXIucmFuayA9PSAxKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBEYXRhTWFuYWdlci5pbnN0YW5jZS5nZXRQbGF5ZXJEYXRhKCkubnVtMSArPTE7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jYy5sb2coXCLnlKjml7ZcIix0aGlzLmdhbWVTY2VuZS5jbG9jay5jdXJyZW50Q291bnQgLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmdhbWVTY2VuZS5jbG9jay5jdXJyZW50Q291bnQgLSAxID4gRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLnRpbWVsaW1pdG51bTEpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLnRpbWVsaW1pdG51bTEgPSB0aGlzLmdhbWVTY2VuZS5jbG9jay5jdXJyZW50Q291bnQgLSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLmNvbnRpbnVlU3RyYWtpbmcgKys7XHJcblxyXG4gICAgICAgICAgICBpZihEYXRhTWFuYWdlci5pbnN0YW5jZS5nZXRQbGF5ZXJEYXRhKCkuY29udGludWVTdHJha2luZyA+IERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldFBsYXllckRhdGEoKS5zdHJha2luZylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLnN0cmFraW5nID0gRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLmNvbnRpbnVlU3RyYWtpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuc3RhciA9IDA7XHJcblxyXG4gICAgICAgIHZhciByYW5rOm51bWJlciA9IE1hdGhmLmNsYW1wKHRoaXMuZ2FtZVNjZW5lLnBsYXllci5yYW5rLDEsOCk7XHJcblxyXG5cclxuICAgICAgICAvL3RoaXMucmFua1R4dC5zdHJpbmcgPSBg56ysJHtyYW5rfeWQjWA7XHJcbiAgICAgICAgdGhpcy5yYW5rSW1nLnNwcml0ZUZyYW1lID0gdGhpcy5udW1BcnJbcmFuayAtIDFdO1xyXG4gICAgICAgIHRoaXMucmFua0ltZy5ub2RlLndpZHRoID0gdGhpcy5udW1BcnJbcmFuayAtIDFdLmdldFJlY3QoKS53aWR0aDtcclxuICAgICAgICB0aGlzLnJhbmtJbWcubm9kZS5oZWlnaHQgPSB0aGlzLm51bUFycltyYW5rIC0gMV0uZ2V0UmVjdCgpLmhlaWdodDtcclxuXHJcbiAgICAgICAgdmFyIGxldmVsSWQ6bnVtYmVyID0gRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0TGV2ZWxJZChEYXRhTWFuYWdlci5pbnN0YW5jZS5nZXRQbGF5ZXJEYXRhKCkuc3Rhcik7XHJcbiAgICAgICAgdmFyIHJhbmtEYXRhOkFjY291bnRSYW5rRGF0YSA9IERhdGFNYW5hZ2VyLmluc3RhbmNlLmFjY291bnRSYW5rQ25mRGF0YXNEaWNbbGV2ZWxJZF1bcmFuayAtIDFdO1xyXG5cclxuICAgICAgICB2YXIgcnc6bnVtYmVyID0gcmFua0RhdGEucmV3YXJkO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXIgKz0gcnc7XHJcblxyXG4gICAgICAgIHRoaXMucmFua1ZhbHVlVHh0LnN0cmluZyA9IHJ3ID49IDAgPyBgKyR7cnd9YCA6IGAke3J3fWA7XHJcbiAgICAgICAgaWYocncgPCAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5yYW5rVmFsdWVUeHQubm9kZS5jb2xvciA9IGNjLkNvbG9yLlJFRDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBraWxsQ291bnQ6bnVtYmVyID0gdGhpcy5nYW1lU2NlbmUucGxheWVyLmtpbGxDb3VudDtcclxuXHJcbiAgICAgICAgdmFyIGtyOm51bWJlciA9IDA7XHJcblxyXG4gICAgICAgIGlmKGtpbGxDb3VudCA8IDIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLy0tLS0tLVxyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBrciA9IGtpbGxDb3VudCAtIDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmtpbGxUeHQuc3RyaW5nID0gYCR7a2lsbENvdW50fWBcclxuICAgICAgICB0aGlzLmtpbGxWYWx1ZVR4dC5zdHJpbmcgPSBgKyR7a3J9YDtcclxuXHJcbiAgICAgICAgdGhpcy5zdGFyICs9IGtyO1xyXG5cclxuICAgICAgICB0aGlzLnRvdGFsVmFsdWVUeHQuc3RyaW5nID0gdGhpcy5zdGFyID49IDAgPyBgKyR7dGhpcy5zdGFyfWAgOiBgJHt0aGlzLnN0YXJ9YDtcclxuXHJcblxyXG4gICAgICAgIC8vdGhpcy53aW5TdGFyVHh0MS5zdHJpbmcgPSBgKyR7dGhpcy5zdGFyfWA7XHJcbiAgICAgICAgLy90aGlzLndpblN0YXJUeHQyLnN0cmluZyA9IGArJHt0aGlzLnN0YXIgKiAzfWA7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKHRoaXMuc3RhciA8IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnRvdGFsVmFsdWVUeHQubm9kZS5jb2xvciA9IGNjLkNvbG9yLlJFRDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVjb3ZlckJ0bi5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuaHVvcXVCdG4yLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBTb3VuZE1hbmFnZXIuaW5zdGFuY2UucGxheUF1ZGlvQ2xpcChTb3VuZENsaXBUeXBlLmZhaWwpO1xyXG5cclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5yZWNvdmVyQnRuLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuaHVvcXVCdG4yLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIFNvdW5kTWFuYWdlci5pbnN0YW5jZS5wbGF5QXVkaW9DbGlwKFNvdW5kQ2xpcFR5cGUudmljdG9yeSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBEYXRhTWFuYWdlci5pbnN0YW5jZS5zYXZlUGxheWVyRGF0YSgpO1xyXG5cclxuICAgICAgICB2YXIgbGV2ZWxJZCA9IERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldExldmVsSWQoRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLnN0YXIpO1xyXG4gICAgICAgIHZhciBsZXZlQ25mZGF0YXMgPSBEYXRhTWFuYWdlci5pbnN0YW5jZS5sZXZlbENvbmZpZ0RhdGFzO1xyXG5cclxuICAgICAgICBpZihsZXZlbElkID09IGxldmVDbmZkYXRhcy5sZW5ndGgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmxldmVsdmFsdWVUeHQuc3RyaW5nID0gIFwiXCIgKyBEYXRhTWFuYWdlci5pbnN0YW5jZS5nZXRQbGF5ZXJEYXRhKCkuc3RhcjtcclxuICAgICAgICAgICAgdGhpcy5sZXZlbFByb2dyZXNzLnByb2dyZXNzID0gMTtcclxuXHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubGV2ZWx2YWx1ZVR4dC5zdHJpbmcgPSAgRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLnN0YXIgKyBcIi9cIiArIGxldmVDbmZkYXRhc1tsZXZlbElkXS5zdGFycztcclxuICAgICAgICAgICAgdGhpcy5sZXZlbFByb2dyZXNzLnByb2dyZXNzID0gRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLnN0YXIgLyBsZXZlQ25mZGF0YXNbbGV2ZWxJZF0uc3RhcnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxldmVsSWNvbi51cGRhdGVQbGF5ZXJTa2luKCk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvcGVuKClcclxuICAgIHtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcblxyXG4gICAgICAgIFdYU2RrLmluc3RhbmNlLnNob3dCb3R0b21CYW5uZXIoXCJhZHVuaXQtZDM5NjcyY2E1OWNmMTVhMlwiKTtcclxuXHJcbiAgICAgICAgLy9jYy5sb2coXCJhY2NvdW50IG9wZW5cIix0aGlzLm5vZGUucG9zaXRpb24udG9TdHJpbmcoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsb3NlKClcclxuICAgIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgICAgIFdYU2RrLmluc3RhbmNlLnJlbW92ZUJhbm5lcigpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAgLyp1cGRhdGUgKGR0KSB7XHJcblxyXG4gICAgICAgXHJcbiAgICAgXHJcbiAgICAgfSovXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/gamescene/KnifePool.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c4bdd116CZJqJdKFHYxqqqR', 'KnifePool');
// script/tscript/gamescene/KnifePool.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Player_1 = require("./Player");
var Knife_1 = require("./Knife");
var Random_1 = require("../util/Random");
var GameManager_1 = require("../core/GameManager");
var DataManager_1 = require("../core/DataManager");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var KnifePool = /** @class */ (function (_super) {
    __extends(KnifePool, _super);
    function KnifePool() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.player = null;
        _this.radius = 125;
        _this.rotaSpeed = 180;
        _this.rotaAngle = 0;
        _this.knifes = [];
        _this.limitNum = 25;
        _this.baseNum = 100;
        return _this;
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    KnifePool.prototype.start = function () {
        this.knifes = this.getComponentsInChildren(Knife_1.default);
        //this.initKnife(this.initCount);
        this.changeDefenceState();
        /*cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,(event)=>{

            switch(event.keyCode)
            {
                case cc.macro.KEY.a:

                this.refresh();

                break;

                case cc.macro.KEY.s:

                this.refresh2();

                break;

                case cc.macro.KEY.d:


                cc.log("场景飞刀数",this.player.gameScene.knifeArr.length);

                
                break;
            }
        })*/
    };
    KnifePool.prototype.update = function (dt) {
        this.rotaAngle -= dt * this.rotaSpeed * this.player.rotaSpeedUp;
        this.rotaAngle %= 360;
        this.node.angle = this.rotaAngle;
    };
    KnifePool.prototype.initKnife = function (count) {
        var tempKnife = this.knifes.slice();
        for (var i = 0; i < tempKnife.length; i++) {
            this.removeKnife(tempKnife[i]);
            tempKnife[i].destroySelf();
        }
        for (var i = 0; i < count; i++) {
            var knife = GameManager_1.default.instance.getKnife(Knife_1.KnifeType.normal);
            this.addKnife(knife);
        }
    };
    KnifePool.prototype.addKnife = function (knife) {
        if (this.knifes.indexOf(knife) != -1) {
            return;
        }
        if (knife.node.parent != null) {
            var worldPos = knife.node.parent.convertToWorldSpaceAR(knife.node.position);
            var relaPos = this.node.convertToNodeSpaceAR(worldPos);
            knife.node.position = relaPos;
        }
        knife.node.parent = this.node;
        knife.player = this.player;
        knife.status = Knife_1.KnifeStatus.capture;
        knife.setSkin(this.player.knifeId);
        this.knifes.push(knife);
        if (!this.player.isAI) {
            if (this.knifes.length > DataManager_1.default.instance.getPlayerData().knives) {
                DataManager_1.default.instance.getPlayerData().knives = this.knifes.length;
                DataManager_1.default.instance.saveLevelData();
            }
        }
        if (this.player.status == Player_1.PlayerStatus.defence) {
            this.changeDefenceState();
        }
        else if (this.player.status == Player_1.PlayerStatus.attack) {
            this.changeAttackState();
        }
    };
    KnifePool.prototype.updateKnifesSkin = function (knifeId) {
        var len = this.knifes.length;
        for (var i = 0; i < len; i++) {
            this.knifes[i].setSkin(knifeId);
        }
    };
    KnifePool.prototype.removeKnife = function (knife) {
        var index = this.knifes.indexOf(knife);
        if (index != -1) {
            this.knifes.splice(index, 1);
            if (this.player.status == Player_1.PlayerStatus.defence) {
                this.changeDefenceState();
            }
            else if (this.player.status == Player_1.PlayerStatus.attack) {
                this.changeAttackState();
            }
        }
    };
    KnifePool.prototype.disposeAllKnifes = function () {
        var arr = this.knifes.slice();
        for (var i = 0; i < arr.length; i++) {
            var dir = cc.v2(Random_1.default.Range(-1, 1), Random_1.default.Range(-1, 1)).normalize();
            arr[i].fly(dir);
        }
    };
    /**
     * 切换防御状态
     */
    KnifePool.prototype.changeDefenceState = function () {
        var len = this.knifes.length;
        var angle = 2 * Math.PI / len;
        var eulerAngle = 360 / len;
        //var t = 1 / len;
        /*if(t > 0.1)
        {
            t > 0.1
        }

        if(t <= 0.001)
        {
            t = 0.001;
        }

        this.schedule(()=>{

            var knife:Knife = this.knifes[i];
            if(!knife)
                return;

            knife.node.stopAllActions();

            var pos:cc.Vec2 = cc.v2(this.radius * Math.cos(i * angle),this.radius * Math.sin(i * angle));
            knife.setPos(pos);
            knife.setRota(90 - i * eulerAngle);
            //knife.setScale(Random.Range(1,4));

            i++;
        },t,len - 1)*/
        //this.radius = 160 + Math.floor(len/10) * 30;
        var rd = len < 10 ? 10 : len;
        var radiusScale = len / this.baseNum + (1 - this.limitNum / this.baseNum);
        this.radius = (133.9308 * radiusScale + rd * 5.3564);
        this.rotaSpeed = 144;
        this.player.size = (115 + len * 1.94) / 115;
        this.player.pickRadius = this.radius;
        for (var i = 0; i < len; i++) {
            var knife = this.knifes[i];
            knife.node.stopAllActions();
            if (len >= this.limitNum) {
                knife.node.scale = ((i % 5 + 1) / 5 * 0.6 + 0.75);
            }
            else {
                //knife.node.scale = 1;
                knife.node.scale = radiusScale;
            }
            var pos = cc.v2(this.radius * Math.cos(i * angle), this.radius * Math.sin(i * angle));
            knife.setPos(pos);
            knife.setRota(90 - i * eulerAngle);
            //knife.setScale(Random.Range(1,4));
        }
    };
    /**
     * 切换进攻状态
     */
    KnifePool.prototype.changeAttackState = function () {
        var len = this.knifes.length;
        var angle = 2 * Math.PI / len;
        var eulerAngle = 360 / len;
        //this.radius = 160 + Math.floor(len/10) * 30;
        var rd = len < 10 ? 10 : len;
        var radiusScale = len / this.baseNum + (1 - this.limitNum / this.baseNum);
        this.radius = 133.9308 * radiusScale + rd * 5.3564 + 90 * radiusScale;
        this.rotaSpeed = 160;
        this.player.size = (115 + len * 1.94) / 115;
        this.player.pickRadius = this.radius;
        for (var i = 0; i < len; i++) {
            var knife = this.knifes[i];
            knife.node.stopAllActions();
            if (len >= this.limitNum) {
                knife.node.scale = ((i % 5 + 1) / 5 * 0.6 + 0.75);
            }
            else {
                //knife.node.scale = 1;
                knife.node.scale = radiusScale;
            }
            var pos = cc.v2(this.radius * Math.cos(i * angle), this.radius * Math.sin(i * angle));
            knife.setPos(pos);
            knife.setRota(180 - i * eulerAngle);
        }
    };
    __decorate([
        property(Player_1.default)
    ], KnifePool.prototype, "player", void 0);
    KnifePool = __decorate([
        ccclass
    ], KnifePool);
    return KnifePool;
}(cc.Component));
exports.default = KnifePool;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxnYW1lc2NlbmVcXEtuaWZlUG9vbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbUNBQWdEO0FBQ2hELGlDQUF3RDtBQUN4RCx5Q0FBb0M7QUFDcEMsbURBQThDO0FBRTlDLG1EQUE4QztBQUU5QyxvQkFBb0I7QUFDcEIsa0ZBQWtGO0FBQ2xGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQXVDLDZCQUFZO0lBRG5EO1FBQUEscUVBNFJDO1FBdlJVLFlBQU0sR0FBVSxJQUFJLENBQUM7UUFFckIsWUFBTSxHQUFVLEdBQUcsQ0FBQztRQUVwQixlQUFTLEdBQUcsR0FBRyxDQUFDO1FBRWYsZUFBUyxHQUFVLENBQUMsQ0FBQztRQUV0QixZQUFNLEdBQWdCLEVBQUUsQ0FBQztRQUd4QixjQUFRLEdBQVUsRUFBRSxDQUFDO1FBQ3JCLGFBQU8sR0FBVSxHQUFHLENBQUM7O0lBMlFqQyxDQUFDO0lBeFFHLHdCQUF3QjtJQUV4QixlQUFlO0lBRWYseUJBQUssR0FBTDtRQUVJLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLHVCQUF1QixDQUFDLGVBQUssQ0FBQyxDQUFDO1FBRWxELGlDQUFpQztRQUdqQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUUxQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBd0JJO0lBR1IsQ0FBQztJQUVBLDBCQUFNLEdBQU4sVUFBUSxFQUFFO1FBRVAsSUFBSSxDQUFDLFNBQVMsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQztRQUNoRSxJQUFJLENBQUMsU0FBUyxJ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QU8sQ0FBQyxHQUFHLEdBQUksQ0FBQyxHQUFHLFVBQVUsQ0FBQyxDQUFDO1NBRXhDO0lBQ0osQ0FBQztJQXRSRjtRQURDLFFBQVEsQ0FBQyxnQkFBTSxDQUFDOzZDQUNXO0lBSlgsU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQTJSN0I7SUFBRCxnQkFBQztDQTNSRCxBQTJSQyxDQTNSc0MsRUFBRSxDQUFDLFNBQVMsR0EyUmxEO2tCQTNSb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQbGF5ZXIsIHsgUGxheWVyU3RhdHVzIH0gZnJvbSBcIi4vUGxheWVyXCI7XHJcbmltcG9ydCBLbmlmZSwgeyBLbmlmZVR5cGUsIEtuaWZlU3RhdHVzIH0gZnJvbSBcIi4vS25pZmVcIjtcclxuaW1wb3J0IFJhbmRvbSBmcm9tIFwiLi4vdXRpbC9SYW5kb21cIjtcclxuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuLi9jb3JlL0dhbWVNYW5hZ2VyXCI7XHJcbmltcG9ydCBDb21tb25VaWxzIGZyb20gXCIuLi91dGlsL0NvbW1vblVpbHNcIjtcclxuaW1wb3J0IERhdGFNYW5hZ2VyIGZyb20gXCIuLi9jb3JlL0RhdGFNYW5hZ2VyXCI7XHJcblxyXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS25pZmVQb29sIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBcclxuICAgIEBwcm9wZXJ0eShQbGF5ZXIpXHJcbiAgICBwdWJsaWMgcGxheWVyOlBsYXllciA9IG51bGw7XHJcblxyXG4gICAgcHVibGljIHJhZGl1czpudW1iZXIgPSAxMjU7XHJcblxyXG4gICAgcHVibGljIHJvdGFTcGVlZCA9IDE4MDtcclxuXHJcbiAgICBwcml2YXRlIHJvdGFBbmdsZTpudW1iZXIgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBrbmlmZXM6QXJyYXk8S25pZmU+ID0gW107IFxyXG5cclxuXHJcbiAgICBwcml2YXRlIGxpbWl0TnVtOm51bWJlciA9IDI1O1xyXG4gICAgcHJpdmF0ZSBiYXNlTnVtOm51bWJlciA9IDEwMDtcclxuXHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgLy8gb25Mb2FkICgpIHt9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG5cclxuICAgICAgICB0aGlzLmtuaWZlcyA9IHRoaXMuZ2V0Q29tcG9uZW50c0luQ2hpbGRyZW4oS25pZmUpO1xyXG5cclxuICAgICAgICAvL3RoaXMuaW5pdEtuaWZlKHRoaXMuaW5pdENvdW50KTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jaGFuZ2VEZWZlbmNlU3RhdGUoKTtcclxuXHJcbiAgICAgICAgLypjYy5zeXN0ZW1FdmVudC5vbihjYy5TeXN0ZW1FdmVudC5FdmVudFR5cGUuS0VZX1VQLChldmVudCk9PntcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaChldmVudC5rZXlDb2RlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGNjLm1hY3JvLktFWS5hOlxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgY2MubWFjcm8uS0VZLnM6XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoMigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgY2MubWFjcm8uS0VZLmQ6XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGNjLmxvZyhcIuWcuuaZr+mjnuWIgOaVsFwiLHRoaXMucGxheWVyLmdhbWVTY2VuZS5rbmlmZUFyci5sZW5ndGgpO1xyXG5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSovXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICAgdXBkYXRlIChkdCkgXHJcbiAgICAge1xyXG4gICAgICAgIHRoaXMucm90YUFuZ2xlIC09IGR0ICogdGhpcy5yb3RhU3BlZWQgKiB0aGlzLnBsYXllci5yb3RhU3BlZWRVcDtcclxuICAgICAgICB0aGlzLnJvdGFBbmdsZSAlPSAzNjA7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFuZ2xlID0gdGhpcy5yb3RhQW5nbGU7XHJcbiAgICAgfVxyXG5cclxuICAgICBwdWJsaWMgaW5pdEtuaWZlKGNvdW50Om51bWJlcilcclxuICAgICB7XHJcblxyXG4gICAgICAgIHZhciB0ZW1wS25pZmU6QXJyYXk8S25pZmU+ID0gdGhpcy5rbmlmZXMuc2xpY2UoKTtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMCA7IGkgPCB0ZW1wS25pZmUubGVuZ3RoIDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVLbmlmZSh0ZW1wS25pZmVbaV0pO1xyXG4gICAgICAgICAgICB0ZW1wS25pZmVbaV0uZGVzdHJveVNlbGYoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcih2YXIgaSA9IDAgOyBpIDwgY291bnQgOyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIga25pZmU6S25pZmUgPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5nZXRLbmlmZShLbmlmZVR5cGUubm9ybWFsKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRLbmlmZShrbmlmZSk7XHJcbiAgICAgICAgfVxyXG4gICAgIH1cclxuXHJcbiAgICAgcHVibGljIGFkZEtuaWZlKGtuaWZlOktuaWZlKVxyXG4gICAgIHtcclxuICAgICAgICAgaWYodGhpcy5rbmlmZXMuaW5kZXhPZihrbmlmZSkgIT0gLTEpXHJcbiAgICAgICAgIHtcclxuICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYoa25pZmUubm9kZS5wYXJlbnQgIT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciB3b3JsZFBvczpjYy5WZWMyID0ga25pZmUubm9kZS5wYXJlbnQuY29udmVydFRvV29ybGRTcGFjZUFSKGtuaWZlLm5vZGUucG9zaXRpb24pO1xyXG4gICAgICAgICAgICB2YXIgcmVsYVBvczpjYy5WZWMyID0gdGhpcy5ub2RlLmNvbnZlcnRUb05vZGVTcGFjZUFSKHdvcmxkUG9zKTtcclxuICAgICAgICAgICAga25pZmUubm9kZS5wb3NpdGlvbiA9IHJlbGFQb3M7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBrbmlmZS5ub2RlLnBhcmVudCA9IHRoaXMubm9kZTtcclxuICAgICAgICBrbmlmZS5wbGF5ZXIgPSB0aGlzLnBsYXllcjtcclxuICAgICAgICBrbmlmZS5zdGF0dXMgPSBLbmlmZVN0YXR1cy5jYXB0dXJlO1xyXG4gICAgICAgIGtuaWZlLnNldFNraW4odGhpcy5wbGF5ZXIua25pZmVJZCk7XHJcbiAgICAgICAgdGhpcy5rbmlmZXMucHVzaChrbmlmZSk7XHJcblxyXG4gICAgICAgIGlmKCF0aGlzLnBsYXllci5pc0FJKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYodGhpcy5rbmlmZXMubGVuZ3RoID4gRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLmtuaXZlcylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLmtuaXZlcyA9IHRoaXMua25pZmVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIERhdGFNYW5hZ2VyLmluc3RhbmNlLnNhdmVMZXZlbERhdGEoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGlmKHRoaXMucGxheWVyLnN0YXR1cyA9PSBQbGF5ZXJTdGF0dXMuZGVmZW5jZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlRGVmZW5jZVN0YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYodGhpcy5wbGF5ZXIuc3RhdHVzID09IFBsYXllclN0YXR1cy5hdHRhY2spXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZUF0dGFja1N0YXRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICB9XHJcblxyXG4gICAgIHB1YmxpYyB1cGRhdGVLbmlmZXNTa2luKGtuaWZlSWQ6bnVtYmVyKVxyXG4gICAgIHtcclxuICAgICAgICAgdmFyIGxlbjpudW1iZXIgPSB0aGlzLmtuaWZlcy5sZW5ndGg7XHJcbiAgICAgICAgIGZvcih2YXIgaSA9IDAgOyBpIDwgbGVuIDsgaSsrKVxyXG4gICAgICAgICB7XHJcbiAgICAgICAgICAgICB0aGlzLmtuaWZlc1tpXS5zZXRTa2luKGtuaWZlSWQpO1xyXG4gICAgICAgICB9XHJcbiAgICAgfVxyXG5cclxuICAgICBwdWJsaWMgcmVtb3ZlS25pZmUoa25pZmU6S25pZmUpXHJcbiAgICAge1xyXG4gICAgICAgIHZhciBpbmRleDpudW1iZXIgPSB0aGlzLmtuaWZlcy5pbmRleE9mKGtuaWZlKTtcclxuXHJcbiAgICAgICAgaWYoaW5kZXggIT0gLTEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmtuaWZlcy5zcGxpY2UoaW5kZXgsMSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZih0aGlzLnBsYXllci5zdGF0dXMgPT0gUGxheWVyU3RhdHVzLmRlZmVuY2UpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlRGVmZW5jZVN0YXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZih0aGlzLnBsYXllci5zdGF0dXMgPT0gUGxheWVyU3RhdHVzLmF0dGFjaylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VBdHRhY2tTdGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICB9XHJcblxyXG4gICAgIHB1YmxpYyBkaXNwb3NlQWxsS25pZmVzKClcclxuICAgICB7XHJcbiAgICAgICAgIHZhciBhcnI6QXJyYXk8S25pZmU+ID0gdGhpcy5rbmlmZXMuc2xpY2UoKTtcclxuICAgICAgICAgZm9yKHZhciBpID0gMCA7IGkgPCBhcnIubGVuZ3RoIDsgaSsrKVxyXG4gICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZGlyOmNjLlZlYzIgPSBjYy52MihSYW5kb20uUmFuZ2UoLTEsMSksUmFuZG9tLlJhbmdlKC0xLDEpKS5ub3JtYWxpemUoKTtcclxuICAgICAgICAgICAgIGFycltpXS5mbHkoZGlyKTtcclxuICAgICAgICAgfVxyXG4gICAgIH1cclxuXHJcbiAgICAgLyoqXHJcbiAgICAgICog5YiH5o2i6Ziy5b6h54q25oCBXHJcbiAgICAgICovXHJcbiAgICAgcHVibGljIGNoYW5nZURlZmVuY2VTdGF0ZSgpXHJcbiAgICAge1xyXG4gICAgICAgIHZhciBsZW46bnVtYmVyID0gdGhpcy5rbmlmZXMubGVuZ3RoO1xyXG5cclxuICAgICAgICB2YXIgYW5nbGU6bnVtYmVyID0gMiAqIE1hdGguUEkgLyBsZW47XHJcbiAgICAgICAgdmFyIGV1bGVyQW5nbGUgPSAzNjAgLyBsZW47XHJcblxyXG5cclxuICAgICAgICAvL3ZhciB0ID0gMSAvIGxlbjtcclxuXHJcbiAgICAgICAgLyppZih0ID4gMC4xKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdCA+IDAuMVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodCA8PSAwLjAwMSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHQgPSAwLjAwMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2NoZWR1bGUoKCk9PntcclxuXHJcbiAgICAgICAgICAgIHZhciBrbmlmZTpLbmlmZSA9IHRoaXMua25pZmVzW2ldO1xyXG4gICAgICAgICAgICBpZigha25pZmUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBrbmlmZS5ub2RlLnN0b3BBbGxBY3Rpb25zKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcG9zOmNjLlZlYzIgPSBjYy52Mih0aGlzLnJhZGl1cyAqIE1hdGguY29zKGkgKiBhbmdsZSksdGhpcy5yYWRpdXMgKiBNYXRoLnNpbihpICogYW5nbGUpKTtcclxuICAgICAgICAgICAga25pZmUuc2V0UG9zKHBvcyk7XHJcbiAgICAgICAgICAgIGtuaWZlLnNldFJvdGEoOTAgLSBpICogZXVsZXJBbmdsZSk7XHJcbiAgICAgICAgICAgIC8va25pZmUuc2V0U2NhbGUoUmFuZG9tLlJhbmdlKDEsNCkpO1xyXG5cclxuICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgIH0sdCxsZW4gLSAxKSovXHJcblxyXG4gICAgICAgIC8vdGhpcy5yYWRpdXMgPSAxNjAgKyBNYXRoLmZsb29yKGxlbi8xMCkgKiAzMDtcclxuXHJcbiAgICAgICAgdmFyIHJkOm51bWJlciA9IGxlbiA8IDEwID8gMTAgOiBsZW47XHJcblxyXG4gICAgICAgIHZhciByYWRpdXNTY2FsZSA9IGxlbiAvIHRoaXMuYmFzZU51bSArICgxIC0gdGhpcy5saW1pdE51bSAvdGhpcy5iYXNlTnVtKTtcclxuXHJcbiAgICAgICAgdGhpcy5yYWRpdXMgPSAoMTMzLjkzMDggKiByYWRpdXNTY2FsZSArIHJkICogNS4zNTY0KTtcclxuICAgICAgICB0aGlzLnJvdGFTcGVlZCA9IDE0NDtcclxuICAgICAgICB0aGlzLnBsYXllci5zaXplID0gKDExNSArIGxlbiAqIDEuOTQpIC8gMTE1O1xyXG4gICAgICAgIHRoaXMucGxheWVyLnBpY2tSYWRpdXMgPSB0aGlzLnJhZGl1cztcclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMCA7IGkgPCBsZW4gOyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIga25pZmU6S25pZmUgPSB0aGlzLmtuaWZlc1tpXTtcclxuXHJcbiAgICAgICAgICAgIGtuaWZlLm5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuXHJcbiAgICAgICAgICAgIGlmKGxlbiA+PSB0aGlzLmxpbWl0TnVtKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBrbmlmZS5ub2RlLnNjYWxlID0gKChpICUgNSArIDEpIC8gNSAqIDAuNiArIDAuNzUpOyAgXHJcbiAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8va25pZmUubm9kZS5zY2FsZSA9IDE7XHJcbiAgICAgICAgICAgICAgICBrbmlmZS5ub2RlLnNjYWxlID0gcmFkaXVzU2NhbGU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBwb3M6Y2MuVmVjMiA9IGNjLnYyKHRoaXMucmFkaXVzICogTWF0aC5jb3MoaSAqIGFuZ2xlKSx0aGlzLnJhZGl1cyAqIE1hdGguc2luKGkgKiBhbmdsZSkpO1xyXG4gICAgICAgICAgICBrbmlmZS5zZXRQb3MocG9zKTtcclxuICAgICAgICAgICAga25pZmUuc2V0Um90YSg5MCAtIGkgKiBldWxlckFuZ2xlKTtcclxuICAgICAgICAgICAgLy9rbmlmZS5zZXRTY2FsZShSYW5kb20uUmFuZ2UoMSw0KSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICB9XHJcblxyXG4gICAgIC8qKlxyXG4gICAgICAqIOWIh+aNoui/m+aUu+eKtuaAgVxyXG4gICAgICAqL1xyXG4gICAgIHB1YmxpYyBjaGFuZ2VBdHRhY2tTdGF0ZSgpXHJcbiAgICAge1xyXG4gICAgICAgIHZhciBsZW46bnVtYmVyID0gdGhpcy5rbmlmZXMubGVuZ3RoO1xyXG5cclxuICAgICAgICB2YXIgYW5nbGU6bnVtYmVyID0gMiAqIE1hdGguUEkgLyBsZW47XHJcbiAgICAgICAgdmFyIGV1bGVyQW5nbGUgPSAzNjAgLyBsZW47XHJcblxyXG4gICAgICAgIC8vdGhpcy5yYWRpdXMgPSAxNjAgKyBNYXRoLmZsb29yKGxlbi8xMCkgKiAzMDtcclxuXHJcbiAgICAgICAgdmFyIHJkOm51bWJlciA9IGxlbiA8IDEwID8gMTAgOiBsZW47XHJcblxyXG4gICAgICAgIHZhciByYWRpdXNTY2FsZSA9IGxlbiAvIHRoaXMuYmFzZU51bSArICgxIC0gdGhpcy5saW1pdE51bSAvdGhpcy5iYXNlTnVtKTtcclxuXHJcbiAgICAgICAgdGhpcy5yYWRpdXMgPSAxMzMuOTMwOCAqIHJhZGl1c1NjYWxlICsgcmQgKiA1LjM1NjQgKyA5MCAgKiByYWRpdXNTY2FsZTtcclxuICAgICAgICB0aGlzLnJvdGFTcGVlZCA9IDE2MDtcclxuICAgICAgICB0aGlzLnBsYXllci5zaXplID0gKDExNSArIGxlbiAqIDEuOTQpIC8gMTE1O1xyXG4gICAgICAgIHRoaXMucGxheWVyLnBpY2tSYWRpdXMgPSB0aGlzLnJhZGl1cztcclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMCA7IGkgPCBsZW4gOyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIga25pZmU6S25pZmUgPSB0aGlzLmtuaWZlc1tpXTtcclxuXHJcbiAgICAgICAgICAgIGtuaWZlLm5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuXHJcbiAgICAgICAgICAgIGlmKGxlbiA+PSB0aGlzLmxpbWl0TnVtKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBrbmlmZS5ub2RlLnNjYWxlID0gKChpICUgNSArIDEpIC8gNSAqIDAuNiArIDAuNzUpO1xyXG4gICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvL2tuaWZlLm5vZGUuc2NhbGUgPSAxO1xyXG4gICAgICAgICAgICAgICAga25pZmUubm9kZS5zY2FsZSA9IHJhZGl1c1NjYWxlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcG9zOmNjLlZlYzIgPSBjYy52Mih0aGlzLnJhZGl1cyAqIE1hdGguY29zKGkgKiBhbmdsZSksdGhpcy5yYWRpdXMgKiBNYXRoLnNpbihpICogYW5nbGUpKTtcclxuICAgICAgICAgICAga25pZmUuc2V0UG9zKHBvcyk7XHJcbiAgICAgICAgICAgIGtuaWZlLnNldFJvdGEoMTgwICAtIGkgKiBldWxlckFuZ2xlKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/gamescene/Knife.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '42a9bdmWaRJLKhRV5/o+TYs', 'Knife');
// script/tscript/gamescene/Knife.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ResourcesPool_1 = require("../core/ResourcesPool");
var Player_1 = require("./Player");
var Random_1 = require("../util/Random");
var KnifePool_1 = require("./KnifePool");
var GameManager_1 = require("../core/GameManager");
var GameScene_1 = require("./GameScene");
var WXSdk_1 = require("../wx/WXSdk");
var BlackHole_1 = require("./BlackHole");
var CameraFollow_1 = require("./CameraFollow");
var SoundManager_1 = require("../core/SoundManager");
var SoundClip_1 = require("../audio/SoundClip");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var KnifeType;
(function (KnifeType) {
    KnifeType[KnifeType["normal"] = 0] = "normal";
    KnifeType[KnifeType["red"] = 1] = "red";
    KnifeType[KnifeType["green"] = 2] = "green";
})(KnifeType = exports.KnifeType || (exports.KnifeType = {}));
var KnifeStatus;
(function (KnifeStatus) {
    KnifeStatus[KnifeStatus["normal"] = 0] = "normal";
    KnifeStatus[KnifeStatus["capture"] = 1] = "capture";
    KnifeStatus[KnifeStatus["fly"] = 2] = "fly";
    KnifeStatus[KnifeStatus["absorb"] = 3] = "absorb";
})(KnifeStatus = exports.KnifeStatus || (exports.KnifeStatus = {}));
var Knife = /** @class */ (function (_super) {
    __extends(Knife, _super);
    function Knife() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.type = KnifeType.normal;
        _this.skin = null;
        _this.status = KnifeStatus.normal;
        _this.player = null;
        _this.damage = 30;
        _this.rotaSpeed = 90;
        _this.rotaAngle = 0;
        _this.targetAngle = 0;
        _this.targetPos = cc.Vec2.ZERO;
        _this.halfSize = cc.Size.ZERO;
        return _this;
    }
    Knife_1 = Knife;
    // LIFE-CYCLE CALLBACKS:
    Knife.prototype.onLoad = function () {
        this.baseScale = this.node.scale;
        //this.setSkin(2,5);
    };
    Knife.prototype.start = function () {
        this.gameScene = GameManager_1.default.instance.gameScene.getComponent(GameScene_1.default);
        this.skin.node.width = this.skin.spriteFrame.getRect().width;
        this.skin.node.height = this.skin.spriteFrame.getRect().height;
        /*this.setPos(cc.v2(Random.Range(-250,250),Random.Range(-250,250)));
this.schedule(()=>{
    
    this.setPos(cc.v2(Random.Range(-250,250),Random.Range(-250,250)));
},2.5);*/
    };
    Knife.prototype.setSkin = function (id) {
        /*ResourcesManager.instance.load(`knife/dao_${id - 1}`,(spriteFrame:cc.SpriteFrame)=>{

            if(spriteFrame)
            {
                this.skin.spriteFrame = spriteFrame;
                
                this.skin.node.width = spriteFrame.getRect().width;
                this.skin.node.height = spriteFrame.getRect().height;
                //this.skin.node.width = 500

            }

        },cc.SpriteFrame,true,false)*/
        var spriteFrame = GameManager_1.default.instance.daoImgs[id - 1];
        this.skin.spriteFrame = spriteFrame;
        this.skin.node.width = spriteFrame.getRect().width;
        this.skin.node.height = spriteFrame.getRect().height;
    };
    Knife.prototype.update = function (dt) {
        /*var speed = dt * this.rotaSpeed;

        var dir = this.targetAngle - this.node.rotation;

        if(speed > Math.abs(dir))
        {
            this.node.rotation = this.targetAngle;
            //cc.log("dddd");
        }else
        {
            if(dir > 0)
            {
                this.node.rotation += speed;
            }else
            {
                this.node.rotation -= speed;
            }
            
        }*/
        if (this.node.parent == GameManager_1.default.instance.gameScene) {
            this.halfSize.width = (this.gameScene.sceneSize.width - this.node.width) / 2;
            this.halfSize.height = (this.gameScene.sceneSize.height - this.node.height) / 2;
            var pos = this.node.position;
            if (pos.x < -this.halfSize.width) {
                pos.x = -this.halfSize.width;
            }
            else if (pos.x > this.halfSize.width) {
                pos.x = this.halfSize.width;
            }
            if (pos.y < -this.halfSize.height) {
                pos.y = -this.halfSize.height;
            }
            else if (pos.y > this.halfSize.height) {
                pos.y = this.halfSize.height;
            }
            this.node.position = pos;
        }
    };
    Knife.prototype.onCollisionEnter = function (other, self) {
        if (other.tag == 0) {
        }
        else if (other.tag == 1) {
            if (this.status == KnifeStatus.capture) {
                var knife = other.getComponent(Knife_1);
                //cc.log("碰撞到了 other ",knife,this,knife.status,knife.status == KnifeStatus.capture,KnifeStatus.fly);
                if (knife && knife.status == KnifeStatus.capture && knife.player && knife.player != this.player) {
                    if (!this.player.isAI || !knife.player.isAI) {
                        WXSdk_1.default.instance.vibrateShort();
                        CameraFollow_1.default.instance.shake();
                        SoundManager_1.default.instance.playAudioClip(SoundClip_1.SoundClipType.kfhit);
                    }
                    //cc.log("hit other ",knife,knife.status);
                    var dir = this.node.position.sub(knife.node.position).normalize();
                    if (knife.player.status == Player_1.PlayerStatus.attack) {
                        knife.fly(dir.mul(-1));
                    }
                    if (this.player.status == Player_1.PlayerStatus.attack) {
                        this.fly(dir);
                    }
                }
            }
        }
        else if (other.tag == 2) //碰到了障碍物
         {
            if (this.status == KnifeStatus.capture || this.status == KnifeStatus.fly) {
                if (this.player && !this.player.isAI) {
                    WXSdk_1.default.instance.vibrateShort();
                    CameraFollow_1.default.instance.shake();
                    SoundManager_1.default.instance.playAudioClip(SoundClip_1.SoundClipType.kfhit);
                }
                var dir = this.node.position.sub(other.node.position).normalize();
                this.fly(dir);
            }
        }
        else if (other.tag == 5) //碰撞刀了黑洞
         {
            this.absorbed(other.node.parent.getComponent(BlackHole_1.default));
        }
    };
    Knife.prototype.fly = function (dir) {
        var _this = this;
        if (dir === void 0) { dir = cc.Vec2.ONE; }
        if (this.status == KnifeStatus.capture) {
            this.status = KnifeStatus.fly;
            var pool = this.node.parent.getComponent(KnifePool_1.default);
            if (pool) {
                pool.removeKnife(this);
            }
        }
        if (this.node.parent != GameManager_1.default.instance.gameScene) {
            var worldPos = this.node.parent.convertToWorldSpaceAR(this.node.position);
            var relaPos = GameManager_1.default.instance.gameScene.convertToNodeSpaceAR(worldPos);
            this.node.position = relaPos;
        }
        this.node.parent = GameManager_1.default.instance.gameScene;
        this.player = null;
        this.node.stopAllActions();
        this.node.scale = 1;
        var t = Random_1.default.Range(0.65, 1.0);
        var spawn = cc.spawn(cc.moveBy(t, dir.mul(Random_1.default.Range(360, 540))).easing(cc.easeCubicActionOut()), cc.rotateBy(t, 1080).easing(cc.easeCubicActionOut()));
        var seq = cc.sequence(spawn, cc.callFunc(function () {
            _this.status = KnifeStatus.normal;
            GameManager_1.default.instance.gameScene.getComponent(GameScene_1.default).addKnife(_this);
        }, this));
        this.node.runAction(seq);
    };
    Knife.prototype.absorbed = function (blackhole) {
        var _this = this;
        if (!blackhole.appear)
            return;
        if (this.status == KnifeStatus.absorb)
            return;
        if (this.status == KnifeStatus.capture) {
            var pool = this.node.parent.getComponent(KnifePool_1.default);
            if (pool) {
                pool.removeKnife(this);
            }
        }
        this.status = KnifeStatus.absorb;
        if (this.node.parent != blackhole.node) {
            var worldPos = this.node.parent.convertToWorldSpaceAR(this.node.position);
            var relaPos = blackhole.node.convertToNodeSpaceAR(worldPos);
            this.node.position = relaPos;
        }
        this.node.parent = blackhole.node;
        this.player = null;
        this.node.stopAllActions();
        this.node.scale = 1;
        //var dir:cc.Vec2 = cc.Vec2.ZERO.sub(cc.v2(1,0)).normalize();
        var dir = cc.Vec2.ZERO.sub(this.node.position).normalize();
        var eulerAngle = 90 - Math.atan2(dir.y, dir.x) * 180 / Math.PI;
        this.node.runAction(cc.rotateTo(0.15, eulerAngle));
        //this.node.rotation = eulerAngle;
        var t = Random_1.default.Range(0.65, 1.0);
        var spawnAction = cc.spawn(cc.moveTo(0.45, cc.Vec2.ZERO), cc.fadeTo(0.45, 25), cc.scaleTo(0.45, 0.25));
        var seq = cc.sequence(spawnAction, cc.callFunc(function () {
            blackhole.eat(_this);
            _this.status = KnifeStatus.normal;
            GameManager_1.default.instance.gameScene.getComponent(GameScene_1.default).removeKnife(_this);
            _this.destroySelf();
        }, this));
        this.node.runAction(seq);
    };
    Knife.prototype.setRota = function (eulerAngle) {
        //this.targetAngle = eulerAngle;
        //this.node.stopAllActions();
        if (GameManager_1.default.instance.gameStatus == GameManager_1.GameStatus.start) {
            this.node.runAction(cc.rotateTo(0.1, eulerAngle));
        }
        else {
            //this.node.rotation = eulerAngle;
            //this.node.runAction(cc.rotateTo(0.05,eulerAngle));
            this.node.runAction(cc.rotateTo(0.1, eulerAngle));
        }
        //this.node.rotation = eulerAngle;
    };
    Knife.prototype.setPos = function (pos) {
        //this.targetPos = pos;
        var t = this.node.position.sub(pos).mag() / 1000;
        //t = 0.3;
        this.node.runAction(cc.moveTo(t, pos));
        //this.node.position = pos;
    };
    Knife.prototype.rotateTowards = function () {
    };
    Knife.prototype.setScale = function (size) {
        //this.node.scale = size;
        this.node.scale = this.baseScale * size;
    };
    Knife.prototype.getKey = function () {
        //return PopupText.name;
        return "Knife";
    };
    Knife.prototype.awake = function () {
        this.node.position = cc.Vec2.ZERO;
        this.node.active = true;
        this.node.color = cc.Color.WHITE;
        this.node.opacity = 255;
        this.node.scale = 1;
        this.status = KnifeStatus.normal;
        this.gameScene = GameManager_1.default.instance.gameScene.getComponent(GameScene_1.default);
    };
    Knife.prototype.sleep = function () {
        this.node.stopAllActions();
        this.node.parent = null;
        this.node.active = false;
        this.status = KnifeStatus.normal;
    };
    Knife.prototype.destroySelf = function () {
        ResourcesPool_1.default.instance.put(this, 50);
    };
    var Knife_1;
    __decorate([
        property({ type: cc.Enum(KnifeType) })
    ], Knife.prototype, "type", void 0);
    __decorate([
        property(cc.Sprite)
    ], Knife.prototype, "skin", void 0);
    Knife = Knife_1 = __decorate([
        ccclass
    ], Knife);
    return Knife;
}(cc.Component));
exports.default = Knife;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxnYW1lc2NlbmVcXEtuaWZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSx1REFBK0Q7QUFDL0QsbUNBQWdEO0FBQ2hELHlDQUFvQztBQUNwQyx5Q0FBb0M7QUFDcEMsbURBQThEO0FBQzlELHlDQUFvQztBQUVwQyxxQ0FBZ0M7QUFDaEMseUNBQW9DO0FBQ3BDLCtDQUEwQztBQUMxQyxxREFBZ0Q7QUFDaEQsZ0RBQW1EO0FBRW5ELG9CQUFvQjtBQUNwQixrRkFBa0Y7QUFDbEYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5Qiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBRTdGLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFFMUMsSUFBWSxTQUtYO0FBTEQsV0FBWSxTQUFTO0lBRWpCLDZDQUFVLENBQUE7SUFDVix1Q0FBTyxDQUFBO0lBQ1AsMkNBQVMsQ0FBQTtBQUNiLENBQUMsRUFMVyxTQUFTLEdBQVQsaUJBQVMsS0FBVCxpQkFBUyxRQUtwQjtBQUVELElBQVksV0FNWDtBQU5ELFdBQVksV0FBVztJQUVuQixpREFBVSxDQUFBO0lBQ1YsbURBQVcsQ0FBQTtJQUNYLDJDQUFPLENBQUE7SUFDUCxpREFBVSxDQUFBO0FBQ2QsQ0FBQyxFQU5XLFdBQVcsR0FBWCxtQkFBVyxLQUFYLG1CQUFXLFFBTXRCO0FBR0Q7SUFBbUMseUJBQVk7SUFEL0M7UUFBQSxxRUFnWEM7UUE1V0csVUFBSSxHQUFhLFNBQVMsQ0FBQyxNQUFNLENBQUM7UUFHbEMsVUFBSSxHQUFhLElBQUksQ0FBQztRQUVmLFlBQU0sR0FBZSxXQUFXLENBQUMsTUFBTSxDQUFDO1FBRXhDLFlBQU0sR0FBVSxJQUFJLENBQUM7UUFFckIsWUFBTSxHQUFVLEVBQUUsQ0FBQztRQUlsQixlQUFTLEdBQUcsRUFBRSxDQUFDO1FBQ2YsZUFBUyxHQUFVLENBQUMsQ0FBQztRQUVyQixpQkFBVyxHQUFVLENBQUMsQ0FBQztRQUV2QixlQUFTLEdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7UUFFakMsY0FBUSxHQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDOztJQXdWNUMsQ0FBQztjQS9Xb0IsS0FBSztJQTJCdEIsd0JBQXdCO0lBRXZCLHNCQUFNLEdBQU47UUFFRyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ2pDLG9CQUFvQjtJQUN2QixDQUFDO0lBRUYscUJBQUssR0FBTDtRQUVJLElBQUksQ0FBQyxTQUFTLEdBQUcscUJBQVcsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxtQkFBUyxDQUFDLENBQUM7UUFFeEUsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDLEtBQUssQ0FBQztRQUM3RCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLENBQUMsTUFBTSxDQUFDO1FBRS9EOzs7O1NBSUM7SUFDTCxDQUFDO0lBRU0sdUJBQU8sR0FBZCxVQUFlLEVBQVM7UUFFcEI7Ozs7Ozs7Ozs7OztzQ0FZOEI7UUFFOUIsSUFBSSxXQUFXLEdBQWtCLHFCQUFXLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEdBQUMsQ0FBQyxDQUFDLENBQUM7UUFFcEUsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO1FBRXBDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDO1FBQ25ELElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUMsT0FBTyxFQUFFLENBQUMsTUFBTSxDQUFDO0lBRXpELENBQUM7SUFFRCxzQkFBTSxHQUFOLFVBQVEsRUFBRTtRQUVOOzs7Ozs7Ozs7Ozs7Ozs7Ozs7V0FrQkc7UUFFSCxJQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLHFCQUFXLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFDckQ7WUFFSSxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBRTtZQUM5RSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBRTtZQUVqRixJQUFJLEdBQUcsR0FBVyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUVyQyxJQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFDL0I7Z0JBQ0ksR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDO2FBQ2hDO2lCQUFLLElBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFDcEM7Z0JBQ0ksR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQzthQUMvQjtZQUVELElBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUNoQztnQkFDSSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7YUFDakM7aUJBQUssSUFBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUNyQztnQkFDSSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDO2FBQ2hDO1lBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDO1NBQzVCO0lBQ0wsQ0FBQztJQUVNLGdDQUFnQixHQUF2QixVQUF3QixLQUFpQixFQUFDLElBQWdCO1FBR3RELElBQUcsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQ2pCO1NBQ0M7YUFBSyxJQUFHLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUN2QjtZQUNJLElBQUcsSUFBSSxDQUFDLE1BQU0sSUFBSSxXQUFXLENBQUMsT0FBTyxFQUNyQztnQkFDSSxJQUFJLEtBQUssR0FBUyxLQUFLLENBQUMsWUFBWSxDQUFDLE9BQUssQ0FBQyxDQUFDO2dCQUU1QyxvR0FBb0c7Z0JBRXBHLElBQUcsS0FBSyxJQUFJLEtBQUssQ0FBQyxNQUFNLElBQUksV0FBVyxDQUFDLE9BQU8sSUFBSSxLQUFLLENBQUMsTUFBTSxJQUFJLEtBQUssQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sRUFDOUY7b0JBRUksSUFBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQzFDO3dCQUNJLGVBQUssQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFLENBQUM7d0JBQzlCLHNCQUFZLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO3dCQUM5QixzQkFBWSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMseUJBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztxQkFDNUQ7b0JBRUQsMENBQTBDO29CQUMxQyxJQUFJLEdBQUcsR0FBVyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztvQkFFMUUsSUFBRyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sSUFBSSxxQkFBWSxDQUFDLE1BQU0sRUFDN0M7d0JBQ0ksS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztxQkFDMUI7b0JBRUQsSUFBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sSUFBSSxxQkFBWSxDQUFDLE1BQU0sRUFDNUM7d0JBQ0ksSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztxQkFDakI7aUJBRUo7YUFDSjtTQUVKO2FBQUssSUFBRyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBQyxRQUFRO1NBQ2hDO1lBQ0ksSUFBRyxJQUFJLENBQUMsTUFBTSxJQUFJLFdBQVcsQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxXQUFXLENBQUMsR0FBRyxFQUN2RTtnQkFFSSxJQUFHLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksRUFDbkM7b0JBQ0ksZUFBSyxDQUFDLFFBQVEsQ0FBQyxZQUFZLEVBQUUsQ0FBQztvQkFDOUIsc0JBQVksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUM7b0JBQzlCLHNCQUFZLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyx5QkFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUM1RDtnQkFFRCxJQUFJLEdBQUcsR0FBVyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztnQkFDMUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUVqQjtTQUVKO2FBQUssSUFBRyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxRQUFRO1NBQ2pDO1lBQ0ksSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsbUJBQVMsQ0FBQyxDQUFDLENBQUM7U0FDNUQ7SUFFTCxDQUFDO0lBRU0sbUJBQUcsR0FBVixVQUFXLEdBQXlCO1FBQXBDLGlCQXVDQztRQXZDVSxvQkFBQSxFQUFBLE1BQWMsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHO1FBRWhDLElBQUcsSUFBSSxDQUFDLE1BQU0sSUFBSSxXQUFXLENBQUMsT0FBTyxFQUNyQztZQUNJLElBQUksQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDLEdBQUcsQ0FBQztZQUM5QixJQUFJLElBQUksR0FBYSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsbUJBQVMsQ0FBQyxDQUFDO1lBRTlELElBQUcsSUFBSSxFQUNQO2dCQUNJLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDMUI7U0FDSjtRQUdELElBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUkscUJBQVcsQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUNyRDtZQUNJLElBQUksUUFBUSxHQUFXLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDbEYsSUFBSSxPQUFPLEdBQVcscUJBQVcsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3BGLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQztTQUNoQztRQUVELElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQztRQUNsRCxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUVuQixJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBRTNCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUVwQixJQUFJLENBQUMsR0FBRyxnQkFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDOUIsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBQyxHQUFHLENBQUMsR0FBRyxDQUFDLGdCQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLEVBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN0SixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBQyxFQUFFLENBQUMsUUFBUSxDQUFDO1lBRXBDLEtBQUksQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDLE1BQU0sQ0FBQztZQUNqQyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLG1CQUFTLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSSxDQUFDLENBQUM7UUFFMUUsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFFVCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUU3QixDQUFDO0lBR00sd0JBQVEsR0FBZixVQUFnQixTQUFtQjtRQUFuQyxpQkEyREM7UUF6REcsSUFBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNO1lBQ2hCLE9BQU87UUFFWCxJQUFHLElBQUksQ0FBQyxNQUFNLElBQUksV0FBVyxDQUFDLE1BQU07WUFDaEMsT0FBTztRQUVYLElBQUcsSUFBSSxDQUFDLE1BQU0sSUFBSSxXQUFXLENBQUMsT0FBTyxFQUNyQztZQUNJLElBQUksSUFBSSxHQUFhLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxtQkFBUyxDQUFDLENBQUM7WUFDOUQsSUFBRyxJQUFJLEVBQ1A7Z0JBQ0ksSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUMxQjtTQUNKO1FBRUQsSUFBSSxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUMsTUFBTSxDQUFDO1FBRWpDLElBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksU0FBUyxDQUFDLElBQUksRUFDckM7WUFDSSxJQUFJLFFBQVEsR0FBVyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ2xGLElBQUksT0FBTyxHQUFXLFNBQVMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDcEUsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDO1NBQ2hDO1FBR0QsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQztRQUNsQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUVuQixJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBRTNCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUVwQiw2REFBNkQ7UUFDN0QsSUFBSSxHQUFHLEdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7UUFFbkUsSUFBSSxVQUFVLEdBQVUsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFDLElBQUksQ0FBQyxFQUFFLENBQUU7UUFFcEUsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztRQUNsRCxrQ0FBa0M7UUFFbEMsSUFBSSxDQUFDLEdBQUcsZ0JBQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBRTlCLElBQUksV0FBVyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQyxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksRUFBQyxFQUFFLENBQUMsRUFBQyxFQUFFLENBQUMsT0FBTyxDQUFDLElBQUksRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBRWxHLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsV0FBVyxFQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7WUFFMUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFJLENBQUMsQ0FBQztZQUNwQixLQUFJLENBQUMsTUFBTSxHQUFHLFdBQVcsQ0FBQyxNQUFNLENBQUM7WUFDakMscUJBQVcsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxtQkFBUyxDQUFDLENBQUMsV0FBVyxDQUFDLEtBQUksQ0FBQyxDQUFDO1lBQ3pFLEtBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUV2QixDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUVULElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBSTdCLENBQUM7SUFHTSx1QkFBTyxHQUFkLFVBQWUsVUFBaUI7UUFFNUIsZ0NBQWdDO1FBRWhDLDZCQUE2QjtRQUU3QixJQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLFVBQVUsSUFBSSx3QkFBVSxDQUFDLEtBQUssRUFDdEQ7WUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1NBQ3BEO2FBQ0Q7WUFDSSxrQ0FBa0M7WUFDbEMsb0RBQW9EO1lBQ3BELElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7U0FDcEQ7UUFHRCxrQ0FBa0M7SUFFdEMsQ0FBQztJQUVNLHNCQUFNLEdBQWIsVUFBYyxHQUFXO1FBRXJCLHVCQUF1QjtRQUV2QixJQUFJLENBQUMsR0FBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDO1FBRWxELFVBQVU7UUFDVixJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLDJCQUEyQjtJQUMvQixDQUFDO0lBRU0sNkJBQWEsR0FBcEI7SUFHQSxDQUFDO0lBRU0sd0JBQVEsR0FBZixVQUFnQixJQUFXO1FBR3ZCLHlCQUF5QjtRQUN6QixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztJQUU1QyxDQUFDO0lBR00sc0JBQU0sR0FBYjtRQUdJLHdCQUF3QjtRQUN4QixPQUFPLE9BQU8sQ0FBQztJQUNuQixDQUFDO0lBRU0scUJBQUssR0FBWjtRQUVJLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUN4QixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUNqQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUM7UUFDeEIsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDLE1BQU0sQ0FBQztRQUNqQyxJQUFJLENBQUMsU0FBUyxHQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsbUJBQVMsQ0FBQyxDQUFDO0lBQzVFLENBQUM7SUFDTSxxQkFBSyxHQUFaO1FBRUksSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDeEIsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDLE1BQU0sQ0FBQztJQUNyQyxDQUFDO0lBRU0sMkJBQVcsR0FBbEI7UUFFSSx1QkFBYSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7O0lBMVdEO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUMsQ0FBQzt1Q0FDRjtJQUdsQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3VDQUNFO0lBTkwsS0FBSztRQUR6QixPQUFPO09BQ2EsS0FBSyxDQStXekI7SUFBRCxZQUFDO0NBL1dELEFBK1dDLENBL1drQyxFQUFFLENBQUMsU0FBUyxHQStXOUM7a0JBL1dvQixLQUFLIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1hdGhmIGZyb20gXCIuLi91dGlsL01hdGhmXCI7XHJcbmltcG9ydCBSZXNvdXJjZXNQb29sLCB7IFJlY3ljbGUgfSBmcm9tIFwiLi4vY29yZS9SZXNvdXJjZXNQb29sXCI7XHJcbmltcG9ydCBQbGF5ZXIsIHsgUGxheWVyU3RhdHVzIH0gZnJvbSBcIi4vUGxheWVyXCI7XHJcbmltcG9ydCBSYW5kb20gZnJvbSBcIi4uL3V0aWwvUmFuZG9tXCI7XHJcbmltcG9ydCBLbmlmZVBvb2wgZnJvbSBcIi4vS25pZmVQb29sXCI7XHJcbmltcG9ydCBHYW1lTWFuYWdlciwgeyBHYW1lU3RhdHVzIH0gZnJvbSBcIi4uL2NvcmUvR2FtZU1hbmFnZXJcIjtcclxuaW1wb3J0IEdhbWVTY2VuZSBmcm9tIFwiLi9HYW1lU2NlbmVcIjtcclxuaW1wb3J0IFJlc291cmNlc01hbmFnZXIgZnJvbSBcIi4uL2NvcmUvUmVzb3VyY2VzTWFuYWdlclwiO1xyXG5pbXBvcnQgV1hTZGsgZnJvbSBcIi4uL3d4L1dYU2RrXCI7XHJcbmltcG9ydCBCbGFja0hvbGUgZnJvbSBcIi4vQmxhY2tIb2xlXCI7XHJcbmltcG9ydCBDYW1lcmFGb2xsb3cgZnJvbSBcIi4vQ2FtZXJhRm9sbG93XCI7XHJcbmltcG9ydCBTb3VuZE1hbmFnZXIgZnJvbSBcIi4uL2NvcmUvU291bmRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFNvdW5kQ2xpcFR5cGUgfSBmcm9tIFwiLi4vYXVkaW8vU291bmRDbGlwXCI7XHJcblxyXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuZXhwb3J0IGVudW0gS25pZmVUeXBlXHJcbntcclxuICAgIG5vcm1hbCA9IDAsXHJcbiAgICByZWQgPSAxLFxyXG4gICAgZ3JlZW4gPSAyLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBLbmlmZVN0YXR1c1xyXG57XHJcbiAgICBub3JtYWwgPSAwLFxyXG4gICAgY2FwdHVyZSA9IDEsXHJcbiAgICBmbHkgPSAyLFxyXG4gICAgYWJzb3JiID0gMyxcclxufVxyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS25pZmUgZXh0ZW5kcyBjYy5Db21wb25lbnQgaW1wbGVtZW50cyBSZWN5Y2xlIHtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuRW51bShLbmlmZVR5cGUpfSlcclxuICAgIHR5cGU6S25pZmVUeXBlID0gS25pZmVUeXBlLm5vcm1hbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgc2tpbjpjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0dXM6S25pZmVTdGF0dXMgPSBLbmlmZVN0YXR1cy5ub3JtYWw7XHJcblxyXG4gICAgcHVibGljIHBsYXllcjpQbGF5ZXIgPSBudWxsOyBcclxuXHJcbiAgICBwdWJsaWMgZGFtYWdlOm51bWJlciA9IDMwO1xyXG5cclxuICAgIHByaXZhdGUgYmFzZVNjYWxlOm51bWJlcjtcclxuXHJcbiAgICBwcml2YXRlIHJvdGFTcGVlZCA9IDkwO1xyXG4gICAgcHJpdmF0ZSByb3RhQW5nbGU6bnVtYmVyID0gMDtcclxuXHJcbiAgICBwcml2YXRlIHRhcmdldEFuZ2xlOm51bWJlciA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSB0YXJnZXRQb3M6Y2MuVmVjMiA9IGNjLlZlYzIuWkVSTztcclxuXHJcbiAgICBwcml2YXRlIGhhbGZTaXplOmNjLlNpemUgPSBjYy5TaXplLlpFUk87XHJcblxyXG4gICAgcHJpdmF0ZSBnYW1lU2NlbmU6R2FtZVNjZW5lO1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgICBvbkxvYWQgKCkgXHJcbiAgICAge1xyXG4gICAgICAgIHRoaXMuYmFzZVNjYWxlID0gdGhpcy5ub2RlLnNjYWxlO1xyXG4gICAgICAgIC8vdGhpcy5zZXRTa2luKDIsNSk7XHJcbiAgICAgfVxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5nYW1lU2NlbmUuZ2V0Q29tcG9uZW50KEdhbWVTY2VuZSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2tpbi5ub2RlLndpZHRoID0gdGhpcy5za2luLnNwcml0ZUZyYW1lLmdldFJlY3QoKS53aWR0aDtcclxuICAgICAgICB0aGlzLnNraW4ubm9kZS5oZWlnaHQgPSB0aGlzLnNraW4uc3ByaXRlRnJhbWUuZ2V0UmVjdCgpLmhlaWdodDtcclxuXHJcbiAgICAgICAgLyp0aGlzLnNldFBvcyhjYy52MihSYW5kb20uUmFuZ2UoLTI1MCwyNTApLFJhbmRvbS5SYW5nZSgtMjUwLDI1MCkpKTtcclxudGhpcy5zY2hlZHVsZSgoKT0+e1xyXG4gICAgXHJcbiAgICB0aGlzLnNldFBvcyhjYy52MihSYW5kb20uUmFuZ2UoLTI1MCwyNTApLFJhbmRvbS5SYW5nZSgtMjUwLDI1MCkpKTtcclxufSwyLjUpOyovXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFNraW4oaWQ6bnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIC8qUmVzb3VyY2VzTWFuYWdlci5pbnN0YW5jZS5sb2FkKGBrbmlmZS9kYW9fJHtpZCAtIDF9YCwoc3ByaXRlRnJhbWU6Y2MuU3ByaXRlRnJhbWUpPT57XHJcblxyXG4gICAgICAgICAgICBpZihzcHJpdGVGcmFtZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5za2luLnNwcml0ZUZyYW1lID0gc3ByaXRlRnJhbWU7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuc2tpbi5ub2RlLndpZHRoID0gc3ByaXRlRnJhbWUuZ2V0UmVjdCgpLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5za2luLm5vZGUuaGVpZ2h0ID0gc3ByaXRlRnJhbWUuZ2V0UmVjdCgpLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIC8vdGhpcy5za2luLm5vZGUud2lkdGggPSA1MDBcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSxjYy5TcHJpdGVGcmFtZSx0cnVlLGZhbHNlKSovXHJcblxyXG4gICAgICAgIHZhciBzcHJpdGVGcmFtZTpjYy5TcHJpdGVGcmFtZSA9IEdhbWVNYW5hZ2VyLmluc3RhbmNlLmRhb0ltZ3NbaWQtMV07XHJcblxyXG4gICAgICAgIHRoaXMuc2tpbi5zcHJpdGVGcmFtZSA9IHNwcml0ZUZyYW1lO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgdGhpcy5za2luLm5vZGUud2lkdGggPSBzcHJpdGVGcmFtZS5nZXRSZWN0KCkud2lkdGg7XHJcbiAgICAgICAgdGhpcy5za2luLm5vZGUuaGVpZ2h0ID0gc3ByaXRlRnJhbWUuZ2V0UmVjdCgpLmhlaWdodDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlIChkdCkgXHJcbiAgICB7XHJcbiAgICAgICAgLyp2YXIgc3BlZWQgPSBkdCAqIHRoaXMucm90YVNwZWVkO1xyXG5cclxuICAgICAgICB2YXIgZGlyID0gdGhpcy50YXJnZXRBbmdsZSAtIHRoaXMubm9kZS5yb3RhdGlvbjtcclxuXHJcbiAgICAgICAgaWYoc3BlZWQgPiBNYXRoLmFicyhkaXIpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLnJvdGF0aW9uID0gdGhpcy50YXJnZXRBbmdsZTtcclxuICAgICAgICAgICAgLy9jYy5sb2coXCJkZGRkXCIpO1xyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZihkaXIgPiAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUucm90YXRpb24gKz0gc3BlZWQ7XHJcbiAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubm9kZS5yb3RhdGlvbiAtPSBzcGVlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9Ki9cclxuXHJcbiAgICAgICAgaWYodGhpcy5ub2RlLnBhcmVudCA9PSBHYW1lTWFuYWdlci5pbnN0YW5jZS5nYW1lU2NlbmUpXHJcbiAgICAgICAge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5oYWxmU2l6ZS53aWR0aCA9ICh0aGlzLmdhbWVTY2VuZS5zY2VuZVNpemUud2lkdGggLSB0aGlzLm5vZGUud2lkdGgpIC8gMiA7XHJcbiAgICAgICAgICAgIHRoaXMuaGFsZlNpemUuaGVpZ2h0ID0gKHRoaXMuZ2FtZVNjZW5lLnNjZW5lU2l6ZS5oZWlnaHQgLSB0aGlzLm5vZGUuaGVpZ2h0KSAvIDIgO1xyXG5cclxuICAgICAgICAgICAgdmFyIHBvczpjYy5WZWMyID0gdGhpcy5ub2RlLnBvc2l0aW9uO1xyXG5cclxuICAgICAgICAgICAgaWYocG9zLnggPCAtdGhpcy5oYWxmU2l6ZS53aWR0aClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcG9zLnggPSAtdGhpcy5oYWxmU2l6ZS53aWR0aDtcclxuICAgICAgICAgICAgfWVsc2UgaWYocG9zLnggPiB0aGlzLmhhbGZTaXplLndpZHRoKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwb3MueCA9IHRoaXMuaGFsZlNpemUud2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHBvcy55IDwgLXRoaXMuaGFsZlNpemUuaGVpZ2h0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwb3MueSA9IC10aGlzLmhhbGZTaXplLmhlaWdodDtcclxuICAgICAgICAgICAgfWVsc2UgaWYocG9zLnkgPiB0aGlzLmhhbGZTaXplLmhlaWdodClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcG9zLnkgPSB0aGlzLmhhbGZTaXplLmhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5ub2RlLnBvc2l0aW9uID0gcG9zO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25Db2xsaXNpb25FbnRlcihvdGhlcjpjYy5Db2xsaWRlcixzZWxmOmNjLkNvbGxpZGVyKVxyXG4gICAge1xyXG5cclxuICAgICAgICBpZihvdGhlci50YWcgPT0gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgfWVsc2UgaWYob3RoZXIudGFnID09IDEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZih0aGlzLnN0YXR1cyA9PSBLbmlmZVN0YXR1cy5jYXB0dXJlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIga25pZmU6S25pZmUgPSBvdGhlci5nZXRDb21wb25lbnQoS25pZmUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vY2MubG9nKFwi56Kw5pKe5Yiw5LqGIG90aGVyIFwiLGtuaWZlLHRoaXMsa25pZmUuc3RhdHVzLGtuaWZlLnN0YXR1cyA9PSBLbmlmZVN0YXR1cy5jYXB0dXJlLEtuaWZlU3RhdHVzLmZseSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoa25pZmUgJiYga25pZmUuc3RhdHVzID09IEtuaWZlU3RhdHVzLmNhcHR1cmUgJiYga25pZmUucGxheWVyICYmIGtuaWZlLnBsYXllciAhPSB0aGlzLnBsYXllcilcclxuICAgICAgICAgICAgICAgIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMucGxheWVyLmlzQUkgfHwgIWtuaWZlLnBsYXllci5pc0FJKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgV1hTZGsuaW5zdGFuY2UudmlicmF0ZVNob3J0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENhbWVyYUZvbGxvdy5pbnN0YW5jZS5zaGFrZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTb3VuZE1hbmFnZXIuaW5zdGFuY2UucGxheUF1ZGlvQ2xpcChTb3VuZENsaXBUeXBlLmtmaGl0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vY2MubG9nKFwiaGl0IG90aGVyIFwiLGtuaWZlLGtuaWZlLnN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpcjpjYy5WZWMyID0gdGhpcy5ub2RlLnBvc2l0aW9uLnN1YihrbmlmZS5ub2RlLnBvc2l0aW9uKS5ub3JtYWxpemUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoa25pZmUucGxheWVyLnN0YXR1cyA9PSBQbGF5ZXJTdGF0dXMuYXR0YWNrKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAga25pZmUuZmx5KGRpci5tdWwoLTEpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMucGxheWVyLnN0YXR1cyA9PSBQbGF5ZXJTdGF0dXMuYXR0YWNrKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbHkoZGlyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfWVsc2UgaWYob3RoZXIudGFnID09IDIpLy/norDliLDkuobpmpznoo3nialcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdHVzID09IEtuaWZlU3RhdHVzLmNhcHR1cmUgfHwgdGhpcy5zdGF0dXMgPT0gS25pZmVTdGF0dXMuZmx5KVxyXG4gICAgICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5wbGF5ZXIgJiYgIXRoaXMucGxheWVyLmlzQUkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgV1hTZGsuaW5zdGFuY2UudmlicmF0ZVNob3J0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgQ2FtZXJhRm9sbG93Lmluc3RhbmNlLnNoYWtlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgU291bmRNYW5hZ2VyLmluc3RhbmNlLnBsYXlBdWRpb0NsaXAoU291bmRDbGlwVHlwZS5rZmhpdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGRpcjpjYy5WZWMyID0gdGhpcy5ub2RlLnBvc2l0aW9uLnN1YihvdGhlci5ub2RlLnBvc2l0aW9uKS5ub3JtYWxpemUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmx5KGRpcik7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1lbHNlIGlmKG90aGVyLnRhZyA9PSA1KSAvL+eisOaSnuWIgOS6hum7kea0nlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5hYnNvcmJlZChvdGhlci5ub2RlLnBhcmVudC5nZXRDb21wb25lbnQoQmxhY2tIb2xlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmbHkoZGlyOmNjLlZlYzIgPSBjYy5WZWMyLk9ORSlcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLnN0YXR1cyA9PSBLbmlmZVN0YXR1cy5jYXB0dXJlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBLbmlmZVN0YXR1cy5mbHk7XHJcbiAgICAgICAgICAgIHZhciBwb29sOktuaWZlUG9vbCA9IHRoaXMubm9kZS5wYXJlbnQuZ2V0Q29tcG9uZW50KEtuaWZlUG9vbCk7XHJcblxyXG4gICAgICAgICAgICBpZihwb29sKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwb29sLnJlbW92ZUtuaWZlKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBcclxuICAgICAgICBpZih0aGlzLm5vZGUucGFyZW50ICE9IEdhbWVNYW5hZ2VyLmluc3RhbmNlLmdhbWVTY2VuZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciB3b3JsZFBvczpjYy5WZWMyID0gdGhpcy5ub2RlLnBhcmVudC5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIodGhpcy5ub2RlLnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgdmFyIHJlbGFQb3M6Y2MuVmVjMiA9IEdhbWVNYW5hZ2VyLmluc3RhbmNlLmdhbWVTY2VuZS5jb252ZXJ0VG9Ob2RlU3BhY2VBUih3b3JsZFBvcyk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5wb3NpdGlvbiA9IHJlbGFQb3M7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm5vZGUucGFyZW50ID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ2FtZVNjZW5lO1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5ub2RlLnN0b3BBbGxBY3Rpb25zKCk7XHJcblxyXG4gICAgICAgIHRoaXMubm9kZS5zY2FsZSA9IDE7XHJcblxyXG4gICAgICAgIHZhciB0ID0gUmFuZG9tLlJhbmdlKDAuNjUsMS4wKVxyXG4gICAgICAgIHZhciBzcGF3biA9IGNjLnNwYXduKGNjLm1vdmVCeSh0LGRpci5tdWwoUmFuZG9tLlJhbmdlKDM2MCw1NDApKSkuZWFzaW5nKGNjLmVhc2VDdWJpY0FjdGlvbk91dCgpKSxjYy5yb3RhdGVCeSh0LDEwODApLmVhc2luZyhjYy5lYXNlQ3ViaWNBY3Rpb25PdXQoKSkpO1xyXG4gICAgICAgIHZhciBzZXEgPSBjYy5zZXF1ZW5jZShzcGF3bixjYy5jYWxsRnVuYygoKT0+e1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBLbmlmZVN0YXR1cy5ub3JtYWw7XHJcbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLmdhbWVTY2VuZS5nZXRDb21wb25lbnQoR2FtZVNjZW5lKS5hZGRLbmlmZSh0aGlzKTtcclxuXHJcbiAgICAgICAgfSx0aGlzKSk7XHJcblxyXG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oc2VxKTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBhYnNvcmJlZChibGFja2hvbGU6QmxhY2tIb2xlKVxyXG4gICAge1xyXG4gICAgICAgIGlmKCFibGFja2hvbGUuYXBwZWFyKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIGlmKHRoaXMuc3RhdHVzID09IEtuaWZlU3RhdHVzLmFic29yYilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZih0aGlzLnN0YXR1cyA9PSBLbmlmZVN0YXR1cy5jYXB0dXJlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIHBvb2w6S25pZmVQb29sID0gdGhpcy5ub2RlLnBhcmVudC5nZXRDb21wb25lbnQoS25pZmVQb29sKTtcclxuICAgICAgICAgICAgaWYocG9vbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcG9vbC5yZW1vdmVLbmlmZSh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBLbmlmZVN0YXR1cy5hYnNvcmI7XHJcblxyXG4gICAgICAgIGlmKHRoaXMubm9kZS5wYXJlbnQgIT0gYmxhY2tob2xlLm5vZGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgd29ybGRQb3M6Y2MuVmVjMiA9IHRoaXMubm9kZS5wYXJlbnQuY29udmVydFRvV29ybGRTcGFjZUFSKHRoaXMubm9kZS5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIHZhciByZWxhUG9zOmNjLlZlYzIgPSBibGFja2hvbGUubm9kZS5jb252ZXJ0VG9Ob2RlU3BhY2VBUih3b3JsZFBvcyk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5wb3NpdGlvbiA9IHJlbGFQb3M7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5ub2RlLnBhcmVudCA9IGJsYWNraG9sZS5ub2RlO1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5ub2RlLnN0b3BBbGxBY3Rpb25zKCk7XHJcblxyXG4gICAgICAgIHRoaXMubm9kZS5zY2FsZSA9IDE7XHJcblxyXG4gICAgICAgIC8vdmFyIGRpcjpjYy5WZWMyID0gY2MuVmVjMi5aRVJPLnN1YihjYy52MigxLDApKS5ub3JtYWxpemUoKTtcclxuICAgICAgICB2YXIgZGlyOmNjLlZlYzIgPSBjYy5WZWMyLlpFUk8uc3ViKHRoaXMubm9kZS5wb3NpdGlvbikubm9ybWFsaXplKCk7XHJcblxyXG4gICAgICAgIHZhciBldWxlckFuZ2xlOm51bWJlciA9IDkwIC0gTWF0aC5hdGFuMihkaXIueSxkaXIueCkgKiAxODAvTWF0aC5QSSA7XHJcblxyXG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2Mucm90YXRlVG8oMC4xNSxldWxlckFuZ2xlKSk7XHJcbiAgICAgICAgLy90aGlzLm5vZGUucm90YXRpb24gPSBldWxlckFuZ2xlO1xyXG5cclxuICAgICAgICB2YXIgdCA9IFJhbmRvbS5SYW5nZSgwLjY1LDEuMClcclxuICAgICAgICBcclxuICAgICAgICB2YXIgc3Bhd25BY3Rpb24gPSBjYy5zcGF3bihjYy5tb3ZlVG8oMC40NSxjYy5WZWMyLlpFUk8pLGNjLmZhZGVUbygwLjQ1LDI1KSxjYy5zY2FsZVRvKDAuNDUsMC4yNSkpO1xyXG5cclxuICAgICAgICB2YXIgc2VxID0gY2Muc2VxdWVuY2Uoc3Bhd25BY3Rpb24sY2MuY2FsbEZ1bmMoKCk9PntcclxuXHJcbiAgICAgICAgICAgIGJsYWNraG9sZS5lYXQodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gS25pZmVTdGF0dXMubm9ybWFsO1xyXG4gICAgICAgICAgICBHYW1lTWFuYWdlci5pbnN0YW5jZS5nYW1lU2NlbmUuZ2V0Q29tcG9uZW50KEdhbWVTY2VuZSkucmVtb3ZlS25pZmUodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveVNlbGYoKTtcclxuXHJcbiAgICAgICAgfSx0aGlzKSk7XHJcblxyXG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oc2VxKTtcclxuXHJcbiAgICAgICAgXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgc2V0Um90YShldWxlckFuZ2xlOm51bWJlcilcclxuICAgIHtcclxuICAgICAgICAvL3RoaXMudGFyZ2V0QW5nbGUgPSBldWxlckFuZ2xlO1xyXG5cclxuICAgICAgICAvL3RoaXMubm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG5cclxuICAgICAgICBpZihHYW1lTWFuYWdlci5pbnN0YW5jZS5nYW1lU3RhdHVzID09IEdhbWVTdGF0dXMuc3RhcnQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGNjLnJvdGF0ZVRvKDAuMSxldWxlckFuZ2xlKSk7XHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vdGhpcy5ub2RlLnJvdGF0aW9uID0gZXVsZXJBbmdsZTtcclxuICAgICAgICAgICAgLy90aGlzLm5vZGUucnVuQWN0aW9uKGNjLnJvdGF0ZVRvKDAuMDUsZXVsZXJBbmdsZSkpO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGNjLnJvdGF0ZVRvKDAuMSxldWxlckFuZ2xlKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBcclxuICAgICAgICAvL3RoaXMubm9kZS5yb3RhdGlvbiA9IGV1bGVyQW5nbGU7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRQb3MocG9zOmNjLlZlYzIpXHJcbiAgICB7XHJcbiAgICAgICAgLy90aGlzLnRhcmdldFBvcyA9IHBvcztcclxuXHJcbiAgICAgICAgdmFyIHQgPSAgdGhpcy5ub2RlLnBvc2l0aW9uLnN1Yihwb3MpLm1hZygpIC8gMTAwMDtcclxuXHJcbiAgICAgICAgLy90ID0gMC4zO1xyXG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2MubW92ZVRvKHQscG9zKSk7XHJcbiAgICAgICAgLy90aGlzLm5vZGUucG9zaXRpb24gPSBwb3M7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJvdGF0ZVRvd2FyZHMoKVxyXG4gICAge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U2NhbGUoc2l6ZTpudW1iZXIpXHJcbiAgICB7XHJcblxyXG4gICAgICAgIC8vdGhpcy5ub2RlLnNjYWxlID0gc2l6ZTtcclxuICAgICAgICB0aGlzLm5vZGUuc2NhbGUgPSB0aGlzLmJhc2VTY2FsZSAqIHNpemU7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0S2V5KCk6c3RyaW5nXHJcbiAgICB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy9yZXR1cm4gUG9wdXBUZXh0Lm5hbWU7XHJcbiAgICAgICAgcmV0dXJuIFwiS25pZmVcIjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXdha2UoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubm9kZS5wb3NpdGlvbiA9IGNjLlZlYzIuWkVSTztcclxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm5vZGUuY29sb3IgPSBjYy5Db2xvci5XSElURTtcclxuICAgICAgICB0aGlzLm5vZGUub3BhY2l0eSA9IDI1NTtcclxuICAgICAgICB0aGlzLm5vZGUuc2NhbGUgPSAxO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gS25pZmVTdGF0dXMubm9ybWFsO1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ2FtZVNjZW5lLmdldENvbXBvbmVudChHYW1lU2NlbmUpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNsZWVwKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICB0aGlzLm5vZGUucGFyZW50ID0gbnVsbDtcclxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBLbmlmZVN0YXR1cy5ub3JtYWw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc3Ryb3lTZWxmKClcclxuICAgIHtcclxuICAgICAgICBSZXNvdXJjZXNQb29sLmluc3RhbmNlLnB1dCh0aGlzLDUwKTtcclxuICAgIH1cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/configdata/KnifeConfigData.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e52e3edNXtK2JDsmnrqGLlC', 'KnifeConfigData');
// script/tscript/configdata/KnifeConfigData.ts

// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var KnifeConfigData = /** @class */ (function () {
    function KnifeConfigData() {
        this.id = 0;
        /**
         * 累计星星数
         */
        this.stars = 0;
        /**
         * 获得第一名次数
         */
        this.num1 = 0;
        /**
         * 连胜次数
         */
        this.straking = 0;
        /**
         * 登录天数
         */
        this.logindays = 0;
        /**
         * 一局游戏得到最大刀数
         */
        this.knives = 0;
        /**
         * 时限内成为第一
         */
        this.timelimitnum1 = 0;
        /**
         * 累计击杀数
         */
        this.kills = 0;
        /**
         * 累计游戏数
         */
        this.games = 0;
        /**
         * 累计4杀次数
         */
        this.kills4 = 0;
        /**
         * 累计5杀次数
         */
        this.kills5 = 0;
        /**
         * 累计6杀次数
         */
        this.kills6 = 0;
    }
    return KnifeConfigData;
}());
exports.default = KnifeConfigData;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxjb25maWdkYXRhXFxLbmlmZUNvbmZpZ0RhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGtGQUFrRjtBQUNsRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDRGQUE0RjtBQUM1RixtR0FBbUc7O0FBR25HO0lBQUE7UUFHVyxPQUFFLEdBQVUsQ0FBQyxDQUFDO1FBT3JCOztXQUVHO1FBQ0ksVUFBSyxHQUFVLENBQUMsQ0FBQztRQUV4Qjs7V0FFRztRQUNJLFNBQUksR0FBVSxDQUFDLENBQUM7UUFFdkI7O1dBRUc7UUFDSSxhQUFRLEdBQVUsQ0FBQyxDQUFDO1FBRTNCOztXQUVHO1FBQ0ksY0FBUyxHQUFVLENBQUMsQ0FBQztRQUU1Qjs7V0FFRztRQUNJLFdBQU0sR0FBVSxDQUFDLENBQUM7UUFFekI7O1dBRUc7UUFDSSxrQkFBYSxHQUFVLENBQUMsQ0FBQztRQUVoQzs7V0FFRztRQUNJLFVBQUssR0FBVSxDQUFDLENBQUM7UUFFeEI7O1dBRUc7UUFDSSxVQUFLLEdBQVUsQ0FBQyxDQUFDO1FBRXhCOztXQUVHO1FBQ0ksV0FBTSxHQUFVLENBQUMsQ0FBQztRQUV6Qjs7V0FFRztRQUNJLFdBQU0sR0FBVSxDQUFDLENBQUM7UUFFekI7O1dBRUc7UUFDSSxXQUFNLEdBQVUsQ0FBQyxDQUFDO0lBRzdCLENBQUM7SUFBRCxzQkFBQztBQUFELENBbEVBLEFBa0VDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLbmlmZUNvbmZpZ0RhdGF7XHJcblxyXG5cclxuICAgIHB1YmxpYyBpZDpudW1iZXIgPSAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog6K+05piOXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBleHBsYWluOnN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIOe0r+iuoeaYn+aYn+aVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhcnM6bnVtYmVyID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+W+l+esrOS4gOWQjeasoeaVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbnVtMTpudW1iZXIgPSAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog6L+e6IOc5qyh5pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdHJha2luZzpudW1iZXIgPSAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog55m75b2V5aSp5pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBsb2dpbmRheXM6bnVtYmVyID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOS4gOWxgOa4uOaIj+W+l+WIsOacgOWkp+WIgOaVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMga25pdmVzOm51bWJlciA9IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDml7bpmZDlhoXmiJDkuLrnrKzkuIBcclxuICAgICAqL1xyXG4gICAgcHVibGljIHRpbWVsaW1pdG51bTE6bnVtYmVyID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOe0r+iuoeWHu+adgOaVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMga2lsbHM6bnVtYmVyID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOe0r+iuoea4uOaIj+aVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2FtZXM6bnVtYmVyID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOe0r+iuoTTmnYDmrKHmlbBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGtpbGxzNDpudW1iZXIgPSAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog57Sv6K6hNeadgOasoeaVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMga2lsbHM1Om51bWJlciA9IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDntK/orqE25p2A5qyh5pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBraWxsczY6bnVtYmVyID0gMDtcclxuXHJcbiAgICBcclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/config/Config.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '84cf4K+EsJFpJdDscR5chZR', 'Config');
// script/tscript/config/Config.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var Config = /** @class */ (function () {
    function Config() {
    }
    Config.CoinName = "金币";
    Config.GoldName = "黄金";
    return Config;
}());
exports.default = Config;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxjb25maWdcXENvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRzs7QUFFbkc7SUFBQTtJQUlBLENBQUM7SUFGaUIsZUFBUSxHQUFHLElBQUksQ0FBQztJQUNoQixlQUFRLEdBQUcsSUFBSSxDQUFDO0lBQ2xDLGFBQUM7Q0FKRCxBQUlDLElBQUE7a0JBSm9CLE1BQU0iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmZpZyBcclxue1xyXG4gICAgcHVibGljIHN0YXRpYyBDb2luTmFtZSA9IFwi6YeR5biBXCI7XHJcbiAgICBwdWJsaWMgc3RhdGljIEdvbGROYW1lID0gXCLpu4Tph5FcIjtcclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/data/PlayerData.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e28f1VXaOBPm6AphXLg2K1v', 'PlayerData');
// script/tscript/data/PlayerData.ts

Object.defineProperty(exports, "__esModule", { value: true });
var WXSdk_1 = require("../wx/WXSdk");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
/**
 * 玩家数据
 */
var PlayerData = /** @class */ (function () {
    function PlayerData() {
        /**
         * 星星总数
         */
        this.star = 0;
        /**
         * 获得第一名次数
         */
        this.num1 = 0;
        /**
         * 连胜次数
         */
        this.straking = 0;
        /**
         * 登录天数
         */
        this.logindays = 0;
        /**
         * 一局游戏得到最大刀数
         */
        this.knives = 0;
        /**
         * 时限内成为第一
         */
        this.timelimitnum1 = 0;
        /**
         * 累计击杀数
         */
        this.kills = 0;
        /**
         * 累计游戏数
         */
        this.games = 0;
        /**
         * 累计4杀次数
         */
        this.kills4 = 0;
        /**
         * 累计5杀次数
         */
        this.kills5 = 0;
        /**
         * 累计6杀次数
         */
        this.kills6 = 0;
        /**
         * 累计7杀次数
         */
        this.kills7 = 0;
        /****************记录数据 */
        this.continueStraking = 0;
        /**
         * 今天是否用过表情
         */
        this.todayUseFace = false;
        this.highStar = 0;
    }
    PlayerData.prototype.addStar = function (value) {
        this.star += value;
        if (this.star > this.highStar) {
            this.highStar = this.star;
            WXSdk_1.default.instance.unloadUserScore(this.highStar, function () { }, function () { });
        }
    };
    return PlayerData;
}());
exports.default = PlayerData;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxkYXRhXFxQbGF5ZXJEYXRhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxxQ0FBZ0M7QUFFaEMsb0JBQW9CO0FBQ3BCLGtGQUFrRjtBQUNsRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFHbkc7O0dBRUc7QUFDSDtJQUFBO1FBRUk7O1dBRUc7UUFDSSxTQUFJLEdBQVUsQ0FBQyxDQUFDO1FBRXZCOztXQUVHO1FBQ0ksU0FBSSxHQUFVLENBQUMsQ0FBQztRQUV2Qjs7V0FFRztRQUNJLGFBQVEsR0FBVSxDQUFDLENBQUM7UUFFM0I7O1dBRUc7UUFDSSxjQUFTLEdBQVUsQ0FBQyxDQUFDO1FBRTVCOztXQUVHO1FBQ0ksV0FBTSxHQUFVLENBQUMsQ0FBQztRQUV6Qjs7V0FFRztRQUNJLGtCQUFhLEdBQVUsQ0FBQyxDQUFDO1FBRWhDOztXQUVHO1FBQ0ksVUFBSyxHQUFVLENBQUMsQ0FBQztRQUV4Qjs7V0FFRztRQUNJLFVBQUssR0FBVSxDQUFDLENBQUM7UUFFeEI7O1dBRUc7UUFDSSxXQUFNLEdBQVUsQ0FBQyxDQUFDO1FBRXpCOztXQUVHO1FBQ0ksV0FBTSxHQUFVLENBQUMsQ0FBQztRQUV6Qjs7V0FFRztRQUNJLFdBQU0sR0FBVSxDQUFDLENBQUM7UUFHekI7O1dBRUc7UUFDSSxXQUFNLEdBQVUsQ0FBQyxDQUFDO1FBR3pCLHdCQUF3QjtRQUVqQixxQkFBZ0IsR0FBVSxDQUFDLENBQUM7UUFFbkM7O1dBRUc7UUFDSSxpQkFBWSxHQUFXLEtBQUssQ0FBQztRQUU3QixhQUFRLEdBQVUsQ0FBQyxDQUFDO0lBZ0IvQixDQUFDO0lBYlUsNEJBQU8sR0FBZCxVQUFlLEtBQVk7UUFFdkIsSUFBSSxDQUFDLElBQUksSUFBSSxLQUFLLENBQUM7UUFFbkIsSUFBRyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQzVCO1lBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBQzFCLGVBQUssQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUMsY0FBSyxDQUFDLEVBQUMsY0FBSyxDQUFDLENBQUMsQ0FBQztTQUMvRDtJQUdMLENBQUM7SUFFTCxpQkFBQztBQUFELENBekZBLEFBeUZDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgV1hTZGsgZnJvbSBcIi4uL3d4L1dYU2RrXCI7XHJcblxyXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcblxyXG4vKipcclxuICog546p5a625pWw5o2uXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXJEYXRhIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYn+aYn+aAu+aVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhcjpudW1iZXIgPSAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635b6X56ys5LiA5ZCN5qyh5pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBudW0xOm51bWJlciA9IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDov57og5zmrKHmlbBcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0cmFraW5nOm51bWJlciA9IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnmbvlvZXlpKnmlbBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGxvZ2luZGF5czpudW1iZXIgPSAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5LiA5bGA5ri45oiP5b6X5Yiw5pyA5aSn5YiA5pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBrbml2ZXM6bnVtYmVyID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaXtumZkOWGheaIkOS4uuesrOS4gFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdGltZWxpbWl0bnVtMTpudW1iZXIgPSAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog57Sv6K6h5Ye75p2A5pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBraWxsczpudW1iZXIgPSAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog57Sv6K6h5ri45oiP5pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnYW1lczpudW1iZXIgPSAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog57Sv6K6hNOadgOasoeaVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMga2lsbHM0Om51bWJlciA9IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDntK/orqE15p2A5qyh5pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBraWxsczU6bnVtYmVyID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOe0r+iuoTbmnYDmrKHmlbBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGtpbGxzNjpudW1iZXIgPSAwO1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOe0r+iuoTfmnYDmrKHmlbBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGtpbGxzNzpudW1iZXIgPSAwO1xyXG5cclxuXHJcbiAgICAvKioqKioqKioqKioqKioqKuiusOW9leaVsOaNriAqL1xyXG5cclxuICAgIHB1YmxpYyBjb250aW51ZVN0cmFraW5nOm51bWJlciA9IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDku4rlpKnmmK/lkKbnlKjov4fooajmg4VcclxuICAgICAqL1xyXG4gICAgcHVibGljIHRvZGF5VXNlRmFjZTpib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcHVibGljIGhpZ2hTdGFyOm51bWJlciA9IDA7XHJcblxyXG5cclxuICAgIHB1YmxpYyBhZGRTdGFyKHZhbHVlOm51bWJlcilcclxuICAgIHtcclxuICAgICAgICB0aGlzLnN0YXIgKz0gdmFsdWU7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuc3RhciA+IHRoaXMuaGlnaFN0YXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmhpZ2hTdGFyID0gdGhpcy5zdGFyO1xyXG4gICAgICAgICAgICBXWFNkay5pbnN0YW5jZS51bmxvYWRVc2VyU2NvcmUodGhpcy5oaWdoU3RhciwoKT0+e30sKCk9Pnt9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/event/CustomEventType.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '401cdWF7V1NI5WcHpvjbKcu', 'CustomEventType');
// script/tscript/event/CustomEventType.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var CustomEventType = /** @class */ (function () {
    function CustomEventType() {
    }
    /**
     * 新的一天
     */
    CustomEventType.NewDay = "newDay";
    /**
     * 金币发生改变时
     */
    CustomEventType.CoinChange = "coinChange";
    /**
     * 黄金发生改变时
     */
    CustomEventType.GoldChange = "goldChange";
    /**
     * 钻石发生改变时
     */
    CustomEventType.DiamondChange = "diamondChange";
    /**
     * 钻石发生改变时
     */
    CustomEventType.ShareTicketUpdate = "shareTicketUpdate";
    return CustomEventType;
}());
exports.default = CustomEventType;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxldmVudFxcQ3VzdG9tRXZlbnRUeXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOztBQUduRztJQUFBO0lBNkJBLENBQUM7SUEzQkc7O09BRUc7SUFDVyxzQkFBTSxHQUFHLFFBQVEsQ0FBQztJQUVoQzs7T0FFRztJQUNXLDBCQUFVLEdBQUcsWUFBWSxDQUFDO0lBRXhDOztPQUVHO0lBQ1csMEJBQVUsR0FBRyxZQUFZLENBQUM7SUFFeEM7O09BRUc7SUFDVyw2QkFBYSxHQUFHLGVBQWUsQ0FBQztJQUU5Qzs7T0FFRztJQUNXLGlDQUFpQixHQUFHLG1CQUFtQixDQUFDO0lBSTFELHNCQUFDO0NBN0JELEFBNkJDLElBQUE7a0JBN0JvQixlQUFlIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3VzdG9tRXZlbnRUeXBlIFxyXG57XHJcbiAgICAvKipcclxuICAgICAqIOaWsOeahOS4gOWkqVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIE5ld0RheSA9IFwibmV3RGF5XCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDph5HluIHlj5HnlJ/mlLnlj5jml7ZcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBDb2luQ2hhbmdlID0gXCJjb2luQ2hhbmdlXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpu4Tph5Hlj5HnlJ/mlLnlj5jml7ZcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBHb2xkQ2hhbmdlID0gXCJnb2xkQ2hhbmdlXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpkrvnn7Plj5HnlJ/mlLnlj5jml7ZcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBEaWFtb25kQ2hhbmdlID0gXCJkaWFtb25kQ2hhbmdlXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpkrvnn7Plj5HnlJ/mlLnlj5jml7ZcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBTaGFyZVRpY2tldFVwZGF0ZSA9IFwic2hhcmVUaWNrZXRVcGRhdGVcIjtcclxuXHJcblxyXG4gICAgXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/item/Item.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '80113nWi9FNLaCAbUWEg+lL', 'Item');
// script/tscript/item/Item.ts

// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ItemType;
(function (ItemType) {
    ItemType[ItemType["none"] = 0] = "none";
    ItemType[ItemType["fhl"] = 1] = "fhl";
    ItemType[ItemType["rocket"] = 2] = "rocket";
    ItemType[ItemType["magnet"] = 3] = "magnet";
})(ItemType = exports.ItemType || (exports.ItemType = {}));
var Item = /** @class */ (function (_super) {
    __extends(Item, _super);
    function Item() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.type = ItemType.none;
        return _this;
        // update (dt) {}
    }
    //@property
    //public value:number = 0;
    // LIFE-CYCLE CALLBACKS:
    Item.prototype.onLoad = function () { };
    Item.prototype.start = function () {
        //this.node.
    };
    Item.prototype.destroySelf = function () {
        this.node.destroy();
    };
    __decorate([
        property({ type: cc.Enum(ItemType) })
    ], Item.prototype, "type", void 0);
    Item = __decorate([
        ccclass
    ], Item);
    return Item;
}(cc.Component));
exports.default = Item;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxpdGVtXFxJdGVtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixrRkFBa0Y7QUFDbEYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5Qiw0RkFBNEY7QUFDNUYsbUdBQW1HOztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRTFDLElBQVksUUFPWDtBQVBELFdBQVksUUFBUTtJQUVoQix1Q0FBUSxDQUFBO0lBQ1IscUNBQU8sQ0FBQTtJQUNQLDJDQUFVLENBQUE7SUFDViwyQ0FBVSxDQUFBO0FBRWQsQ0FBQyxFQVBXLFFBQVEsR0FBUixnQkFBUSxLQUFSLGdCQUFRLFFBT25CO0FBR0Q7SUFBa0Msd0JBQVk7SUFEOUM7UUFBQSxxRUF1QkM7UUFuQlUsVUFBSSxHQUFZLFFBQVEsQ0FBQyxJQUFJLENBQUM7O1FBa0JyQyxpQkFBaUI7SUFDckIsQ0FBQztJQWhCRyxXQUFXO0lBQ1gsMEJBQTBCO0lBRTFCLHdCQUF3QjtJQUV4QixxQkFBTSxHQUFOLGNBQVcsQ0FBQztJQUVaLG9CQUFLLEdBQUw7UUFDSSxZQUFZO0lBQ2hCLENBQUM7SUFFTSwwQkFBVyxHQUFsQjtRQUVJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQWpCRDtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFDLENBQUM7c0NBQ0U7SUFIcEIsSUFBSTtRQUR4QixPQUFPO09BQ2EsSUFBSSxDQXNCeEI7SUFBRCxXQUFDO0NBdEJELEFBc0JDLENBdEJpQyxFQUFFLENBQUMsU0FBUyxHQXNCN0M7a0JBdEJvQixJQUFJIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbmV4cG9ydCBlbnVtIEl0ZW1UeXBlXHJcbntcclxuICAgIG5vbmUgPSAwLFxyXG4gICAgZmhsID0gMSxcclxuICAgIHJvY2tldCA9IDIsXHJcbiAgICBtYWduZXQgPSAzXHJcblxyXG59XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJdGVtIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuRW51bShJdGVtVHlwZSl9KVxyXG4gICAgcHVibGljIHR5cGU6SXRlbVR5cGUgPSBJdGVtVHlwZS5ub25lO1xyXG5cclxuXHJcbiAgICAvL0Bwcm9wZXJ0eVxyXG4gICAgLy9wdWJsaWMgdmFsdWU6bnVtYmVyID0gMDtcclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcbiAgICBvbkxvYWQgKCkge31cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcbiAgICAgICAgLy90aGlzLm5vZGUuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc3Ryb3lTZWxmKCk6dm9pZFxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubm9kZS5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/common/PopupText.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2e6fcfe6F9CqaGVaos3yc6A', 'PopupText');
// script/tscript/ui/common/PopupText.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ResourcesPool_1 = require("../../core/ResourcesPool");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PopupText = /** @class */ (function (_super) {
    __extends(PopupText, _super);
    function PopupText() {
        // LIFE-CYCLE CALLBACKS:
        var _this = _super !== null && _super.apply(this, arguments) || this;
        // onLoad () {}
        _this.label = null;
        return _this;
    }
    PopupText.prototype.start = function () {
    };
    PopupText.prototype.showText = function (msg, size, color) {
        var _this = this;
        this.label.string = msg;
        this.label.fontSize = size;
        this.label.node.color = color;
        var compCallback = cc.callFunc(function () {
            _this.destroySelf();
        }, this);
        var seq = cc.sequence(cc.spawn(cc.moveBy(1.0, 0, 150), cc.fadeTo(1.0, 25)), compCallback);
        this.node.runAction(seq);
    };
    // update (dt) {}
    PopupText.prototype.getKey = function () {
        //return PopupText.name;
        return "PopupText";
    };
    PopupText.prototype.awake = function () {
        this.node.position = cc.Vec2.ZERO;
        this.node.active = true;
        this.node.color = cc.Color.WHITE;
        this.node.opacity = 255;
    };
    PopupText.prototype.sleep = function () {
        this.node.stopAllActions();
        this.node.parent = null;
        this.node.active = false;
    };
    PopupText.prototype.destroySelf = function () {
        ResourcesPool_1.default.instance.put(this, 45);
    };
    __decorate([
        property(cc.Label)
    ], PopupText.prototype, "label", void 0);
    PopupText = __decorate([
        ccclass
    ], PopupText);
    return PopupText;
}(cc.Component));
exports.default = PopupText;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcY29tbW9uXFxQb3B1cFRleHQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLDBEQUFrRTtBQUNsRSxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQXVDLDZCQUFZO0lBRG5EO1FBR0ksd0JBQXdCO1FBSDVCLHFFQTJEQztRQXRERyxlQUFlO1FBSVAsV0FBSyxHQUFZLElBQUksQ0FBQzs7SUFrRGxDLENBQUM7SUFoREcseUJBQUssR0FBTDtJQUVBLENBQUM7SUFHTSw0QkFBUSxHQUFmLFVBQWdCLEdBQVUsRUFBQyxJQUFXLEVBQUMsS0FBYztRQUFyRCxpQkFhQztRQVhHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztRQUN4QixJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDM0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUU5QixJQUFJLFlBQVksR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDO1lBQzNCLEtBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUN2QixDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFFUixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEdBQUcsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUMsWUFBWSxDQUFDLENBQUM7UUFDckYsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7SUFFN0IsQ0FBQztJQUVELGlCQUFpQjtJQUVWLDBCQUFNLEdBQWI7UUFHSSx3QkFBd0I7UUFDeEIsT0FBTyxXQUFXLENBQUM7SUFDdkIsQ0FBQztJQUVNLHlCQUFLLEdBQVo7UUFFSSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNsQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDeEIsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDakMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDO0lBQzVCLENBQUM7SUFDTSx5QkFBSyxHQUFaO1FBRUksSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDeEIsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQzdCLENBQUM7SUFFTSwrQkFBVyxHQUFsQjtRQUVJLHVCQUFhLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUMsRUFBRSxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQWhERDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzRDQUNXO0lBUmIsU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQTBEN0I7SUFBRCxnQkFBQztDQTFERCxBQTBEQyxDQTFEc0MsRUFBRSxDQUFDLFNBQVMsR0EwRGxEO2tCQTFEb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgUmVzb3VyY2VzUG9vbCwgeyBSZWN5Y2xlIH0gZnJvbSBcIi4uLy4uL2NvcmUvUmVzb3VyY2VzUG9vbFwiO1xyXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBUZXh0IGV4dGVuZHMgY2MuQ29tcG9uZW50IGltcGxlbWVudHMgUmVjeWNsZSB7XHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgLy8gb25Mb2FkICgpIHt9XHJcblxyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHByaXZhdGUgbGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBzaG93VGV4dChtc2c6c3RyaW5nLHNpemU6bnVtYmVyLGNvbG9yOmNjLkNvbG9yKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubGFiZWwuc3RyaW5nID0gbXNnO1xyXG4gICAgICAgIHRoaXMubGFiZWwuZm9udFNpemUgPSBzaXplO1xyXG4gICAgICAgIHRoaXMubGFiZWwubm9kZS5jb2xvciA9IGNvbG9yO1xyXG5cclxuICAgICAgICB2YXIgY29tcENhbGxiYWNrID0gY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95U2VsZigpO1xyXG4gICAgICAgIH0sdGhpcyk7XHJcbiAgICBcclxuICAgICAgICB2YXIgc2VxID0gY2Muc2VxdWVuY2UoY2Muc3Bhd24oY2MubW92ZUJ5KDEuMCwwLDE1MCksY2MuZmFkZVRvKDEuMCwyNSkpLGNvbXBDYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihzZXEpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG5cclxuICAgIHB1YmxpYyBnZXRLZXkoKTpzdHJpbmdcclxuICAgIHtcclxuICAgICAgICBcclxuICAgICAgICAvL3JldHVybiBQb3B1cFRleHQubmFtZTtcclxuICAgICAgICByZXR1cm4gXCJQb3B1cFRleHRcIjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXdha2UoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubm9kZS5wb3NpdGlvbiA9IGNjLlZlYzIuWkVSTztcclxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm5vZGUuY29sb3IgPSBjYy5Db2xvci5XSElURTtcclxuICAgICAgICB0aGlzLm5vZGUub3BhY2l0eSA9IDI1NTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzbGVlcCgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5ub2RlLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy5ub2RlLnBhcmVudCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXN0cm95U2VsZigpXHJcbiAgICB7XHJcbiAgICAgICAgUmVzb3VyY2VzUG9vbC5pbnN0YW5jZS5wdXQodGhpcyw0NSk7XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/base/SelectView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '427c4ZEmZ5Bz69RJH5CP0w1', 'SelectView');
// script/tscript/ui/base/SelectView.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var SelectView = /** @class */ (function (_super) {
    __extends(SelectView, _super);
    function SelectView() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    SelectView.prototype.awake = function () {
        this.node.active = true;
    };
    SelectView.prototype.sleep = function () {
        this.node.active = false;
        this.node.parent = null;
    };
    SelectView.prototype.reset = function () {
    };
    SelectView = __decorate([
        ccclass
    ], SelectView);
    return SelectView;
}(cc.Component));
exports.default = SelectView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcYmFzZVxcU2VsZWN0Vmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRzs7QUFFN0YsSUFBQSxrQkFBbUMsRUFBbEMsb0JBQU8sRUFBRSxzQkFBeUIsQ0FBQztBQUcxQztJQUF3Qyw4QkFBWTtJQUFwRDs7SUFpQkEsQ0FBQztJQWZVLDBCQUFLLEdBQVo7UUFFSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7SUFDNUIsQ0FBQztJQUVNLDBCQUFLLEdBQVo7UUFFSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0lBQzVCLENBQUM7SUFFTSwwQkFBSyxHQUFaO0lBR0EsQ0FBQztJQWhCZ0IsVUFBVTtRQUQ5QixPQUFPO09BQ2EsVUFBVSxDQWlCOUI7SUFBRCxpQkFBQztDQWpCRCxBQWlCQyxDQWpCdUMsRUFBRSxDQUFDLFNBQVMsR0FpQm5EO2tCQWpCb0IsVUFBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWxlY3RWaWV3IGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBwdWJsaWMgYXdha2UoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzbGVlcCgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubm9kZS5wYXJlbnQgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNldCgpXHJcbiAgICB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/result/FailPanel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7504bk1adBA66vY+CrfbIPm', 'FailPanel');
// script/tscript/ui/result/FailPanel.ts

Object.defineProperty(exports, "__esModule", { value: true });
var View_1 = require("../base/View");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var FailPanel = /** @class */ (function (_super) {
    __extends(FailPanel, _super);
    function FailPanel() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.replayBtn = null;
        _this.exitBtn = null;
        return _this;
        // update (dt) {}
    }
    // LIFE-CYCLE CALLBACKS:
    FailPanel.prototype.onLoad = function () { };
    FailPanel.prototype.start = function () {
        this.replayBtn.node.on(cc.Node.EventType.TOUCH_START, function (event) {
            window.main.randombg();
            cc.director.loadScene(cc.director.getScene().name);
        });
        this.exitBtn.node.on(cc.Node.EventType.TOUCH_START, function (event) {
            cc.director.loadScene("selector");
        });
    };
    __decorate([
        property(cc.Button)
    ], FailPanel.prototype, "replayBtn", void 0);
    __decorate([
        property(cc.Button)
    ], FailPanel.prototype, "exitBtn", void 0);
    FailPanel = __decorate([
        ccclass
    ], FailPanel);
    return FailPanel;
}(View_1.default));
exports.default = FailPanel;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxccmVzdWx0XFxGYWlsUGFuZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHFDQUFnQztBQUVoQyxvQkFBb0I7QUFDcEIsa0ZBQWtGO0FBQ2xGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQXVDLDZCQUFJO0lBRDNDO1FBQUEscUVBOEJDO1FBMUJHLGVBQVMsR0FBYyxJQUFJLENBQUM7UUFHNUIsYUFBTyxHQUFjLElBQUksQ0FBQzs7UUFzQjFCLGlCQUFpQjtJQUNyQixDQUFDO0lBckJHLHdCQUF3QjtJQUV4QiwwQkFBTSxHQUFOLGNBQVcsQ0FBQztJQUVaLHlCQUFLLEdBQUw7UUFFSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFDLFVBQUMsS0FBSztZQUMvRCxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ2YsRUFBRSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUV2RCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUMsVUFBQyxLQUFLO1lBRXJELEVBQUUsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBRXRDLENBQUMsQ0FBQyxDQUFDO0lBRVAsQ0FBQztJQXZCRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2dEQUNRO0lBRzVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7OENBQ007SUFOVCxTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBNkI3QjtJQUFELGdCQUFDO0NBN0JELEFBNkJDLENBN0JzQyxjQUFJLEdBNkIxQztrQkE3Qm9CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVmlldyBmcm9tIFwiLi4vYmFzZS9WaWV3XCI7XHJcblxyXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmFpbFBhbmVsIGV4dGVuZHMgVmlldyB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkJ1dHRvbilcclxuICAgIHJlcGxheUJ0bjogY2MuQnV0dG9uID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuQnV0dG9uKVxyXG4gICAgZXhpdEJ0bjogY2MuQnV0dG9uID0gbnVsbDtcclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcbiAgICBvbkxvYWQgKCkge31cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMucmVwbGF5QnRuLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsKGV2ZW50KT0+e1xyXG5cdFx0XHQgd2luZG93Lm1haW4ucmFuZG9tYmcoKTtcclxuICAgICAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKGNjLmRpcmVjdG9yLmdldFNjZW5lKCkubmFtZSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmV4aXRCdG4ubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCwoZXZlbnQpPT57XHJcblxyXG4gICAgICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoXCJzZWxlY3RvclwiKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/rank/RankUI.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd73ce+gRgVNxoqR1GSxYKDv', 'RankUI');
// script/tscript/ui/rank/RankUI.ts

Object.defineProperty(exports, "__esModule", { value: true });
var RankItem_1 = require("./RankItem");
var GameScene_1 = require("../../gamescene/GameScene");
var GameManager_1 = require("../../core/GameManager");
var Player_1 = require("../../gamescene/Player");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var RankUI = /** @class */ (function (_super) {
    __extends(RankUI, _super);
    function RankUI() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.rankItemArr = [];
        //@property(cc.Prefab)
        //public knifePrefab:cc.Prefab = null;
        _this.gameScene = null;
        _this.playerColor = new cc.Color(200, 141, 51);
        return _this;
        // update (dt) {}
    }
    // LIFE-CYCLE CALLBACKS:
    RankUI.prototype.onLoad = function () {
        this.gameScene = GameManager_1.default.instance.gameScene.getComponent(GameScene_1.default);
    };
    RankUI.prototype.start = function () {
        this.gameScene.node.on("knifesChange", this.onKnifesChange, this);
    };
    RankUI.prototype.onKnifesChange = function () {
        if (GameManager_1.default.instance.gameStatus == GameManager_1.GameStatus.over) {
            return;
        }
        this.gameScene.playerArr.sort(function (player1, player2) {
            var kfLen1 = player1.knifePool.knifes.length;
            var kfLen2 = player2.knifePool.knifes.length;
            if (kfLen1 > kfLen2) {
                return -1;
            }
            if (kfLen1 < kfLen2) {
                return 1;
            }
            return 0;
        });
        for (var i = 0; i < this.rankItemArr.length; i++) {
            var player = this.gameScene.playerArr[i];
            if (player != null) {
                this.rankItemArr[i].mark.spriteFrame = player.body.skin.spriteFrame;
                this.rankItemArr[i].nameTxt.string = player.getName();
                if (player.status != Player_1.PlayerStatus.die) {
                    this.rankItemArr[i].rankTxt.string = "" + player.knifePool.knifes.length;
                }
                else {
                    this.rankItemArr[i].rankTxt.string = "0";
                }
                if (player == this.gameScene.player) {
                    this.rankItemArr[i].nameTxt.node.color = this.playerColor;
                }
                else {
                    this.rankItemArr[i].nameTxt.node.color = cc.Color.WHITE;
                }
            }
        }
    };
    __decorate([
        property(RankItem_1.default)
    ], RankUI.prototype, "rankItemArr", void 0);
    RankUI = __decorate([
        ccclass
    ], RankUI);
    return RankUI;
}(cc.Component));
exports.default = RankUI;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxccmFua1xcUmFua1VJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx1Q0FBa0M7QUFDbEMsdURBQWtEO0FBQ2xELHNEQUFpRTtBQUNqRSxpREFBOEQ7QUFFOUQsb0JBQW9CO0FBQ3BCLGtGQUFrRjtBQUNsRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFFN0YsSUFBQSxrQkFBbUMsRUFBbEMsb0JBQU8sRUFBRSxzQkFBeUIsQ0FBQztBQUcxQztJQUFvQywwQkFBWTtJQURoRDtRQUFBLHFFQXdGQztRQXBGRyxpQkFBVyxHQUFlLEVBQUUsQ0FBQztRQUU3QixzQkFBc0I7UUFDdEIsc0NBQXNDO1FBRzlCLGVBQVMsR0FBYSxJQUFJLENBQUM7UUFHM0IsaUJBQVcsR0FBWSxJQUFJLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxFQUFFLENBQUMsQ0FBQzs7UUEwRXhELGlCQUFpQjtJQUNyQixDQUFDO0lBekVHLHdCQUF3QjtJQUV4Qix1QkFBTSxHQUFOO1FBRUksSUFBSSxDQUFDLFNBQVMsR0FBRyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLG1CQUFTLENBQUMsQ0FBQztJQUU1RSxDQUFDO0lBRUQsc0JBQUssR0FBTDtRQUdJLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxjQUFjLEVBQUMsSUFBSSxDQUFDLGNBQWMsRUFBQyxJQUFJLENBQUMsQ0FBQztJQUVwRSxDQUFDO0lBRU8sK0JBQWMsR0FBdEI7UUFFSSxJQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLFVBQVUsSUFBSSx3QkFBVSxDQUFDLElBQUksRUFDckQ7WUFDSSxPQUFPO1NBQ1Y7UUFFRCxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBQyxPQUFjLEVBQUMsT0FBYztZQUV4RCxJQUFJLE1BQU0sR0FBVSxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDcEQsSUFBSSxNQUFNLEdBQVUsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBRXBELElBQUcsTUFBTSxHQUFHLE1BQU0sRUFDbEI7Z0JBQ0ksT0FBTyxDQUFDLENBQUMsQ0FBQzthQUNiO1lBRUQsSUFBRyxNQUFNLEdBQUcsTUFBTSxFQUNsQjtnQkFDSSxPQUFPLENBQUMsQ0FBQzthQUNaO1lBRUQsT0FBUSxDQUFDLENBQUM7UUFDZCxDQUFDLENBQUMsQ0FBQztRQUVILEtBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRyxDQUFDLEVBQUUsRUFDakQ7WUFDSSxJQUFJLE1BQU0sR0FBVSxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVoRCxJQUFHLE1BQU0sSUFBSSxJQUFJLEVBQ2pCO2dCQUNJLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7Z0JBQ3BFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7Z0JBRXRELElBQUcsTUFBTSxDQUFDLE1BQU0sSUFBSSxxQkFBWSxDQUFDLEdBQUcsRUFDcEM7b0JBQ0ksSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLEVBQUUsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7aUJBQzVFO3FCQUNEO29CQUNJLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7aUJBQzVDO2dCQUVELElBQUcsTUFBTSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUNsQztvQkFDSSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7aUJBQzdEO3FCQUNEO29CQUNJLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7aUJBQzNEO2FBRUo7U0FFSjtJQUdMLENBQUM7SUFqRkQ7UUFEQyxRQUFRLENBQUMsa0JBQVEsQ0FBQzsrQ0FDVTtJQUhaLE1BQU07UUFEMUIsT0FBTztPQUNhLE1BQU0sQ0F1RjFCO0lBQUQsYUFBQztDQXZGRCxBQXVGQyxDQXZGbUMsRUFBRSxDQUFDLFNBQVMsR0F1Ri9DO2tCQXZGb0IsTUFBTSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSYW5rSXRlbSBmcm9tIFwiLi9SYW5rSXRlbVwiO1xyXG5pbXBvcnQgR2FtZVNjZW5lIGZyb20gXCIuLi8uLi9nYW1lc2NlbmUvR2FtZVNjZW5lXCI7XHJcbmltcG9ydCBHYW1lTWFuYWdlciwgeyBHYW1lU3RhdHVzIH0gZnJvbSBcIi4uLy4uL2NvcmUvR2FtZU1hbmFnZXJcIjtcclxuaW1wb3J0IFBsYXllciwgeyBQbGF5ZXJTdGF0dXMgfSBmcm9tIFwiLi4vLi4vZ2FtZXNjZW5lL1BsYXllclwiO1xyXG5cclxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJhbmtVSSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KFJhbmtJdGVtKVxyXG4gICAgcmFua0l0ZW1BcnI6IFJhbmtJdGVtW10gPSBbXTtcclxuXHJcbiAgICAvL0Bwcm9wZXJ0eShjYy5QcmVmYWIpXHJcbiAgICAvL3B1YmxpYyBrbmlmZVByZWZhYjpjYy5QcmVmYWIgPSBudWxsO1xyXG5cclxuXHJcbiAgICBwcml2YXRlIGdhbWVTY2VuZTpHYW1lU2NlbmUgPSBudWxsO1xyXG5cclxuXHJcbiAgICBwcml2YXRlIHBsYXllckNvbG9yOmNjLkNvbG9yID0gbmV3IGNjLkNvbG9yKDIwMCwxNDEsNTEpO1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ2FtZVNjZW5lLmdldENvbXBvbmVudChHYW1lU2NlbmUpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmdhbWVTY2VuZS5ub2RlLm9uKFwia25pZmVzQ2hhbmdlXCIsdGhpcy5vbktuaWZlc0NoYW5nZSx0aGlzKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbktuaWZlc0NoYW5nZSgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ2FtZVN0YXR1cyA9PSBHYW1lU3RhdHVzLm92ZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmdhbWVTY2VuZS5wbGF5ZXJBcnIuc29ydCgocGxheWVyMTpQbGF5ZXIscGxheWVyMjpQbGF5ZXIpOm51bWJlcj0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIga2ZMZW4xOm51bWJlciA9IHBsYXllcjEua25pZmVQb29sLmtuaWZlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBrZkxlbjI6bnVtYmVyID0gcGxheWVyMi5rbmlmZVBvb2wua25pZmVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIGlmKGtmTGVuMSA+IGtmTGVuMilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZihrZkxlbjEgPCBrZkxlbjIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gIDA7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZvcih2YXIgaSA9IDAgOyBpIDwgdGhpcy5yYW5rSXRlbUFyci5sZW5ndGggOyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgcGxheWVyOlBsYXllciA9IHRoaXMuZ2FtZVNjZW5lLnBsYXllckFycltpXTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKHBsYXllciAhPSBudWxsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJhbmtJdGVtQXJyW2ldLm1hcmsuc3ByaXRlRnJhbWUgPSBwbGF5ZXIuYm9keS5za2luLnNwcml0ZUZyYW1lO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yYW5rSXRlbUFycltpXS5uYW1lVHh0LnN0cmluZyA9IHBsYXllci5nZXROYW1lKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYocGxheWVyLnN0YXR1cyAhPSBQbGF5ZXJTdGF0dXMuZGllKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmFua0l0ZW1BcnJbaV0ucmFua1R4dC5zdHJpbmcgPSBcIlwiICsgcGxheWVyLmtuaWZlUG9vbC5rbmlmZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJhbmtJdGVtQXJyW2ldLnJhbmtUeHQuc3RyaW5nID0gXCIwXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYocGxheWVyID09IHRoaXMuZ2FtZVNjZW5lLnBsYXllcilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJhbmtJdGVtQXJyW2ldLm5hbWVUeHQubm9kZS5jb2xvciA9IHRoaXMucGxheWVyQ29sb3I7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmFua0l0ZW1BcnJbaV0ubmFtZVR4dC5ub2RlLmNvbG9yID0gY2MuQ29sb3IuV0hJVEU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/Main.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ffa54D2yqNEcZ2pIBowdJyx', 'Main');
// script/tscript/Main.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DataManager_1 = require("./core/DataManager");
var GameManager_1 = require("./core/GameManager");
var WXSdk_1 = require("./wx/WXSdk");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Main = /** @class */ (function (_super) {
    __extends(Main, _super);
    function Main() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.canvas = null;
        _this.bgcion = null;
        _this.bg1 = null;
        _this.bg2 = null;
        _this.onloadConfigDatas = function () {
            this.gameMagr.init();
            this.canvas.active = true;
            //SoundManager.instance.PlayBGSound(BgSoundClipType.main);
            this.loginWx();
        }.bind(_this);
        return _this;
        // update (dt) {}
    }
    // LIFE-CYCLE CALLBACKS:
    Main.prototype.onLoad = function () {
        window.main = this;
        cc.game.setFrameRate(60);
        this.gameMagr = this.canvas.getComponent(GameManager_1.default);
        this.canvas.active = false;
        DataManager_1.default.instance.loadConfigDatas(this.onloadConfigDatas);
        this.randombg();
    };
    Main.prototype.loginWx = function () {
        var _this = this;
        WXSdk_1.default.instance.login("ss", "ss", function () {
            if (WXSdk_1.default.instance.isWXPlatform()) {
                cc.log("微信登录成功");
                console.log("发送微信事件");
                var baseData = {
                    name: "init",
                    levelConfigDatas: DataManager_1.default.instance.levelConfigDatas
                };
                WXSdk_1.default.instance.wx.postMessage(baseData); //向开发数据域发送初始数据
                cc.systemEvent.emit("wxLogin");
                WXSdk_1.default.instance.wx.showToast({
                    title: '登录成功',
                    icon: 'success',
                    duration: 2000
                });
            }
        }, function () {
            if (WXSdk_1.default.instance.isWXPlatform()) {
                cc.log("微信登录失败");
                _this.showModal();
            }
        });
    };
    Main.prototype.showModal = function () {
        var _this = this;
        WXSdk_1.default.instance.wx.showModal({
            title: '异常',
            showCancel: false,
            confirmText: "重试",
            content: '游戏登录失败，请重试',
            success: function (res) {
                if (res.confirm) {
                    _this.loginWx();
                }
                else {
                    _this.loginWx();
                }
            }
        });
    };
    Main.prototype.start = function () {
    };
    Main.prototype.randombg = function () {
        if (Math.random() > 0.5) {
            this.bgcion.spriteFrame = this.bg2;
        }
        else {
            this.bgcion.spriteFrame = this.bg1;
        }
    };
    __decorate([
        property(cc.Node)
    ], Main.prototype, "canvas", void 0);
    __decorate([
        property(cc.Sprite)
    ], Main.prototype, "bgcion", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "bg1", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Main.prototype, "bg2", void 0);
    Main = __decorate([
        ccclass
    ], Main);
    return Main;
}(cc.Component));
exports.default = Main;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxNYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxrREFBNkM7QUFFN0Msa0RBQTZDO0FBQzdDLG9DQUErQjtBQUUvQixvQkFBb0I7QUFDcEIsa0ZBQWtGO0FBQ2xGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQWtDLHdCQUFZO0lBRDlDO1FBQUEscUVBdUhDO1FBbkhVLFlBQU0sR0FBVyxJQUFJLENBQUM7UUFHdEIsWUFBTSxHQUFhLElBQUksQ0FBQztRQUd4QixTQUFHLEdBQWtCLElBQUksQ0FBQztRQUcxQixTQUFHLEdBQWtCLElBQUksQ0FBQztRQW9CekIsdUJBQWlCLEdBQUc7WUFFeEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNyQixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDMUIsMERBQTBEO1lBQzFELElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNuQixDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUksQ0FBQyxDQUFDOztRQTZFYixpQkFBaUI7SUFHckIsQ0FBQztJQXZHRyx3QkFBd0I7SUFFdkIscUJBQU0sR0FBTjtRQUVILE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2QsRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBYyxxQkFBVyxDQUFDLENBQUM7UUFDbkUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBRTNCLHFCQUFXLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUVoRSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7SUFJaEIsQ0FBQztJQVdPLHNCQUFPLEdBQWY7UUFBQSxpQkFvQ0M7UUFsQ0csZUFBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQ2hCLElBQUksRUFDSixJQUFJLEVBQ1A7WUFFSSxJQUFHLGVBQUssQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFLEVBQ2hDO2dCQUNHLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ2pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3RCLElBQUksUUFBUSxHQUNaO29CQUNJLElBQUksRUFBQyxNQUFNO29CQUNYLGdCQUFnQixFQUFDLHFCQUFXLENBQUMsUUFBUSxDQUFDLGdCQUFnQjtpQkFDekQsQ0FBQTtnQkFFRCxlQUFLLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxjQUFjO2dCQUV2RCxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFDL0IsZUFBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDO29CQUN4QixLQUFLLEVBQUUsTUFBTTtvQkFDYixJQUFJLEVBQUUsU0FBUztvQkFDZixRQUFRLEVBQUUsSUFBSTtpQkFDakIsQ0FBQyxDQUFBO2FBRUo7UUFFTCxDQUFDLEVBQUM7WUFFQyxJQUFHLGVBQUssQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFLEVBQ2hDO2dCQUNJLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ2pCLEtBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQzthQUNwQjtRQUNKLENBQUMsQ0FBQyxDQUFDO0lBQ1IsQ0FBQztJQUVPLHdCQUFTLEdBQWpCO1FBQUEsaUJBa0JDO1FBaEJHLGVBQUssQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQztZQUN4QixLQUFLLEVBQUUsSUFBSTtZQUNYLFVBQVUsRUFBQyxLQUFLO1lBQ2hCLFdBQVcsRUFBQyxJQUFJO1lBQ2hCLE9BQU8sRUFBRSxZQUFZO1lBQ3JCLE9BQU8sRUFBQyxVQUFDLEdBQUc7Z0JBRVAsSUFBSSxHQUFHLENBQUMsT0FBTyxFQUNoQjtvQkFDSSxLQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7aUJBQ2xCO3FCQUNEO29CQUNJLEtBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztpQkFDbEI7WUFDTCxDQUFDO1NBQ0osQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELG9CQUFLLEdBQUw7SUFFQSxDQUFDO0lBR0osdUJBQVEsR0FBUjtRQUVFLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFDLEdBQUcsRUFDcEI7WUFDRSxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDO1NBQ3BDO2FBQ0Q7WUFDRSxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDO1NBQ3BDO0lBQ0osQ0FBQztJQTlHRTtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3dDQUNXO0lBRzdCO1FBREQsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7d0NBQ2E7SUFHL0I7UUFERCxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQztxQ0FDVTtJQUdqQztRQURELFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDO3FDQUNVO0lBWmhCLElBQUk7UUFEeEIsT0FBTztPQUNhLElBQUksQ0FzSHhCO0lBQUQsV0FBQztDQXRIRCxBQXNIQyxDQXRIaUMsRUFBRSxDQUFDLFNBQVMsR0FzSDdDO2tCQXRIb0IsSUFBSSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQbGF5ZXJEYXRhIGZyb20gXCIuL2RhdGEvUGxheWVyRGF0YVwiO1xyXG5pbXBvcnQgRGF0YU1hbmFnZXIgZnJvbSBcIi4vY29yZS9EYXRhTWFuYWdlclwiO1xyXG5pbXBvcnQgR2FtZVNjZW5lIGZyb20gXCIuL2dhbWVzY2VuZS9HYW1lU2NlbmVcIjtcclxuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuL2NvcmUvR2FtZU1hbmFnZXJcIjtcclxuaW1wb3J0IFdYU2RrIGZyb20gXCIuL3d4L1dYU2RrXCI7XHJcblxyXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpbiBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBwdWJsaWMgY2FudmFzOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuXHQgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIHB1YmxpYyBiZ2Npb246Y2MuU3ByaXRlID0gbnVsbDtcclxuXHRcclxuXHQgQHByb3BlcnR5KGNjLlNwcml0ZUZyYW1lKVxyXG4gICAgcHVibGljIGJnMTpjYy5TcHJpdGVGcmFtZSA9IG51bGw7XHJcblx0XHJcblx0IEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIHB1YmxpYyBiZzI6Y2MuU3ByaXRlRnJhbWUgPSBudWxsO1xyXG5cdFxyXG4gICAgcHJpdmF0ZSBnYW1lTWFncjpHYW1lTWFuYWdlcjtcclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgICBvbkxvYWQgKCkgXHJcbiAgICAge1xyXG5cdFx0d2luZG93Lm1haW4gPSB0aGlzO1xyXG4gICAgICAgY2MuZ2FtZS5zZXRGcmFtZVJhdGUoNjApO1xyXG4gICAgICAgdGhpcy5nYW1lTWFnciA9IHRoaXMuY2FudmFzLmdldENvbXBvbmVudDxHYW1lTWFuYWdlcj4oR2FtZU1hbmFnZXIpO1xyXG4gICAgICAgdGhpcy5jYW52YXMuYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgRGF0YU1hbmFnZXIuaW5zdGFuY2UubG9hZENvbmZpZ0RhdGFzKHRoaXMub25sb2FkQ29uZmlnRGF0YXMpO1xyXG5cclxuXHQgICB0aGlzLnJhbmRvbWJnKCk7XHJcblx0ICAgXHJcblx0ICBcclxuICAgICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcml2YXRlIG9ubG9hZENvbmZpZ0RhdGFzID0gZnVuY3Rpb24oKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZ2FtZU1hZ3IuaW5pdCgpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgLy9Tb3VuZE1hbmFnZXIuaW5zdGFuY2UuUGxheUJHU291bmQoQmdTb3VuZENsaXBUeXBlLm1haW4pO1xyXG4gICAgICAgIHRoaXMubG9naW5XeCgpO1xyXG4gICAgfS5iaW5kKHRoaXMpO1xyXG5cclxuXHJcbiAgICBwcml2YXRlIGxvZ2luV3goKVxyXG4gICAge1xyXG4gICAgICAgIFdYU2RrLmluc3RhbmNlLmxvZ2luKFxyXG4gICAgICAgICAgICBcInNzXCIsXHJcbiAgICAgICAgICAgIFwic3NcIixcclxuICAgICAgICAgKCk9PntcclxuXHJcbiAgICAgICAgICAgICBpZihXWFNkay5pbnN0YW5jZS5pc1dYUGxhdGZvcm0oKSlcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNjLmxvZyhcIuW+ruS/oeeZu+W9leaIkOWKn1wiKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y+R6YCB5b6u5L+h5LqL5Lu2XCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJhc2VEYXRhID0gXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTpcImluaXRcIixcclxuICAgICAgICAgICAgICAgICAgICBsZXZlbENvbmZpZ0RhdGFzOkRhdGFNYW5hZ2VyLmluc3RhbmNlLmxldmVsQ29uZmlnRGF0YXNcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBXWFNkay5pbnN0YW5jZS53eC5wb3N0TWVzc2FnZShiYXNlRGF0YSk7IC8v5ZCR5byA5Y+R5pWw5o2u5Z+f5Y+R6YCB5Yid5aeL5pWw5o2uXHJcblxyXG4gICAgICAgICAgICAgICAgY2Muc3lzdGVtRXZlbnQuZW1pdChcInd4TG9naW5cIik7XHJcbiAgICAgICAgICAgICAgICBXWFNkay5pbnN0YW5jZS53eC5zaG93VG9hc3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn55m75b2V5oiQ5YqfJyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDBcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgXHJcbiAgICAgICAgIH0sKCk9PntcclxuXHJcbiAgICAgICAgICAgIGlmKFdYU2RrLmluc3RhbmNlLmlzV1hQbGF0Zm9ybSgpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjYy5sb2coXCLlvq7kv6HnmbvlvZXlpLHotKVcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dNb2RhbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvd01vZGFsKClcclxuICAgIHtcclxuICAgICAgICBXWFNkay5pbnN0YW5jZS53eC5zaG93TW9kYWwoe1xyXG4gICAgICAgICAgICB0aXRsZTogJ+W8guW4uCcsXHJcbiAgICAgICAgICAgIHNob3dDYW5jZWw6ZmFsc2UsXHJcbiAgICAgICAgICAgIGNvbmZpcm1UZXh0Olwi6YeN6K+VXCIsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6ICfmuLjmiI/nmbvlvZXlpLHotKXvvIzor7fph43or5UnLFxyXG4gICAgICAgICAgICBzdWNjZXNzOihyZXMpPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgIGlmIChyZXMuY29uZmlybSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2luV3goKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dpbld4KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuXHRcclxuXHRyYW5kb21iZygpXHJcblx0e1xyXG5cdFx0IGlmKCBNYXRoLnJhbmRvbSgpPjAuNSApXHJcblx0ICAge1xyXG5cdFx0ICAgIHRoaXMuYmdjaW9uLnNwcml0ZUZyYW1lID0gdGhpcy5iZzI7XHJcblx0ICAgfWVsc2VcclxuXHQgICB7XHJcblx0XHQgICAgdGhpcy5iZ2Npb24uc3ByaXRlRnJhbWUgPSB0aGlzLmJnMTtcclxuXHQgICB9XHJcblx0fVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcblxyXG4gICAgXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/audio/SoundClip.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fe7b4FtJWRPL4N7yBtkCip/', 'SoundClip');
// script/tscript/audio/SoundClip.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var SoundClipType;
(function (SoundClipType) {
    SoundClipType[SoundClipType["none"] = 0] = "none";
    SoundClipType[SoundClipType["kill1"] = 1] = "kill1";
    SoundClipType[SoundClipType["kill2"] = 2] = "kill2";
    SoundClipType[SoundClipType["kill3"] = 3] = "kill3";
    SoundClipType[SoundClipType["kill4"] = 4] = "kill4";
    SoundClipType[SoundClipType["kill5"] = 5] = "kill5";
    SoundClipType[SoundClipType["kill6"] = 6] = "kill6";
    SoundClipType[SoundClipType["kill7"] = 7] = "kill7";
    SoundClipType[SoundClipType["killMam"] = 8] = "killMam";
    SoundClipType[SoundClipType["pick"] = 9] = "pick";
    SoundClipType[SoundClipType["kfhit"] = 10] = "kfhit";
    SoundClipType[SoundClipType["dida"] = 11] = "dida";
    SoundClipType[SoundClipType["blackhole"] = 12] = "blackhole";
    SoundClipType[SoundClipType["victory"] = 13] = "victory";
    SoundClipType[SoundClipType["fail"] = 14] = "fail";
})(SoundClipType = exports.SoundClipType || (exports.SoundClipType = {}));
var SoundClip = /** @class */ (function (_super) {
    __extends(SoundClip, _super);
    function SoundClip() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.clipName = "";
        _this.type = SoundClipType.none;
        _this.clip = null;
        return _this;
    }
    __decorate([
        property(cc.String)
    ], SoundClip.prototype, "clipName", void 0);
    __decorate([
        property({ type: cc.Enum(SoundClipType) })
    ], SoundClip.prototype, "type", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], SoundClip.prototype, "clip", void 0);
    SoundClip = __decorate([
        ccclass
    ], SoundClip);
    return SoundClip;
}(cc.Component));
exports.default = SoundClip;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxhdWRpb1xcU291bmRDbGlwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDLElBQVksYUFrQlg7QUFsQkQsV0FBWSxhQUFhO0lBRXJCLGlEQUFRLENBQUE7SUFDUixtREFBSyxDQUFBO0lBQ0wsbURBQUssQ0FBQTtJQUNMLG1EQUFLLENBQUE7SUFDTCxtREFBSyxDQUFBO0lBQ0wsbURBQUssQ0FBQTtJQUNMLG1EQUFLLENBQUE7SUFDTCxtREFBSyxDQUFBO0lBQ0wsdURBQU8sQ0FBQTtJQUNQLGlEQUFJLENBQUE7SUFDSixvREFBSyxDQUFBO0lBQ0wsa0RBQUksQ0FBQTtJQUNKLDREQUFTLENBQUE7SUFDVCx3REFBTyxDQUFBO0lBQ1Asa0RBQUksQ0FBQTtBQUVSLENBQUMsRUFsQlcsYUFBYSxHQUFiLHFCQUFhLEtBQWIscUJBQWEsUUFrQnhCO0FBR0Q7SUFBdUMsNkJBQVk7SUFEbkQ7UUFBQSxxRUFZQztRQVJVLGNBQVEsR0FBVSxFQUFFLENBQUM7UUFHckIsVUFBSSxHQUFpQixhQUFhLENBQUMsSUFBSSxDQUFDO1FBR3hDLFVBQUksR0FBZ0IsSUFBSSxDQUFDOztJQUVwQyxDQUFDO0lBUkc7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzsrQ0FDUTtJQUc1QjtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFDLENBQUM7MkNBQ087SUFHL0M7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUMsRUFBRSxDQUFDLFNBQVMsRUFBQyxDQUFDOzJDQUNFO0lBVGYsU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQVc3QjtJQUFELGdCQUFDO0NBWEQsQUFXQyxDQVhzQyxFQUFFLENBQUMsU0FBUyxHQVdsRDtrQkFYb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5cclxuZXhwb3J0IGVudW0gU291bmRDbGlwVHlwZVxyXG57XHJcbiAgICBub25lID0gMCxcclxuICAgIGtpbGwxLFxyXG4gICAga2lsbDIsXHJcbiAgICBraWxsMyxcclxuICAgIGtpbGw0LFxyXG4gICAga2lsbDUsXHJcbiAgICBraWxsNixcclxuICAgIGtpbGw3LFxyXG4gICAga2lsbE1hbSxcclxuICAgIHBpY2ssXHJcbiAgICBrZmhpdCxcclxuICAgIGRpZGEsXHJcbiAgICBibGFja2hvbGUsXHJcbiAgICB2aWN0b3J5LFxyXG4gICAgZmFpbCxcclxuXHJcbn1cclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNvdW5kQ2xpcCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlN0cmluZylcclxuICAgIHB1YmxpYyBjbGlwTmFtZTpzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5FbnVtKFNvdW5kQ2xpcFR5cGUpfSlcclxuICAgIHB1YmxpYyB0eXBlOlNvdW5kQ2xpcFR5cGUgPSBTb3VuZENsaXBUeXBlLm5vbmU7XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLkF1ZGlvQ2xpcH0pXHJcbiAgICBwdWJsaWMgY2xpcDpjYy5BdWRpb0NsaXAgPSBudWxsO1xyXG4gICAgIFxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/message/MessageUI.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6990fZxq6hHgIdL4yLKxT0s', 'MessageUI');
// script/tscript/ui/message/MessageUI.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BaseUI_1 = require("../base/BaseUI");
var SoundClip_1 = require("../../audio/SoundClip");
var SoundManager_1 = require("../../core/SoundManager");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var MessageUI = /** @class */ (function (_super) {
    __extends(MessageUI, _super);
    function MessageUI() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.killerNameTxt = null;
        _this.dieManTxt = null;
        _this.jisha = null;
        _this.jishaArr = [];
        _this.bg = null;
        _this.killAcount = null;
        // LIFE-CYCLE CALLBACKS:
        //private killMsgArr:string[] = ["","双杀","三杀","四杀","五杀","六杀","七杀","八杀","九杀","十杀"];
        _this.soundClipTypes = [
            SoundClip_1.SoundClipType.kill1,
            SoundClip_1.SoundClipType.kill1,
            SoundClip_1.SoundClipType.kill1,
            SoundClip_1.SoundClipType.kill1,
            SoundClip_1.SoundClipType.kill5,
            SoundClip_1.SoundClipType.kill6,
            SoundClip_1.SoundClipType.kill7
        ];
        return _this;
    }
    //onLoad () {}
    MessageUI.prototype.start = function () {
        //var renderTexture = new cc.RenderTexture()
    };
    // update (dt) {}
    MessageUI.prototype.showMessage = function (killer, dieMan) {
        var _this = this;
        if (killer.isAI)
            return;
        this.unscheduleAllCallbacks();
        this.killerNameTxt.string = killer.getName();
        this.dieManTxt.string = dieMan.getName();
        this.bg.node.color = killer.body.node.color;
        if (!killer.isAI) {
            this.killAcount.active = true;
            this.jisha.spriteFrame = this.jishaArr[killer.killCount - 1];
            SoundManager_1.default.instance.playAudioClip(this.soundClipTypes[killer.killCount - 1]);
        }
        else {
            this.killAcount.active = false;
        }
        this.open();
        this.scheduleOnce(function () {
            _this.close();
        }, 1);
    };
    __decorate([
        property(cc.Label)
    ], MessageUI.prototype, "killerNameTxt", void 0);
    __decorate([
        property(cc.Label)
    ], MessageUI.prototype, "dieManTxt", void 0);
    __decorate([
        property(cc.Sprite)
    ], MessageUI.prototype, "jisha", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], MessageUI.prototype, "jishaArr", void 0);
    __decorate([
        property(cc.Sprite)
    ], MessageUI.prototype, "bg", void 0);
    __decorate([
        property(cc.Node)
    ], MessageUI.prototype, "killAcount", void 0);
    MessageUI = __decorate([
        ccclass
    ], MessageUI);
    return MessageUI;
}(BaseUI_1.default));
exports.default = MessageUI;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcbWVzc2FnZVxcTWVzc2FnZVVJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx5Q0FBb0M7QUFFcEMsbURBQXNEO0FBQ3RELHdEQUFtRDtBQUVuRCxvQkFBb0I7QUFDcEIsa0ZBQWtGO0FBQ2xGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQXVDLDZCQUFNO0lBRDdDO1FBQUEscUVBeUVDO1FBckVHLG1CQUFhLEdBQWEsSUFBSSxDQUFDO1FBRy9CLGVBQVMsR0FBYSxJQUFJLENBQUM7UUFHM0IsV0FBSyxHQUFjLElBQUksQ0FBQztRQUd4QixjQUFRLEdBQXFCLEVBQUUsQ0FBQztRQUloQyxRQUFFLEdBQWMsSUFBSSxDQUFDO1FBR3JCLGdCQUFVLEdBQVksSUFBSSxDQUFDO1FBRTNCLHdCQUF3QjtRQUV4QixrRkFBa0Y7UUFDMUUsb0JBQWMsR0FBbUI7WUFDckMseUJBQWEsQ0FBQyxLQUFLO1lBQ25CLHlCQUFhLENBQUMsS0FBSztZQUNuQix5QkFBYSxDQUFDLEtBQUs7WUFDbkIseUJBQWEsQ0FBQyxLQUFLO1lBQ25CLHlCQUFhLENBQUMsS0FBSztZQUNuQix5QkFBYSxDQUFDLEtBQUs7WUFDbkIseUJBQWEsQ0FBQyxLQUFLO1NBQ3RCLENBQUE7O0lBd0NMLENBQUM7SUF0Q0csY0FBYztJQUVkLHlCQUFLLEdBQUw7UUFDSSw0Q0FBNEM7SUFDaEQsQ0FBQztJQUVELGlCQUFpQjtJQUVWLCtCQUFXLEdBQWxCLFVBQW1CLE1BQWEsRUFBQyxNQUFhO1FBQTlDLGlCQTRCQztRQTFCRyxJQUFHLE1BQU0sQ0FBQyxJQUFJO1lBQ2QsT0FBTztRQUNQLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1FBRTlCLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUM3QyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7UUFFekMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUU1QyxJQUFHLENBQUMsTUFBTSxDQUFDLElBQUksRUFDZjtZQUNJLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUU5QixJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFFN0Qsc0JBQVksQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2xGO2FBQ0Q7WUFDSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7U0FDbEM7UUFFRCxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDWixJQUFJLENBQUMsWUFBWSxDQUFDO1lBRWQsS0FBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2pCLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztJQUNULENBQUM7SUFuRUQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztvREFDWTtJQUcvQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2dEQUNRO0lBRzNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7NENBQ0k7SUFHeEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzsrQ0FDTztJQUloQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3lDQUNDO0lBR3JCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7aURBQ1M7SUFuQlYsU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQXdFN0I7SUFBRCxnQkFBQztDQXhFRCxBQXdFQyxDQXhFc0MsZ0JBQU0sR0F3RTVDO2tCQXhFb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCYXNlVUkgZnJvbSBcIi4uL2Jhc2UvQmFzZVVJXCI7XHJcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4uLy4uL2dhbWVzY2VuZS9QbGF5ZXJcIjtcclxuaW1wb3J0IHsgU291bmRDbGlwVHlwZSB9IGZyb20gXCIuLi8uLi9hdWRpby9Tb3VuZENsaXBcIjtcclxuaW1wb3J0IFNvdW5kTWFuYWdlciBmcm9tIFwiLi4vLi4vY29yZS9Tb3VuZE1hbmFnZXJcIjtcclxuXHJcbi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZXNzYWdlVUkgZXh0ZW5kcyBCYXNlVUkge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGtpbGxlck5hbWVUeHQ6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBkaWVNYW5UeHQ6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgamlzaGE6IGNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZUZyYW1lKVxyXG4gICAgamlzaGFBcnI6IGNjLlNwcml0ZUZyYW1lW10gPSBbXTtcclxuICAgIFxyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBiZzogY2MuU3ByaXRlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGtpbGxBY291bnQ6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIC8vcHJpdmF0ZSBraWxsTXNnQXJyOnN0cmluZ1tdID0gW1wiXCIsXCLlj4zmnYBcIixcIuS4ieadgFwiLFwi5Zub5p2AXCIsXCLkupTmnYBcIixcIuWFreadgFwiLFwi5LiD5p2AXCIsXCLlhavmnYBcIixcIuS5neadgFwiLFwi5Y2B5p2AXCJdO1xyXG4gICAgcHJpdmF0ZSBzb3VuZENsaXBUeXBlczpTb3VuZENsaXBUeXBlW10gPSBbXHJcbiAgICAgICAgU291bmRDbGlwVHlwZS5raWxsMSxcclxuICAgICAgICBTb3VuZENsaXBUeXBlLmtpbGwxLFxyXG4gICAgICAgIFNvdW5kQ2xpcFR5cGUua2lsbDEsXHJcbiAgICAgICAgU291bmRDbGlwVHlwZS5raWxsMSxcclxuICAgICAgICBTb3VuZENsaXBUeXBlLmtpbGw1LFxyXG4gICAgICAgIFNvdW5kQ2xpcFR5cGUua2lsbDYsXHJcbiAgICAgICAgU291bmRDbGlwVHlwZS5raWxsN1xyXG4gICAgXVxyXG5cclxuICAgIC8vb25Mb2FkICgpIHt9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG4gICAgICAgIC8vdmFyIHJlbmRlclRleHR1cmUgPSBuZXcgY2MuUmVuZGVyVGV4dHVyZSgpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxuXHJcbiAgICBwdWJsaWMgc2hvd01lc3NhZ2Uoa2lsbGVyOlBsYXllcixkaWVNYW46UGxheWVyKVxyXG4gICAge1xyXG4gICAgICAgIGlmKGtpbGxlci5pc0FJKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLnVuc2NoZWR1bGVBbGxDYWxsYmFja3MoKTtcclxuXHJcbiAgICAgICAgdGhpcy5raWxsZXJOYW1lVHh0LnN0cmluZyA9IGtpbGxlci5nZXROYW1lKCk7XHJcbiAgICAgICAgdGhpcy5kaWVNYW5UeHQuc3RyaW5nID0gZGllTWFuLmdldE5hbWUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5iZy5ub2RlLmNvbG9yID0ga2lsbGVyLmJvZHkubm9kZS5jb2xvcjtcclxuXHJcbiAgICAgICAgaWYoIWtpbGxlci5pc0FJKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5raWxsQWNvdW50LmFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmppc2hhLnNwcml0ZUZyYW1lID0gdGhpcy5qaXNoYUFycltraWxsZXIua2lsbENvdW50IC0gMV07XHJcblxyXG4gICAgICAgICAgICBTb3VuZE1hbmFnZXIuaW5zdGFuY2UucGxheUF1ZGlvQ2xpcCh0aGlzLnNvdW5kQ2xpcFR5cGVzW2tpbGxlci5raWxsQ291bnQgLSAxXSk7XHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMua2lsbEFjb3VudC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMub3BlbigpO1xyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9LDEpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/selector/SelectItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '38be4b5v19JL5N+84whw5uc', 'SelectItem');
// script/tscript/ui/selector/SelectItem.ts

Object.defineProperty(exports, "__esModule", { value: true });
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var SelectItem = /** @class */ (function (_super) {
    __extends(SelectItem, _super);
    function SelectItem() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    //@property(cc.Label)
    //titleTxt: cc.Label = null;
    //@property(cc.String)
    //public levelMax:number = 0;
    //@property(cc.String)
    //public levelMix:number = 0;
    SelectItem.prototype.start = function () {
        /*this.titleTxt.string = this.levelMax + "-" + this.levelMix;

        this.node.on(cc.Node.EventType.TOUCH_START,(event)=>{
            GameScene.levelMax = this.levelMax;
            GameScene.levelMin = this.levelMix;
            cc.director.loadScene("level" + this.levelMax + "-" + this.levelMix);
        });*/
    };
    SelectItem = __decorate([
        ccclass
    ], SelectItem);
    return SelectItem;
}(cc.Component));
exports.default = SelectItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcc2VsZWN0b3JcXFNlbGVjdEl0ZW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUVBLG9CQUFvQjtBQUNwQixrRkFBa0Y7QUFDbEYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5Qiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBRTdGLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFHMUM7SUFBd0MsOEJBQVk7SUFBcEQ7O0lBd0JBLENBQUM7SUF0QkcscUJBQXFCO0lBQ3JCLDRCQUE0QjtJQUU1QixzQkFBc0I7SUFDdEIsNkJBQTZCO0lBRTdCLHNCQUFzQjtJQUN0Qiw2QkFBNkI7SUFFN0IsMEJBQUssR0FBTDtRQUVJOzs7Ozs7YUFNSztJQUVULENBQUM7SUFyQmdCLFVBQVU7UUFEOUIsT0FBTztPQUNhLFVBQVUsQ0F3QjlCO0lBQUQsaUJBQUM7Q0F4QkQsQUF3QkMsQ0F4QnVDLEVBQUUsQ0FBQyxTQUFTLEdBd0JuRDtrQkF4Qm9CLFVBQVUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgR2FtZVNjZW5lIGZyb20gXCIuLi8uLi9nYW1lc2NlbmUvR2FtZVNjZW5lXCI7XHJcblxyXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VsZWN0SXRlbSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgLy9AcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICAvL3RpdGxlVHh0OiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgLy9AcHJvcGVydHkoY2MuU3RyaW5nKVxyXG4gICAgLy9wdWJsaWMgbGV2ZWxNYXg6bnVtYmVyID0gMDtcclxuXHJcbiAgICAvL0Bwcm9wZXJ0eShjYy5TdHJpbmcpXHJcbiAgICAvL3B1YmxpYyBsZXZlbE1peDpudW1iZXIgPSAwO1xyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuXHJcbiAgICAgICAgLyp0aGlzLnRpdGxlVHh0LnN0cmluZyA9IHRoaXMubGV2ZWxNYXggKyBcIi1cIiArIHRoaXMubGV2ZWxNaXg7XHJcblxyXG4gICAgICAgIHRoaXMubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCwoZXZlbnQpPT57XHJcbiAgICAgICAgICAgIEdhbWVTY2VuZS5sZXZlbE1heCA9IHRoaXMubGV2ZWxNYXg7XHJcbiAgICAgICAgICAgIEdhbWVTY2VuZS5sZXZlbE1pbiA9IHRoaXMubGV2ZWxNaXg7XHJcbiAgICAgICAgICAgIGNjLmRpcmVjdG9yLmxvYWRTY2VuZShcImxldmVsXCIgKyB0aGlzLmxldmVsTWF4ICsgXCItXCIgKyB0aGlzLmxldmVsTWl4KTtcclxuICAgICAgICB9KTsqL1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/Launch.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a2ba48HWfxEZ4M3U/wR+iUC', 'Launch');
// script/tscript/Launch.ts

// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Launch = /** @class */ (function (_super) {
    __extends(Launch, _super);
    function Launch() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    Launch.prototype.start = function () {
        cc.director.loadScene("main");
    };
    Launch = __decorate([
        ccclass
    ], Launch);
    return Launch;
}(cc.Component));
exports.default = Launch;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxMYXVuY2gudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGtGQUFrRjtBQUNsRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDRGQUE0RjtBQUM1RixtR0FBbUc7O0FBRTdGLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFHMUM7SUFBb0MsMEJBQVk7SUFBaEQ7O0lBWUEsQ0FBQztJQVRHLHdCQUF3QjtJQUV4QixlQUFlO0lBRWYsc0JBQUssR0FBTDtRQUNJLEVBQUUsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFUZ0IsTUFBTTtRQUQxQixPQUFPO09BQ2EsTUFBTSxDQVkxQjtJQUFELGFBQUM7Q0FaRCxBQVlDLENBWm1DLEVBQUUsQ0FBQyxTQUFTLEdBWS9DO2tCQVpvQixNQUFNIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExhdW5jaCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICBcclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIC8vIG9uTG9hZCAoKSB7fVxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoXCJtYWluXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/configdata/AccountRankData.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '666aaXNp7xB7ZLQANDqL93H', 'AccountRankData');
// script/tscript/configdata/AccountRankData.ts

// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var AccountRankData = /** @class */ (function () {
    function AccountRankData() {
        this.id = 0;
        this.level = 0;
        this.rank = 0;
        this.reward = 0;
    }
    return AccountRankData;
}());
exports.default = AccountRankData;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxjb25maWdkYXRhXFxBY2NvdW50UmFua0RhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGtGQUFrRjtBQUNsRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDRGQUE0RjtBQUM1RixtR0FBbUc7O0FBR25HO0lBQUE7UUFHVyxPQUFFLEdBQVUsQ0FBQyxDQUFDO1FBRWQsVUFBSyxHQUFVLENBQUMsQ0FBQztRQUVqQixTQUFJLEdBQVUsQ0FBQyxDQUFDO1FBRWhCLFdBQU0sR0FBVSxDQUFDLENBQUM7SUFFN0IsQ0FBQztJQUFELHNCQUFDO0FBQUQsQ0FYQSxBQVdDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY2NvdW50UmFua0RhdGEgXHJcbntcclxuXHJcbiAgICBwdWJsaWMgaWQ6bnVtYmVyID0gMDtcclxuXHJcbiAgICBwdWJsaWMgbGV2ZWw6bnVtYmVyID0gMDtcclxuXHJcbiAgICBwdWJsaWMgcmFuazpudW1iZXIgPSAwO1xyXG5cclxuICAgIHB1YmxpYyByZXdhcmQ6bnVtYmVyID0gMDtcclxuICAgXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/configdata/LevelConfigData.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2ba317HCg9Gor8PkV4RXy62', 'LevelConfigData');
// script/tscript/configdata/LevelConfigData.ts

// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var LevelConfigData = /** @class */ (function () {
    function LevelConfigData() {
        this.id = 1;
        this.name = "";
        this.level = 0;
        this.uplevel = 0;
        this.stars = 0;
        this.meteor = "";
        this.movMeteor = "";
        this.blackHole = 0;
        this.speedUp = "";
        this.hotWheels = "";
        this.magnet = "";
        this.newContent = "";
        this.contentType = 0;
        this.ailv1 = 0;
        this.ailv2 = 0;
        this.ailv3 = 0;
        this.ailv4 = 0;
    }
    return LevelConfigData;
}());
exports.default = LevelConfigData;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxjb25maWdkYXRhXFxMZXZlbENvbmZpZ0RhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGtGQUFrRjtBQUNsRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDRGQUE0RjtBQUM1RixtR0FBbUc7O0FBR25HO0lBQUE7UUFFVyxPQUFFLEdBQVUsQ0FBQyxDQUFDO1FBRWQsU0FBSSxHQUFVLEVBQUUsQ0FBQztRQUVqQixVQUFLLEdBQVUsQ0FBQyxDQUFDO1FBRWpCLFlBQU8sR0FBVSxDQUFDLENBQUM7UUFFbkIsVUFBSyxHQUFVLENBQUMsQ0FBQztRQUVqQixXQUFNLEdBQVUsRUFBRSxDQUFDO1FBRW5CLGNBQVMsR0FBVSxFQUFFLENBQUM7UUFFdEIsY0FBUyxHQUFVLENBQUMsQ0FBQztRQUVyQixZQUFPLEdBQVUsRUFBRSxDQUFDO1FBRXBCLGNBQVMsR0FBVSxFQUFFLENBQUM7UUFFdEIsV0FBTSxHQUFVLEVBQUUsQ0FBQztRQUVuQixlQUFVLEdBQVUsRUFBRSxDQUFDO1FBRXZCLGdCQUFXLEdBQVUsQ0FBQyxDQUFDO1FBRXZCLFVBQUssR0FBVSxDQUFDLENBQUM7UUFFakIsVUFBSyxHQUFVLENBQUMsQ0FBQztRQUVqQixVQUFLLEdBQVUsQ0FBQyxDQUFDO1FBRWpCLFVBQUssR0FBVSxDQUFDLENBQUM7SUFHNUIsQ0FBQztJQUFELHNCQUFDO0FBQUQsQ0FyQ0EsQUFxQ0MsSUFBQSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExldmVsQ29uZmlnRGF0YSB7XHJcblxyXG4gICAgcHVibGljIGlkOm51bWJlciA9IDE7XHJcblxyXG4gICAgcHVibGljIG5hbWU6c3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICBwdWJsaWMgbGV2ZWw6bnVtYmVyID0gMDtcclxuXHJcbiAgICBwdWJsaWMgdXBsZXZlbDpudW1iZXIgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBzdGFyczpudW1iZXIgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBtZXRlb3I6c3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICBwdWJsaWMgbW92TWV0ZW9yOnN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgcHVibGljIGJsYWNrSG9sZTpudW1iZXIgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBzcGVlZFVwOnN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgcHVibGljIGhvdFdoZWVsczpzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgIHB1YmxpYyBtYWduZXQ6c3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICBwdWJsaWMgbmV3Q29udGVudDpzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgIHB1YmxpYyBjb250ZW50VHlwZTpudW1iZXIgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBhaWx2MTpudW1iZXIgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBhaWx2MjpudW1iZXIgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBhaWx2MzpudW1iZXIgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBhaWx2NDpudW1iZXIgPSAwO1xyXG5cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/Test.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '08f3f9Pjx5N+bZJdn6QAZZv', 'Test');
// script/tscript/Test.ts

Object.defineProperty(exports, "__esModule", { value: true });
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Test = /** @class */ (function (_super) {
    __extends(Test, _super);
    function Test() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.tex = null;
        _this.tail = null;
        return _this;
    }
    Test.prototype.start = function () {
    };
    Test.prototype.update = function (dt) {
        this.tail.x += 100 * dt;
    };
    __decorate([
        property({ type: cc.Texture2D })
    ], Test.prototype, "tex", void 0);
    __decorate([
        property(cc.Node)
    ], Test.prototype, "tail", void 0);
    Test = __decorate([
        ccclass
    ], Test);
    return Test;
}(cc.Component));
exports.default = Test;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxUZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxvQkFBb0I7QUFDcEIsa0ZBQWtGO0FBQ2xGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQWtDLHdCQUFZO0lBRDlDO1FBQUEscUVBbUJDO1FBZFcsU0FBRyxHQUFnQixJQUFJLENBQUM7UUFHeEIsVUFBSSxHQUFXLElBQUksQ0FBQzs7SUFXaEMsQ0FBQztJQVRHLG9CQUFLLEdBQUw7SUFHQSxDQUFDO0lBRUEscUJBQU0sR0FBTixVQUFRLEVBQUU7UUFFTixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFiRjtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBQyxFQUFFLENBQUMsU0FBUyxFQUFDLENBQUM7cUNBQ0U7SUFHaEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztzQ0FDVTtJQVBYLElBQUk7UUFEeEIsT0FBTztPQUNhLElBQUksQ0FrQnhCO0lBQUQsV0FBQztDQWxCRCxBQWtCQyxDQWxCaUMsRUFBRSxDQUFDLFNBQVMsR0FrQjdDO2tCQWxCb0IsSUFBSSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZXNvdXJjZXNNYW5hZ2VyIGZyb20gXCIuL2NvcmUvUmVzb3VyY2VzTWFuYWdlclwiO1xyXG5cclxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlc3QgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIFxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLlRleHR1cmUyRH0pXHJcbiAgICBwcml2YXRlIHRleDpjYy5UZXh0dXJlMkQgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgcHJpdmF0ZSB0YWlsOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuICAgICAgICBcclxuXHJcbiAgICB9XHJcblxyXG4gICAgIHVwZGF0ZSAoZHQpIFxyXG4gICAgIHtcclxuICAgICAgICAgdGhpcy50YWlsLnggKz0gMTAwICogZHQ7XHJcbiAgICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/core/SoundManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '61ea7gw6m5BUoE3mKLIxlki', 'SoundManager');
// script/tscript/core/SoundManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
var SoundClip_1 = require("../audio/SoundClip");
var BgSoundClip_1 = require("../audio/BgSoundClip");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var SoundManager = /** @class */ (function (_super) {
    __extends(SoundManager, _super);
    function SoundManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.bgAS = null;
        /// <summary>
        /// 背景声音
        /// </summary>
        //@property(BgSoundClip)
        //public bgSoundClips:BgSoundClip[] = [];
        _this.bgSoundSrc = null;
        _this.bgSoundDic = {};
        _this.soundSrc = null;
        _this.soundDic = {};
        _this.lastBgSound = BgSoundClip_1.BgSoundClipType.none;
        _this.mute = false;
        return _this;
        // update (dt) {}
    }
    SoundManager_1 = SoundManager;
    Object.defineProperty(SoundManager, "instance", {
        get: function () {
            if (this._instance == null) {
                /*cc.loader.loadRes("prefab/SoundManager",cc.Prefab,(err,prefab)=>{
                    var node:cc.Node = cc.instantiate(prefab);
                    this._instance = node.getComponent(SoundManager);
                });*/
                //this._instance = new SoundManager();
                //this._instance.init();
            }
            return SoundManager_1._instance;
        },
        enumerable: true,
        configurable: true
    });
    SoundManager.prototype.onLoad = function () {
        if (!SoundManager_1._instance) {
            SoundManager_1._instance = this;
            cc.game.addPersistRootNode(this.node);
            this.init();
        }
        else {
            this.node.destroy();
        }
    };
    SoundManager.prototype.init = function () {
        var children = this.bgSoundSrc.children;
        for (var i = 0; i < children.length; i++) {
            var bgSoundClip = children[i].getComponent(BgSoundClip_1.default);
            this.bgSoundDic[bgSoundClip.type] = bgSoundClip;
        }
        children = this.soundSrc.children;
        for (var i = 0; i < children.length; i++) {
            var soundClip = children[i].getComponent(SoundClip_1.default);
            this.soundDic[soundClip.type] = soundClip;
        }
    };
    SoundManager.prototype.pause = function () {
        this.mute = true;
        cc.audioEngine.pauseAll();
        this.bgAS.pause();
    };
    SoundManager.prototype.resume = function () {
        this.mute = false;
        cc.audioEngine.resumeAll();
        this.bgAS.resume();
    };
    SoundManager.prototype.PlayBGSound = function (type, loop) {
        if (loop === void 0) { loop = true; }
        if (this.lastBgSound == BgSoundClip_1.BgSoundClipType.none)
            this.lastBgSound = type;
        this.bgAS.stop();
        this.bgAS.loop = loop;
        this.bgAS.clip = this.getBGSoundClip(type);
        if (!this.mute) {
            this.bgAS.play();
        }
    };
    SoundManager.prototype.getBGSoundClip = function (type) {
        if (this.bgSoundDic[type]) {
            return this.bgSoundDic[type].clip;
        }
        else {
            cc.log("不存在背景声音源 ", BgSoundClip_1.BgSoundClipType[type]);
            return null;
        }
    };
    SoundManager.prototype.playAudioClip = function (type) {
        if (this.mute) {
            return;
        }
        var name = SoundClip_1.SoundClipType[type];
        var clip = this.getSoundClip(type);
        if (clip != null) {
            cc.audioEngine.play(clip, false, 1);
        }
        else {
            cc.log("找不到资源id为 ", type, " PlayOtherSound声音配置");
        }
        //
    };
    SoundManager.prototype.getSoundClip = function (type) {
        if (this.soundDic[type]) {
            return this.soundDic[type].clip;
        }
        else {
            cc.log("不存在该种声音源 " + SoundClip_1.SoundClipType[type]);
            return null;
        }
    };
    var SoundManager_1;
    __decorate([
        property(cc.AudioSource)
    ], SoundManager.prototype, "bgAS", void 0);
    __decorate([
        property(cc.Node)
    ], SoundManager.prototype, "bgSoundSrc", void 0);
    __decorate([
        property(cc.Node)
    ], SoundManager.prototype, "soundSrc", void 0);
    SoundManager = SoundManager_1 = __decorate([
        ccclass
    ], SoundManager);
    return SoundManager;
}(cc.Component));
exports.default = SoundManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxjb3JlXFxTb3VuZE1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGdEQUE4RDtBQUM5RCxvREFBb0U7QUFHcEUsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFFN0YsSUFBQSxrQkFBbUMsRUFBbEMsb0JBQU8sRUFBRSxzQkFBeUIsQ0FBQztBQUcxQztJQUEwQyxnQ0FBWTtJQUR0RDtRQUFBLHFFQW9KQztRQWxJVyxVQUFJLEdBQWtCLElBQUksQ0FBQztRQUluQyxhQUFhO1FBQ2IsUUFBUTtRQUNSLGNBQWM7UUFDZCx3QkFBd0I7UUFDeEIseUNBQXlDO1FBRWpDLGdCQUFVLEdBQVcsSUFBSSxDQUFDO1FBQzFCLGdCQUFVLEdBQThCLEVBQUUsQ0FBQztRQUczQyxjQUFRLEdBQVcsSUFBSSxDQUFDO1FBQ3hCLGNBQVEsR0FBNEIsRUFBRSxDQUFDO1FBRXZDLGlCQUFXLEdBQW1CLDZCQUFlLENBQUMsSUFBSSxDQUFDO1FBRW5ELFVBQUksR0FBVyxLQUFLLENBQUM7O1FBOEc3QixpQkFBaUI7SUFDckIsQ0FBQztxQkFuSm9CLFlBQVk7SUFHN0Isc0JBQWtCLHdCQUFRO2FBQTFCO1lBQ0ksSUFBRyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksRUFDekI7Z0JBQ0k7OztxQkFHSztnQkFDTCxzQ0FBc0M7Z0JBQ3RDLHdCQUF3QjthQUMzQjtZQUNELE9BQU8sY0FBWSxDQUFDLFNBQVMsQ0FBQztRQUNsQyxDQUFDOzs7T0FBQTtJQXdCRCw2QkFBTSxHQUFOO1FBRUksSUFBRyxDQUFDLGNBQVksQ0FBQyxTQUFTLEVBQzFCO1lBQ0ksY0FBWSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7WUFDOUIsRUFBRSxDQUFDLElB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QUFDLENBQUM7UUFFaEQsSUFBSSxJQUFJLElBQUksSUFBSSxFQUNoQjtZQUNJLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksRUFBQyxLQUFLLEVBQUMsQ0FBQyxDQUFDLENBQUM7U0FDckM7YUFFRDtZQUNJLEVBQUUsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFHLElBQUksRUFBRyxxQkFBcUIsQ0FBQyxDQUFDO1NBQ3REO1FBQ0QsRUFBRTtJQUNOLENBQUM7SUFFTSxtQ0FBWSxHQUFuQixVQUFvQixJQUFrQjtRQUVsQyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQ3ZCO1lBQ0ksT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQztTQUNuQzthQUVEO1lBQ0ksRUFBRSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcseUJBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQzFDLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7SUFDTCxDQUFDOztJQWhJRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDOzhDQUNVO0lBVW5DO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7b0RBQ2dCO0lBSWxDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7a0RBQ2M7SUEvQmYsWUFBWTtRQURoQyxPQUFPO09BQ2EsWUFBWSxDQW1KaEM7SUFBRCxtQkFBQztDQW5KRCxBQW1KQyxDQW5KeUMsRUFBRSxDQUFDLFNBQVMsR0FtSnJEO2tCQW5Kb0IsWUFBWSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTb3VuZENsaXAsIHsgU291bmRDbGlwVHlwZSB9IGZyb20gXCIuLi9hdWRpby9Tb3VuZENsaXBcIjtcclxuaW1wb3J0IEJnU291bmRDbGlwLCB7IEJnU291bmRDbGlwVHlwZSB9IGZyb20gXCIuLi9hdWRpby9CZ1NvdW5kQ2xpcFwiO1xyXG5cclxuXHJcbi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb3VuZE1hbmFnZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogU291bmRNYW5hZ2VyO1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKTogU291bmRNYW5hZ2VyIHtcclxuICAgICAgICBpZih0aGlzLl9pbnN0YW5jZSA9PSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLypjYy5sb2FkZXIubG9hZFJlcyhcInByZWZhYi9Tb3VuZE1hbmFnZXJcIixjYy5QcmVmYWIsKGVycixwcmVmYWIpPT57XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9kZTpjYy5Ob2RlID0gY2MuaW5zdGFudGlhdGUocHJlZmFiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbm9kZS5nZXRDb21wb25lbnQoU291bmRNYW5hZ2VyKTtcclxuICAgICAgICAgICAgfSk7Ki9cclxuICAgICAgICAgICAgLy90aGlzLl9pbnN0YW5jZSA9IG5ldyBTb3VuZE1hbmFnZXIoKTtcclxuICAgICAgICAgICAgLy90aGlzLl9pbnN0YW5jZS5pbml0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBTb3VuZE1hbmFnZXIuX2luc3RhbmNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBAcHJvcGVydHkoY2MuQXVkaW9Tb3VyY2UpXHJcbiAgICBwcml2YXRlIGJnQVM6Y2MuQXVkaW9Tb3VyY2UgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgYXVkaW9EaWM6e1trZXk6bnVtYmVyXTpjYy5BdWRpb0NsaXB9XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOiDjOaZr+WjsOmfs1xyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIC8vQHByb3BlcnR5KEJnU291bmRDbGlwKVxyXG4gICAgLy9wdWJsaWMgYmdTb3VuZENsaXBzOkJnU291bmRDbGlwW10gPSBbXTtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgcHJpdmF0ZSBiZ1NvdW5kU3JjOmNjLk5vZGUgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBiZ1NvdW5kRGljOntba2V5Om51bWJlcl06QmdTb3VuZENsaXB9ID0ge307XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBwcml2YXRlIHNvdW5kU3JjOmNjLk5vZGUgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBzb3VuZERpYzp7W2tleTpudW1iZXJdOlNvdW5kQ2xpcH0gPSB7fTtcclxuXHJcbiAgICBwcml2YXRlIGxhc3RCZ1NvdW5kOkJnU291bmRDbGlwVHlwZSA9IEJnU291bmRDbGlwVHlwZS5ub25lO1xyXG5cclxuICAgIHByaXZhdGUgbXV0ZTpib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgb25Mb2FkICgpIFxyXG4gICAge1xyXG4gICAgICAgIGlmKCFTb3VuZE1hbmFnZXIuX2luc3RhbmNlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgU291bmRNYW5hZ2VyLl9pbnN0YW5jZSA9IHRoaXM7XHJcbiAgICAgICAgICAgIGNjLmdhbWUuYWRkUGVyc2lzdFJvb3ROb2RlKHRoaXMubm9kZSk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGluaXQoKVxyXG4gICAge1xyXG4gICAgICAgIHZhciBjaGlsZHJlbjpjYy5Ob2RlW10gPSB0aGlzLmJnU291bmRTcmMuY2hpbGRyZW47XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBiZ1NvdW5kQ2xpcDpCZ1NvdW5kQ2xpcCA9IGNoaWxkcmVuW2ldLmdldENvbXBvbmVudChCZ1NvdW5kQ2xpcCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmdTb3VuZERpY1tiZ1NvdW5kQ2xpcC50eXBlXSA9IGJnU291bmRDbGlwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2hpbGRyZW4gPSB0aGlzLnNvdW5kU3JjLmNoaWxkcmVuO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgc291bmRDbGlwOlNvdW5kQ2xpcCA9IGNoaWxkcmVuW2ldLmdldENvbXBvbmVudChTb3VuZENsaXApO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kRGljW3NvdW5kQ2xpcC50eXBlXSA9IHNvdW5kQ2xpcDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBhdXNlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm11dGUgPSB0cnVlO1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnBhdXNlQWxsKCk7XHJcbiAgICAgICAgdGhpcy5iZ0FTLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlc3VtZSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5tdXRlID0gZmFsc2U7XHJcbiAgICAgICAgY2MuYXVkaW9FbmdpbmUucmVzdW1lQWxsKCk7XHJcbiAgICAgICAgdGhpcy5iZ0FTLnJlc3VtZSgpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgcHVibGljIFBsYXlCR1NvdW5kKHR5cGU6QmdTb3VuZENsaXBUeXBlLCBsb29wOmJvb2xlYW4gPSB0cnVlKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLmxhc3RCZ1NvdW5kID09IEJnU291bmRDbGlwVHlwZS5ub25lKVxyXG4gICAgICAgICAgICB0aGlzLmxhc3RCZ1NvdW5kID0gdHlwZTtcclxuICAgICAgICB0aGlzLmJnQVMuc3RvcCgpO1xyXG4gICAgICAgIHRoaXMuYmdBUy5sb29wID0gbG9vcDtcclxuICAgICAgICB0aGlzLmJnQVMuY2xpcCA9IHRoaXMuZ2V0QkdTb3VuZENsaXAodHlwZSk7XHJcbiAgICAgICAgaWYoIXRoaXMubXV0ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdBUy5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0QkdTb3VuZENsaXAodHlwZTpCZ1NvdW5kQ2xpcFR5cGUpOmNjLkF1ZGlvQ2xpcFxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLmJnU291bmREaWNbdHlwZV0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iZ1NvdW5kRGljW3R5cGVdLmNsaXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNjLmxvZyhcIuS4jeWtmOWcqOiDjOaZr+WjsOmfs+a6kCBcIiwgQmdTb3VuZENsaXBUeXBlW3R5cGVdKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5QXVkaW9DbGlwKHR5cGU6U291bmRDbGlwVHlwZSlcclxuICAgIHtcclxuXHJcbiAgICAgICAgaWYodGhpcy5tdXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG5hbWU6c3RyaW5nID0gU291bmRDbGlwVHlwZVt0eXBlXTtcclxuXHJcbiAgICAgICAgdmFyIGNsaXA6Y2MuQXVkaW9DbGlwID0gdGhpcy5nZXRTb3VuZENsaXAodHlwZSk7XHJcblxyXG4gICAgICAgIGlmIChjbGlwICE9IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5wbGF5KGNsaXAsZmFsc2UsMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNjLmxvZyhcIuaJvuS4jeWIsOi1hOa6kGlk5Li6IFwiICwgdHlwZSAsIFwiIFBsYXlPdGhlclNvdW5k5aOw6Z+z6YWN572uXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRTb3VuZENsaXAodHlwZTpTb3VuZENsaXBUeXBlKTpjYy5BdWRpb0NsaXBcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5zb3VuZERpY1t0eXBlXSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNvdW5kRGljW3R5cGVdLmNsaXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNjLmxvZyhcIuS4jeWtmOWcqOivpeenjeWjsOmfs+a6kCBcIiArIFNvdW5kQ2xpcFR5cGVbdHlwZV0pO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/core/DataStorage.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '68008FatJBC2oG9+1Dpf9RR', 'DataStorage');
// script/tscript/core/DataStorage.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DataStorage = /** @class */ (function () {
    function DataStorage() {
    }
    Object.defineProperty(DataStorage, "wx", {
        get: function () {
            if (!this._wx) {
                this._wx = window["wx"];
            }
            return this._wx;
        },
        enumerable: true,
        configurable: true
    });
    DataStorage.getItem = function (key, defaultValue) {
        if (defaultValue === void 0) { defaultValue = null; }
        var value = this.getStorage(key);
        if (!value)
            return defaultValue;
        return value;
    };
    DataStorage.getIntItem = function (key, defaultValue) {
        var value = parseInt(this.getStorage(key));
        if (!value)
            return defaultValue;
        return value;
    };
    DataStorage.getFloatItem = function (key, defaultValue) {
        var value = parseFloat(this.getStorage(key));
        if (!value)
            return defaultValue;
        return value;
    };
    DataStorage.setItem = function (key, value) {
        //wx.setStorage(Object object)
        //wx.setStorageSync
        this.setStorage(key, value);
    };
    DataStorage.getStorage = function (key) {
        if (this.wx) {
            return this.wx.getStorageSync(key);
        }
        return cc.sys.localStorage.getItem(key);
    };
    DataStorage.setStorage = function (key, value) {
        if (this.wx) {
            this.wx.setStorage({ key: key, data: value });
        }
        else {
            cc.sys.localStorage.setItem(key, value);
        }
    };
    DataStorage.removeItem = function (key) {
        return cc.sys.localStorage.removeItem(key);
    };
    DataStorage.clearStorage = function () {
        if (this.wx) {
            this.wx.clearStorage();
        }
    };
    DataStorage._wx = null;
    DataStorage = __decorate([
        ccclass
    ], DataStorage);
    return DataStorage;
}());
exports.default = DataStorage;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxjb3JlXFxEYXRhU3RvcmFnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRzs7QUFFN0YsSUFBQSxrQkFBbUMsRUFBbEMsb0JBQU8sRUFBRSxzQkFBeUIsQ0FBQztBQUcxQztJQUFBO0lBd0ZBLENBQUM7SUFyRkcsc0JBQWtCLGlCQUFFO2FBQXBCO1lBQ0ksSUFBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQ1o7Z0JBQ0ksSUFBSSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDM0I7WUFDRCxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUM7UUFDcEIsQ0FBQzs7O09BQUE7SUFHYSxtQkFBTyxHQUFyQixVQUFzQixHQUFVLEVBQUMsWUFBdUI7UUFBdkIsNkJBQUEsRUFBQSxtQkFBdUI7UUFFcEQsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVqQyxJQUFHLENBQUMsS0FBSztZQUNMLE9BQU8sWUFBWSxDQUFDO1FBRXhCLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFHYSxzQkFBVSxHQUF4QixVQUF5QixHQUFVLEVBQUMsWUFBbUI7UUFFbkQsSUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUUzQyxJQUFHLENBQUMsS0FBSztZQUNMLE9BQU8sWUFBWSxDQUFDO1FBRXhCLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFYSx3QkFBWSxHQUExQixVQUEyQixHQUFVLEVBQUMsWUFBbUI7UUFFckQsSUFBSSxLQUFLLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUU3QyxJQUFHLENBQUMsS0FBSztZQUNMLE9BQU8sWUFBWSxDQUFDO1FBRXhCLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFYSxtQkFBTyxHQUFyQixVQUFzQixHQUFVLEVBQUMsS0FBUztRQUd0Qyw4QkFBOEI7UUFDOUIsbUJBQW1CO1FBRW5CLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFDLEtBQUssQ0FBQyxDQUFDO0lBRS9CLENBQUM7SUFFYSxzQkFBVSxHQUF4QixVQUF5QixHQUFVO1FBRy9CLElBQUcsSUFBSSxDQUFDLEVBQUUsRUFDVjtZQUNJLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDdEM7UUFFRCxPQUFPLEVBQUUsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM1QyxDQUFDO0lBRWEsc0JBQVUsR0FBeEIsVUFBeUIsR0FBVSxFQUFDLEtBQVM7UUFFekMsSUFBRyxJQUFJLENBQUMsRUFBRSxFQUNWO1lBQ0ksSUFBSSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUMsQ0FBQyxDQUFDO1NBQy9DO2FBQ0Q7WUFDSSxFQUFFLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzFDO0lBQ0wsQ0FBQztJQUVhLHNCQUFVLEdBQXhCLFVBQXlCLEdBQVU7UUFFL0IsT0FBTyxFQUFFLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUVhLHdCQUFZLEdBQTFCO1FBRUksSUFBRyxJQUFJLENBQUMsRUFBRSxFQUNWO1lBQ0ksSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQztTQUMxQjtJQUNMLENBQUM7SUFwRmMsZUFBRyxHQUFRLElBQUksQ0FBQztJQUZkLFdBQVc7UUFEL0IsT0FBTztPQUNhLFdBQVcsQ0F3Ri9CO0lBQUQsa0JBQUM7Q0F4RkQsQUF3RkMsSUFBQTtrQkF4Rm9CLFdBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF0YVN0b3JhZ2UgIHtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfd3g6IGFueSA9IG51bGw7XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCB3eCgpOiBhbnkge1xyXG4gICAgICAgIGlmKCF0aGlzLl93eClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX3d4ID0gd2luZG93W1wid3hcIl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl93eDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRJdGVtKGtleTpzdHJpbmcsZGVmYXVsdFZhbHVlOmFueSA9IG51bGwpOmFueVxyXG4gICAge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0U3RvcmFnZShrZXkpO1xyXG5cclxuICAgICAgICBpZighdmFsdWUpXHJcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbnRJdGVtKGtleTpzdHJpbmcsZGVmYXVsdFZhbHVlOm51bWJlcik6bnVtYmVyXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gcGFyc2VJbnQodGhpcy5nZXRTdG9yYWdlKGtleSkpO1xyXG5cclxuICAgICAgICBpZighdmFsdWUpXHJcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEZsb2F0SXRlbShrZXk6c3RyaW5nLGRlZmF1bHRWYWx1ZTpudW1iZXIpOm51bWJlclxyXG4gICAge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlRmxvYXQodGhpcy5nZXRTdG9yYWdlKGtleSkpO1xyXG5cclxuICAgICAgICBpZighdmFsdWUpXHJcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldEl0ZW0oa2V5OnN0cmluZyx2YWx1ZTphbnkpXHJcbiAgICB7XHJcblxyXG4gICAgICAgIC8vd3guc2V0U3RvcmFnZShPYmplY3Qgb2JqZWN0KVxyXG4gICAgICAgIC8vd3guc2V0U3RvcmFnZVN5bmNcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdG9yYWdlKGtleSx2YWx1ZSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0U3RvcmFnZShrZXk6c3RyaW5nKTphbnlcclxuICAgIHtcclxuXHJcbiAgICAgICAgaWYodGhpcy53eClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnd4LmdldFN0b3JhZ2VTeW5jKGtleSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRTdG9yYWdlKGtleTpzdHJpbmcsdmFsdWU6YW55KTphbnlcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLnd4KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy53eC5zZXRTdG9yYWdlKHtrZXk6IGtleSwgZGF0YTogdmFsdWV9KTtcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSx2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVtb3ZlSXRlbShrZXk6c3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBjYy5zeXMubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNsZWFyU3RvcmFnZSgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy53eClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMud3guY2xlYXJTdG9yYWdlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/configdata/NameConfigData.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7975abLELpEKKAvwYKk7uxV', 'NameConfigData');
// script/tscript/configdata/NameConfigData.ts

// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var NameConfigData = /** @class */ (function () {
    function NameConfigData() {
        this.id = 1;
    }
    return NameConfigData;
}());
exports.default = NameConfigData;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxjb25maWdkYXRhXFxOYW1lQ29uZmlnRGF0YS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsa0ZBQWtGO0FBQ2xGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsNEZBQTRGO0FBQzVGLG1HQUFtRzs7QUFHbkc7SUFBQTtRQUVXLE9BQUUsR0FBVSxDQUFDLENBQUM7SUFJekIsQ0FBQztJQUFELHFCQUFDO0FBQUQsQ0FOQSxBQU1DLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYW1lQ29uZmlnRGF0YXtcclxuXHJcbiAgICBwdWJsaWMgaWQ6bnVtYmVyID0gMTtcclxuXHJcbiAgICBwdWJsaWMgbmFtZTpzdHJpbmcgO1xyXG4gXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/core/ResourcesPool.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '91bbdEQF+VFFaxnBCp51Gzy', 'ResourcesPool');
// script/tscript/core/ResourcesPool.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ResourcesPool = /** @class */ (function (_super) {
    __extends(ResourcesPool, _super);
    function ResourcesPool() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.trash = {};
        return _this;
    }
    ResourcesPool_1 = ResourcesPool;
    Object.defineProperty(ResourcesPool, "instance", {
        get: function () {
            if (this._instance == null) {
                this._instance = new ResourcesPool_1();
                this._instance.init();
                typeof (this);
            }
            return ResourcesPool_1._instance;
        },
        enumerable: true,
        configurable: true
    });
    ResourcesPool.prototype.init = function () {
    };
    ResourcesPool.prototype.put = function (recycle, len) {
        if (len === void 0) { len = 100; }
        var key = recycle.getKey();
        if (!this.trash[key]) {
            this.trash[key] = [];
        }
        if (this.trash[key].length < len) {
            recycle.sleep();
            this.trash[key].push(recycle);
        }
        else {
            if (recycle instanceof cc.Component) {
                recycle.node.destroy();
            }
            else if (recycle instanceof cc.Object) {
                recycle.destroy();
            }
            else {
            }
            //销毁
        }
    };
    ResourcesPool.prototype.get = function (type) {
        var key;
        if (typeof type === 'function') {
            //key = (<Function>type).name;
            key = type.name;
        }
        else {
            key = type;
        }
        if (!this.trash[key] || this.trash[key].length == 0)
            return null;
        var obj = this.trash[key].shift();
        obj.awake();
        return obj;
    };
    var ResourcesPool_1;
    ResourcesPool = ResourcesPool_1 = __decorate([
        ccclass
    ], ResourcesPool);
    return ResourcesPool;
}(cc.Component));
exports.default = ResourcesPool;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxjb3JlXFxSZXNvdXJjZXNQb29sLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUNBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQTJDLGlDQUFZO0lBRHZEO1FBQUEscUVBMkVDO1FBckVXLFdBQUssR0FBc0IsRUFBRSxDQUFDOztJQXFFMUMsQ0FBQztzQkExRW9CLGFBQWE7SUFPOUIsc0JBQWtCLHlCQUFRO2FBQTFCO1lBQ0ksSUFBRyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksRUFDekI7Z0JBQ0ksSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLGVBQWEsRUFBRSxDQUFDO2dCQUNyQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUV0QixPQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7YUFFaEI7WUFDRCxPQUFPLGVBQWEsQ0FBQyxTQUFTLENBQUM7UUFDbkMsQ0FBQzs7O09BQUE7SUFFTyw0QkFBSSxHQUFaO0lBR0EsQ0FBQztJQUVNLDJCQUFHLEdBQVYsVUFBVyxPQUFlLEVBQUMsR0FBZ0I7UUFBaEIsb0JBQUEsRUFBQSxTQUFnQjtRQUV2QyxJQUFJLEdBQUcsR0FBVSxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7UUFFbEMsSUFBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQ25CO1lBQ0ksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7U0FDeEI7UUFFRCxJQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsRUFDL0I7WUFDSSxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDaEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7U0FFakM7YUFDRDtZQUNJLElBQUcsT0FBTyxZQUFZLEVBQUUsQ0FBQyxTQUFTLEVBQ2xDO2dCQUNtQixPQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO2FBQzFDO2lCQUFLLElBQUcsT0FBTyxZQUFZLEVBQUUsQ0FBQyxNQUFNLEVBQ3JDO2dCQUNnQixPQUFRLENBQUMsT0FBTyxFQUFFLENBQUM7YUFDbEM7aUJBQ0Q7YUFDQztZQUNELElBQUk7U0FDUDtJQUNMLENBQUM7SUFFTSwyQkFBRyxHQUFWLFVBQThCLElBQXNCO1FBRWhELElBQUksR0FBRyxDQUFDO1FBRVIsSUFBRyxPQUFPLElBQUksS0FBSyxVQUFVLEVBQzdCO1lBQ0ksOEJBQThCO1lBQzlCLEdBQUcsR0FBUyxJQUFLLENBQUMsSUFBSSxDQUFDO1NBQzFCO2FBQ0Q7WUFDSSxHQUFHLEdBQVcsSUFBSSxDQUFDO1NBQ3RCO1FBRUQsSUFBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLElBQUksQ0FBQztZQUM5QyxPQUFPLElBQUksQ0FBQztRQUVoQixJQUFJLEdBQUcsR0FBSyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3BDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUVaLE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQzs7SUF6RWdCLGFBQWE7UUFEakMsT0FBTztPQUNhLGFBQWEsQ0EwRWpDO0lBQUQsb0JBQUM7Q0ExRUQsQUEwRUMsQ0ExRTBDLEVBQUUsQ0FBQyxTQUFTLEdBMEV0RDtrQkExRW9CLGFBQWEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc291cmNlc1Bvb2wgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogUmVzb3VyY2VzUG9vbDtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSB0cmFzaDp7W2tleTpzdHJpbmddOmFueVtdfT17fTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBSZXNvdXJjZXNQb29sIHtcclxuICAgICAgICBpZih0aGlzLl9pbnN0YW5jZSA9PSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgUmVzb3VyY2VzUG9vbCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZS5pbml0KCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0eXBlb2YodGhpcyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUmVzb3VyY2VzUG9vbC5faW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0KClcclxuICAgIHtcclxuICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHV0KHJlY3ljbGU6UmVjeWNsZSxsZW46bnVtYmVyID0gMTAwKVxyXG4gICAge1xyXG4gICAgICAgIHZhciBrZXk6c3RyaW5nID0gcmVjeWNsZS5nZXRLZXkoKTtcclxuXHJcbiAgICAgICAgaWYoIXRoaXMudHJhc2hba2V5XSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMudHJhc2hba2V5XSA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZih0aGlzLnRyYXNoW2tleV0ubGVuZ3RoIDwgbGVuKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmVjeWNsZS5zbGVlcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnRyYXNoW2tleV0ucHVzaChyZWN5Y2xlKTtcclxuXHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKHJlY3ljbGUgaW5zdGFuY2VvZiBjYy5Db21wb25lbnQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICg8Y2MuQ29tcG9uZW50PnJlY3ljbGUpLm5vZGUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihyZWN5Y2xlIGluc3RhbmNlb2YgY2MuT2JqZWN0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAoPGNjLk9iamVjdD5yZWN5Y2xlKS5kZXN0cm95KCk7IFxyXG4gICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy/plIDmr4FcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldDxUIGV4dGVuZHMgUmVjeWNsZT4odHlwZTpGdW5jdGlvbiB8IHN0cmluZyk6VFxyXG4gICAge1xyXG4gICAgICAgIHZhciBrZXk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL2tleSA9ICg8RnVuY3Rpb24+dHlwZSkubmFtZTtcclxuICAgICAgICAgICAga2V5ID0gKDxhbnk+dHlwZSkubmFtZTtcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAga2V5ID0gPHN0cmluZz50eXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoIXRoaXMudHJhc2hba2V5XSB8fCB0aGlzLnRyYXNoW2tleV0ubGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB2YXIgb2JqOlQgPSB0aGlzLnRyYXNoW2tleV0uc2hpZnQoKTtcclxuICAgICAgICBvYmouYXdha2UoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBSZWN5Y2xlIHtcclxuXHJcbiAgICBnZXRLZXkoKTpzdHJpbmc7XHJcbiAgICBhd2FrZSgpO1xyXG4gICAgc2xlZXAoKTtcclxuICAgIGRlc3Ryb3lTZWxmKCk7XHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/core/ResourcesManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2ee5189PwJOJI783s/mRdlg', 'ResourcesManager');
// script/tscript/core/ResourcesManager.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ResourcesManager = /** @class */ (function (_super) {
    __extends(ResourcesManager, _super);
    function ResourcesManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.jsonRoot = "configtable/";
        _this.prefabDic = {};
        return _this;
    }
    ResourcesManager_1 = ResourcesManager;
    Object.defineProperty(ResourcesManager, "instance", {
        get: function () {
            if (this._instance == null) {
                this._instance = new ResourcesManager_1();
                this._instance.init();
            }
            return ResourcesManager_1._instance;
        },
        enumerable: true,
        configurable: true
    });
    ResourcesManager.prototype.init = function () {
    };
    ResourcesManager.prototype.loadJson = function (jsonName, callback) {
        cc.loader.loadRes(this.jsonRoot + jsonName, function (error, data) {
            if (!error) {
                callback(data.json, jsonName);
            }
            else {
                cc.log("json" + jsonName + "加载失败 ", error);
            }
        });
    };
    ResourcesManager.prototype.load = function (prefabName, callback, type, isCache, isInstant, root) {
        var _this = this;
        if (type === void 0) { type = cc.Prefab; }
        if (isCache === void 0) { isCache = true; }
        if (isInstant === void 0) { isInstant = true; }
        if (root === void 0) { root = "prefab/"; }
        if (this.prefabDic[prefabName]) {
            if (isInstant) {
                var node = cc.instantiate(this.prefabDic[prefabName]);
                if (callback) {
                    callback(node);
                }
            }
            else {
                if (callback) {
                    callback(this.prefabDic[prefabName]);
                }
            }
            return;
        }
        var path = root + prefabName;
        cc.loader.loadRes(path, type, function (error, prefab) {
            if (!error) {
                if (isCache) {
                    _this.prefabDic[prefabName] = prefab;
                }
                if (isInstant) {
                    var node = cc.instantiate(prefab);
                    if (callback) {
                        callback(node);
                    }
                }
                else {
                    if (callback) {
                        callback(prefab);
                    }
                }
            }
            else {
                cc.log("加载资源失败 path", path, error.toString());
            }
        });
    };
    var ResourcesManager_1;
    ResourcesManager = ResourcesManager_1 = __decorate([
        ccclass
    ], ResourcesManager);
    return ResourcesManager;
}(cc.Component));
exports.default = ResourcesManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxjb3JlXFxSZXNvdXJjZXNNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQThDLG9DQUFZO0lBRDFEO1FBQUEscUVBNEZDO1FBL0VXLGNBQVEsR0FBRyxjQUFjLENBQUM7UUFFMUIsZUFBUyxHQUE0QixFQUFFLENBQUM7O0lBNkVwRCxDQUFDO3lCQTNGb0IsZ0JBQWdCO0lBR2pDLHNCQUFrQiw0QkFBUTthQUExQjtZQUNJLElBQUcsSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLEVBQ3pCO2dCQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxrQkFBZ0IsRUFBRSxDQUFDO2dCQUN4QyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDO2FBQ3pCO1lBQ0QsT0FBTyxrQkFBZ0IsQ0FBQyxTQUFTLENBQUM7UUFDdEMsQ0FBQzs7O09BQUE7SUFNTywrQkFBSSxHQUFaO0lBR0EsQ0FBQztJQUdNLG1DQUFRLEdBQWYsVUFBZ0IsUUFBZSxFQUFDLFFBQWlCO1FBQzdDLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxFQUFDLFVBQUMsS0FBSyxFQUFDLElBQUk7WUFDbEQsSUFBRyxDQUFDLEtBQUssRUFDVDtnQkFDSSxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksRUFBQyxRQUFRLENBQUMsQ0FBQzthQUNoQztpQkFDRDtnQkFDSSxFQUFFLENBQUMsR0FBRyxDQUFFLE1BQU0sR0FBRyxRQUFRLEdBQUcsT0FBTyxFQUFDLEtBQUssQ0FBQyxDQUFDO2FBQzlDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRU0sK0JBQUksR0FBWCxVQUFZLFVBQWlCLEVBQUMsUUFBaUIsRUFBQyxJQUFnQyxFQUFDLE9BQXNCLEVBQUMsU0FBd0IsRUFBQyxJQUF1QjtRQUF4SixpQkF1REM7UUF2RCtDLHFCQUFBLEVBQUEsT0FBdUIsRUFBRSxDQUFDLE1BQU07UUFBQyx3QkFBQSxFQUFBLGNBQXNCO1FBQUMsMEJBQUEsRUFBQSxnQkFBd0I7UUFBQyxxQkFBQSxFQUFBLGdCQUF1QjtRQUdwSixJQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLEVBQzdCO1lBQ0ksSUFBRyxTQUFTLEVBQ1o7Z0JBQ0ksSUFBSSxJQUFJLEdBQVcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7Z0JBQzlELElBQUcsUUFBUSxFQUNYO29CQUNJLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDbEI7YUFDSjtpQkFDRDtnQkFDSSxJQUFHLFFBQVEsRUFDWDtvQkFDSSxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO2lCQUN4QzthQUNKO1lBRUQsT0FBTztTQUNWO1FBRUQsSUFBSSxJQUFJLEdBQVcsSUFBSSxHQUFHLFVBQVUsQ0FBQztRQUNyQyxFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLFVBQUMsS0FBSyxFQUFDLE1BQU07WUFFckMsSUFBRyxDQUFDLEtBQUssRUFDVDtnQkFDSSxJQUFHLE9BQU8sRUFDVjtvQkFDSSxLQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxHQUFHLE1BQU0sQ0FBQztpQkFDdkM7Z0JBRUQsSUFBRyxTQUFTLEVBQ1o7b0JBQ0ksSUFBSSxJQUFJLEdBQVcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztvQkFFMUMsSUFBRyxRQUFRLEVBQ1g7d0JBQ0ksUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO3FCQUNsQjtpQkFDSjtxQkFDRDtvQkFDSSxJQUFHLFFBQVEsRUFDWDt3QkFDSSxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7cUJBQ3BCO2lCQUNKO2FBRUo7aUJBQ0Q7Z0JBQ0ksRUFBRSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUMsSUFBSSxFQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO2FBQy9DO1FBRUwsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztJQXpGZ0IsZ0JBQWdCO1FBRHBDLE9BQU87T0FDYSxnQkFBZ0IsQ0EyRnBDO0lBQUQsdUJBQUM7Q0EzRkQsQUEyRkMsQ0EzRjZDLEVBQUUsQ0FBQyxTQUFTLEdBMkZ6RDtrQkEzRm9CLGdCQUFnQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNvdXJjZXNNYW5hZ2VyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U6IFJlc291cmNlc01hbmFnZXI7XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBSZXNvdXJjZXNNYW5hZ2VyIHtcclxuICAgICAgICBpZih0aGlzLl9pbnN0YW5jZSA9PSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgUmVzb3VyY2VzTWFuYWdlcigpO1xyXG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZS5pbml0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBSZXNvdXJjZXNNYW5hZ2VyLl9pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGpzb25Sb290ID0gXCJjb25maWd0YWJsZS9cIjtcclxuXHJcbiAgICBwcml2YXRlIHByZWZhYkRpYzp7W2tleTpzdHJpbmddOmNjLlByZWZhYn0gPSB7fTtcclxuXHJcbiAgICBwcml2YXRlIGluaXQoKVxyXG4gICAge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgbG9hZEpzb24oanNvbk5hbWU6c3RyaW5nLGNhbGxiYWNrOkZ1bmN0aW9uKSB7XHJcbiAgICAgICAgY2MubG9hZGVyLmxvYWRSZXModGhpcy5qc29uUm9vdCArIGpzb25OYW1lLChlcnJvcixkYXRhKT0+e1xyXG4gICAgICAgICAgICBpZighZXJyb3IpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEuanNvbixqc29uTmFtZSk7XHJcbiAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNjLmxvZyggXCJqc29uXCIgKyBqc29uTmFtZSArIFwi5Yqg6L295aSx6LSlIFwiLGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsb2FkKHByZWZhYk5hbWU6c3RyaW5nLGNhbGxiYWNrOkZ1bmN0aW9uLHR5cGU6dHlwZW9mIGNjLkFzc2V0ID0gY2MuUHJlZmFiLGlzQ2FjaGU6Ym9vbGVhbiA9IHRydWUsaXNJbnN0YW50OmJvb2xlYW4gPSB0cnVlLHJvb3Q6c3RyaW5nID0gXCJwcmVmYWIvXCIpXHJcbiAgICB7XHJcblxyXG4gICAgICAgIGlmKHRoaXMucHJlZmFiRGljW3ByZWZhYk5hbWVdKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoaXNJbnN0YW50KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9kZTpjYy5Ob2RlID0gY2MuaW5zdGFudGlhdGUodGhpcy5wcmVmYWJEaWNbcHJlZmFiTmFtZV0pO1xyXG4gICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMucHJlZmFiRGljW3ByZWZhYk5hbWVdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHBhdGg6c3RyaW5nID0gIHJvb3QgKyBwcmVmYWJOYW1lO1xyXG4gICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKHBhdGgsdHlwZSwoZXJyb3IscHJlZmFiKT0+e1xyXG5cclxuICAgICAgICAgICAgaWYoIWVycm9yKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZihpc0NhY2hlKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlZmFiRGljW3ByZWZhYk5hbWVdID0gcHJlZmFiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZihpc0luc3RhbnQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGU6Y2MuTm9kZSA9IGNjLmluc3RhbnRpYXRlKHByZWZhYik7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZihjYWxsYmFjaylcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhwcmVmYWIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjYy5sb2coXCLliqDovb3otYTmupDlpLHotKUgcGF0aFwiLHBhdGgsZXJyb3IudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/gamescene/Body.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '68f37xrkmpGcZut7SNLEz2/', 'Body');
// script/tscript/gamescene/Body.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Player_1 = require("./Player");
var Knife_1 = require("./Knife");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Body = /** @class */ (function (_super) {
    __extends(Body, _super);
    function Body() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.skin = null;
        _this.face = null;
        _this.player = null;
        _this.faceSFArr = [];
        _this.timer = 0;
        return _this;
    }
    // onLoad () {}
    Body.prototype.start = function () {
        this.player = this.node.parent.getComponent(Player_1.default);
        //this.face.node.active = false;
        //this.face.node.active = this.player.showface;
    };
    Body.prototype.update = function (dt) {
        if (this.player.showface) {
            if (this.timer > 0) {
                this.timer -= dt;
                if (this.timer <= 0) {
                    //this.face.spriteFrame = this.faceSFArr[Random.RangeInteger(0,this.faceSFArr.length)];
                    //this.timer = Random.Range(1.5,2.5);
                    this.face.spriteFrame = this.faceSFArr[1];
                }
            }
        }
    };
    Body.prototype.onCollisionEnter = function (other, self) {
        if (this.player.status == Player_1.PlayerStatus.die) {
            return;
        }
        if (other.tag == 0) {
        }
        else if (other.tag == 1) {
            var knife = other.getComponent(Knife_1.default);
            if (knife && knife.status == Knife_1.KnifeStatus.capture && knife.player && knife.player != this.player) {
                this.player.setDamage(knife.damage, knife.player);
                /*var pos1 = knife.node.parent.convertToWorldSpaceAR(knife.node.position);
                var pos2 = this.node.parent.convertToWorldSpaceAR(this.node.position);

                var dir:cc.Vec2 = pos1.sub(pos2).normalize();
                knife.fly(dir);*/
            }
        }
        else if (other.tag == 8) {
            /*var item:Item = other.getComponent(Item);
            switch(item.type)
            {
                case ItemType.fhl:
                this.player.fhlItemEffect();
                break;
                case ItemType.rocket:

                this.player.rocketItemEffect();
                
                break;
                case ItemType.magnet:

                this.player.magnetItemEffect();
                
                break;
            }

            item.destroySelf();*/
        }
        else {
        }
    };
    Body.prototype.updateState = function () {
        if (!this.player) {
            this.player = this.node.parent.getComponent(Player_1.default);
        }
        this.face.node.active = this.player.showface;
    };
    Body.prototype.changeFace = function (index, timer) {
        if (timer === void 0) { timer = 0; }
        this.timer = timer;
        this.face.spriteFrame = this.faceSFArr[index];
    };
    __decorate([
        property(cc.Sprite)
    ], Body.prototype, "skin", void 0);
    __decorate([
        property(cc.Sprite)
    ], Body.prototype, "face", void 0);
    __decorate([
        property(Player_1.default)
    ], Body.prototype, "player", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], Body.prototype, "faceSFArr", void 0);
    Body = __decorate([
        ccclass
    ], Body);
    return Body;
}(cc.Component));
exports.default = Body;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxnYW1lc2NlbmVcXEJvZHkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG1DQUFnRDtBQUNoRCxpQ0FBNkM7QUFJN0Msb0JBQW9CO0FBQ3BCLGtGQUFrRjtBQUNsRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFFN0YsSUFBQSxrQkFBbUMsRUFBbEMsb0JBQU8sRUFBRSxzQkFBeUIsQ0FBQztBQUcxQztJQUFrQyx3QkFBWTtJQUQ5QztRQUFBLHFFQWlIQztRQTVHVSxVQUFJLEdBQWMsSUFBSSxDQUFDO1FBR3ZCLFVBQUksR0FBYyxJQUFJLENBQUM7UUFHdkIsWUFBTSxHQUFVLElBQUksQ0FBQztRQUdyQixlQUFTLEdBQW9CLEVBQUUsQ0FBQztRQUUvQixXQUFLLEdBQVUsQ0FBQyxDQUFDOztJQWlHN0IsQ0FBQztJQS9GRyxlQUFlO0lBRWYsb0JBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLGdCQUFNLENBQUMsQ0FBQztRQUNwRCxnQ0FBZ0M7UUFDaEMsK0NBQStDO0lBQ25ELENBQUM7SUFFRCxxQkFBTSxHQUFOLFVBQVEsRUFBRTtRQUVOLElBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQ3ZCO1lBQ0ksSUFBRyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsRUFDakI7Z0JBQ0ksSUFBSSxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUM7Z0JBRWpCLElBQUcsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLEVBQ2xCO29CQUNJLHVGQUF1RjtvQkFDdkYscUNBQXFDO29CQUNyQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUM3QzthQUNKO1NBQ0o7SUFDTCxDQUFDO0lBRU0sK0JBQWdCLEdBQXZCLFVBQXdCLEtBQWlCLEVBQUMsSUFBZ0I7UUFFdEQsSUFBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sSUFBSSxxQkFBWSxDQUFDLEdBQUcsRUFDekM7WUFDSSxPQUFPO1NBQ1Y7UUFFRCxJQUFHLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUNqQjtTQUNDO2FBQUssSUFBRyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsRUFDdkI7WUFDSSxJQUFJLEtBQUssR0FBUyxLQUFLLENBQUMsWUFBWSxDQUFDLGVBQUssQ0FBQyxDQUFDO1lBRTVDLElBQUcsS0FBSyxJQUFJLEtBQUssQ0FBQyxNQUFNLElBQUksbUJBQVcsQ0FBQyxPQUFPLElBQUksS0FBSyxDQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQzlGO2dCQUNJLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUVqRDs7OztpQ0FJaUI7YUFDcEI7U0FFSjthQUFLLElBQUcsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQ3ZCO1lBQ0k7Ozs7Ozs7Ozs7Ozs7Ozs7OztpQ0FrQnFCO1NBRXhCO2FBQ0Q7U0FFQztJQUVMLENBQUM7SUFFTSwwQkFBVyxHQUFsQjtRQUVJLElBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUNmO1lBQ0ksSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsZ0JBQU0sQ0FBQyxDQUFDO1NBQ3ZEO1FBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO0lBQ2pELENBQUM7SUFFTSx5QkFBVSxHQUFqQixVQUFrQixLQUFZLEVBQUMsS0FBZ0I7UUFBaEIsc0JBQUEsRUFBQSxTQUFnQjtRQUUzQyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUExR0Q7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztzQ0FDVTtJQUc5QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3NDQUNVO0lBRzlCO1FBREMsUUFBUSxDQUFDLGdCQUFNLENBQUM7d0NBQ1c7SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzsyQ0FDYztJQWJ0QixJQUFJO1FBRHhCLE9BQU87T0FDYSxJQUFJLENBZ0h4QjtJQUFELFdBQUM7Q0FoSEQsQUFnSEMsQ0FoSGlDLEVBQUUsQ0FBQyxTQUFTLEdBZ0g3QztrQkFoSG9CLElBQUkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGxheWVyLCB7IFBsYXllclN0YXR1cyB9IGZyb20gXCIuL1BsYXllclwiO1xyXG5pbXBvcnQgS25pZmUsIHsgS25pZmVTdGF0dXMgfSBmcm9tIFwiLi9LbmlmZVwiO1xyXG5pbXBvcnQgSXRlbSwgeyBJdGVtVHlwZSB9IGZyb20gXCIuLi9pdGVtL0l0ZW1cIjtcclxuaW1wb3J0IFJhbmRvbSBmcm9tIFwiLi4vdXRpbC9SYW5kb21cIjtcclxuXHJcbi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCb2R5IGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBcclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBwdWJsaWMgc2tpbjpjYy5TcHJpdGUgID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgcHVibGljIGZhY2U6Y2MuU3ByaXRlICA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KFBsYXllcilcclxuICAgIHB1YmxpYyBwbGF5ZXI6UGxheWVyID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBwdWJsaWMgZmFjZVNGQXJyOmNjLlNwcml0ZUZyYW1lW10gPSBbXTtcclxuXHJcbiAgICBwcml2YXRlIHRpbWVyOm51bWJlciA9IDA7XHJcblxyXG4gICAgLy8gb25Mb2FkICgpIHt9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gdGhpcy5ub2RlLnBhcmVudC5nZXRDb21wb25lbnQoUGxheWVyKTtcclxuICAgICAgICAvL3RoaXMuZmFjZS5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIC8vdGhpcy5mYWNlLm5vZGUuYWN0aXZlID0gdGhpcy5wbGF5ZXIuc2hvd2ZhY2U7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlIChkdCkgXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy5wbGF5ZXIuc2hvd2ZhY2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZih0aGlzLnRpbWVyID4gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lciAtPSBkdDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLnRpbWVyIDw9IDApXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLmZhY2Uuc3ByaXRlRnJhbWUgPSB0aGlzLmZhY2VTRkFycltSYW5kb20uUmFuZ2VJbnRlZ2VyKDAsdGhpcy5mYWNlU0ZBcnIubGVuZ3RoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLnRpbWVyID0gUmFuZG9tLlJhbmdlKDEuNSwyLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjZS5zcHJpdGVGcmFtZSA9IHRoaXMuZmFjZVNGQXJyWzFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkNvbGxpc2lvbkVudGVyKG90aGVyOmNjLkNvbGxpZGVyLHNlbGY6Y2MuQ29sbGlkZXIpXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy5wbGF5ZXIuc3RhdHVzID09IFBsYXllclN0YXR1cy5kaWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKG90aGVyLnRhZyA9PSAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICB9ZWxzZSBpZihvdGhlci50YWcgPT0gMSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBrbmlmZTpLbmlmZSA9IG90aGVyLmdldENvbXBvbmVudChLbmlmZSk7XHJcblxyXG4gICAgICAgICAgICBpZihrbmlmZSAmJiBrbmlmZS5zdGF0dXMgPT0gS25pZmVTdGF0dXMuY2FwdHVyZSAmJiBrbmlmZS5wbGF5ZXIgJiYga25pZmUucGxheWVyICE9IHRoaXMucGxheWVyKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5zZXREYW1hZ2Uoa25pZmUuZGFtYWdlLGtuaWZlLnBsYXllcik7XHJcblxyXG4gICAgICAgICAgICAgICAgLyp2YXIgcG9zMSA9IGtuaWZlLm5vZGUucGFyZW50LmNvbnZlcnRUb1dvcmxkU3BhY2VBUihrbmlmZS5ub2RlLnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3MyID0gdGhpcy5ub2RlLnBhcmVudC5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIodGhpcy5ub2RlLnBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZGlyOmNjLlZlYzIgPSBwb3MxLnN1Yihwb3MyKS5ub3JtYWxpemUoKTtcclxuICAgICAgICAgICAgICAgIGtuaWZlLmZseShkaXIpOyovXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfWVsc2UgaWYob3RoZXIudGFnID09IDgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvKnZhciBpdGVtOkl0ZW0gPSBvdGhlci5nZXRDb21wb25lbnQoSXRlbSk7XHJcbiAgICAgICAgICAgIHN3aXRjaChpdGVtLnR5cGUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgSXRlbVR5cGUuZmhsOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuZmhsSXRlbUVmZmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEl0ZW1UeXBlLnJvY2tldDpcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5yb2NrZXRJdGVtRWZmZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBJdGVtVHlwZS5tYWduZXQ6XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIubWFnbmV0SXRlbUVmZmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaXRlbS5kZXN0cm95U2VsZigpOyovXHJcblxyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAge1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVTdGF0ZSgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIXRoaXMucGxheWVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSB0aGlzLm5vZGUucGFyZW50LmdldENvbXBvbmVudChQbGF5ZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5mYWNlLm5vZGUuYWN0aXZlID0gdGhpcy5wbGF5ZXIuc2hvd2ZhY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNoYW5nZUZhY2UoaW5kZXg6bnVtYmVyLHRpbWVyOm51bWJlciA9IDApXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy50aW1lciA9IHRpbWVyO1xyXG4gICAgICAgIHRoaXMuZmFjZS5zcHJpdGVGcmFtZSA9IHRoaXMuZmFjZVNGQXJyW2luZGV4XTtcclxuICAgIH1cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/gamescene/Barrier.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e4c4cYS2FtI6p+AI35rs0jE', 'Barrier');
// script/tscript/gamescene/Barrier.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Random_1 = require("../util/Random");
var GameScene_1 = require("./GameScene");
var GameManager_1 = require("../core/GameManager");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BarrierType;
(function (BarrierType) {
    BarrierType[BarrierType["static"] = 0] = "static";
    BarrierType[BarrierType["dynamic"] = 1] = "dynamic";
    BarrierType[BarrierType["blackhole"] = 2] = "blackhole";
})(BarrierType = exports.BarrierType || (exports.BarrierType = {}));
var Barrier = /** @class */ (function (_super) {
    __extends(Barrier, _super);
    function Barrier() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.type = BarrierType.static;
        // LIFE-CYCLE CALLBACKS:
        _this.gameScene = null;
        return _this;
        // update (dt) {}
    }
    // onLoad () {}
    Barrier.prototype.start = function () {
        this.gameScene = GameManager_1.default.instance.gameScene.getComponent(GameScene_1.default);
        this.node.scale = 0.7;
        if (this.type == BarrierType.dynamic) {
            //return;
            var sceneSize = this.gameScene.sceneSize;
            var starPos = cc.v2(Random_1.default.Range(-sceneSize.width / 2, sceneSize.width / 2), Random_1.default.Range(-sceneSize.height / 2, sceneSize.height / 2));
            var endPos = cc.v2(Random_1.default.Range(-sceneSize.width / 2, sceneSize.width / 2), Random_1.default.Range(-sceneSize.height / 2, sceneSize.height / 2));
            var dis = endPos.sub(starPos).mag();
            var baseSpeed = Random_1.default.Range(0.5, 2.5) * 60;
            var baseTimer = dis / baseSpeed;
            this.node.position = starPos;
            //baseTimer = 2.5;
            var seq = cc.sequence(cc.moveTo(baseTimer, endPos).easing(cc.easeCubicActionInOut()), cc.moveTo(baseTimer, starPos).easing(cc.easeCubicActionInOut()));
            this.node.runAction(seq.repeatForever());
        }
    };
    __decorate([
        property({ type: cc.Enum(BarrierType) })
    ], Barrier.prototype, "type", void 0);
    Barrier = __decorate([
        ccclass
    ], Barrier);
    return Barrier;
}(cc.Component));
exports.default = Barrier;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxnYW1lc2NlbmVcXEJhcnJpZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHlDQUFvQztBQUNwQyx5Q0FBb0M7QUFDcEMsbURBQThDO0FBRTlDLG9CQUFvQjtBQUNwQixrRkFBa0Y7QUFDbEYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5Qiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBRTdGLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFFMUMsSUFBWSxXQUtYO0FBTEQsV0FBWSxXQUFXO0lBRW5CLGlEQUFNLENBQUE7SUFDTixtREFBTyxDQUFBO0lBQ1AsdURBQVMsQ0FBQTtBQUNiLENBQUMsRUFMVyxXQUFXLEdBQVgsbUJBQVcsS0FBWCxtQkFBVyxRQUt0QjtBQUdEO0lBQXFDLDJCQUFZO0lBRGpEO1FBQUEscUVBeUNDO1FBckNVLFVBQUksR0FBZSxXQUFXLENBQUMsTUFBTSxDQUFDO1FBRTdDLHdCQUF3QjtRQUVkLGVBQVMsR0FBYSxJQUFJLENBQUM7O1FBZ0NyQyxpQkFBaUI7SUFDckIsQ0FBQztJQS9CRyxlQUFlO0lBRVIsdUJBQUssR0FBWjtRQUVJLElBQUksQ0FBQyxTQUFTLEdBQUcscUJBQVcsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxtQkFBUyxDQUFDLENBQUM7UUFFeEUsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDO1FBRXRCLElBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxXQUFXLENBQUMsT0FBTyxFQUNuQztZQUNJLFNBQVM7WUFDVCxJQUFJLFNBQVMsR0FBVyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQztZQUVqRCxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLGdCQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBQyxDQUFDLEVBQUMsU0FBUyxDQUFDLEtBQUssR0FBQyxDQUFDLENBQUMsRUFBQyxnQkFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUMsQ0FBQyxFQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM3SCxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLGdCQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBQyxDQUFDLEVBQUMsU0FBUyxDQUFDLEtBQUssR0FBQyxDQUFDLENBQUMsRUFBQyxnQkFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUMsQ0FBQyxFQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUU1SCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3BDLElBQUksU0FBUyxHQUFHLGdCQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDM0MsSUFBSSxTQUFTLEdBQUcsR0FBRyxHQUFHLFNBQVMsQ0FBQztZQUdoQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUM7WUFDN0Isa0JBQWtCO1lBRWxCLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLEVBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNwSixJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQztTQUM1QztJQUVMLENBQUM7SUFsQ0Q7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBQyxDQUFDO3lDQUNPO0lBSDVCLE9BQU87UUFEM0IsT0FBTztPQUNhLE9BQU8sQ0F3QzNCO0lBQUQsY0FBQztDQXhDRCxBQXdDQyxDQXhDb0MsRUFBRSxDQUFDLFNBQVMsR0F3Q2hEO2tCQXhDb0IsT0FBTyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSYW5kb20gZnJvbSBcIi4uL3V0aWwvUmFuZG9tXCI7XHJcbmltcG9ydCBHYW1lU2NlbmUgZnJvbSBcIi4vR2FtZVNjZW5lXCI7XHJcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi4vY29yZS9HYW1lTWFuYWdlclwiO1xyXG5cclxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbmV4cG9ydCBlbnVtIEJhcnJpZXJUeXBlXHJcbntcclxuICAgIHN0YXRpYyxcclxuICAgIGR5bmFtaWMsXHJcbiAgICBibGFja2hvbGUsXHJcbn1cclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhcnJpZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5FbnVtKEJhcnJpZXJUeXBlKX0pXHJcbiAgICBwdWJsaWMgdHlwZTpCYXJyaWVyVHlwZSA9IEJhcnJpZXJUeXBlLnN0YXRpYztcclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2FtZVNjZW5lOkdhbWVTY2VuZSA9IG51bGw7XHJcblxyXG4gICAgLy8gb25Mb2FkICgpIHt9XHJcblxyXG4gICAgcHVibGljIHN0YXJ0ICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5nYW1lU2NlbmUuZ2V0Q29tcG9uZW50KEdhbWVTY2VuZSk7XHJcblxyXG4gICAgICAgIHRoaXMubm9kZS5zY2FsZSA9IDAuNztcclxuXHJcbiAgICAgICAgaWYodGhpcy50eXBlID09IEJhcnJpZXJUeXBlLmR5bmFtaWMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL3JldHVybjtcclxuICAgICAgICAgICAgdmFyIHNjZW5lU2l6ZTpjYy5Ob2RlID0gdGhpcy5nYW1lU2NlbmUuc2NlbmVTaXplO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0YXJQb3MgPSBjYy52MihSYW5kb20uUmFuZ2UoLXNjZW5lU2l6ZS53aWR0aC8yLHNjZW5lU2l6ZS53aWR0aC8yKSxSYW5kb20uUmFuZ2UoLXNjZW5lU2l6ZS5oZWlnaHQvMixzY2VuZVNpemUuaGVpZ2h0LzIpKTtcclxuICAgICAgICAgICAgdmFyIGVuZFBvcyA9IGNjLnYyKFJhbmRvbS5SYW5nZSgtc2NlbmVTaXplLndpZHRoLzIsc2NlbmVTaXplLndpZHRoLzIpLFJhbmRvbS5SYW5nZSgtc2NlbmVTaXplLmhlaWdodC8yLHNjZW5lU2l6ZS5oZWlnaHQvMikpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGRpcyA9IGVuZFBvcy5zdWIoc3RhclBvcykubWFnKCk7XHJcbiAgICAgICAgICAgIHZhciBiYXNlU3BlZWQgPSBSYW5kb20uUmFuZ2UoMC41LDIuNSkgKiA2MDtcclxuICAgICAgICAgICAgdmFyIGJhc2VUaW1lciA9IGRpcyAvIGJhc2VTcGVlZDtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLm5vZGUucG9zaXRpb24gPSBzdGFyUG9zO1xyXG4gICAgICAgICAgICAvL2Jhc2VUaW1lciA9IDIuNTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzZXEgPSBjYy5zZXF1ZW5jZShjYy5tb3ZlVG8oYmFzZVRpbWVyLGVuZFBvcykuZWFzaW5nKGNjLmVhc2VDdWJpY0FjdGlvbkluT3V0KCkpLGNjLm1vdmVUbyhiYXNlVGltZXIsc3RhclBvcykuZWFzaW5nKGNjLmVhc2VDdWJpY0FjdGlvbkluT3V0KCkpKTtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihzZXEucmVwZWF0Rm9yZXZlcigpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/gamescene/BlackHole.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '01a155n941N4KWBmaZ+N+j1', 'BlackHole');
// script/tscript/gamescene/BlackHole.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Barrier_1 = require("./Barrier");
var Random_1 = require("../util/Random");
var GameManager_1 = require("../core/GameManager");
var GameScene_1 = require("./GameScene");
var Player_1 = require("./Player");
var UIManager_1 = require("../ui/UIManager");
var SoundManager_1 = require("../core/SoundManager");
var SoundClip_1 = require("../audio/SoundClip");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BlackHole = /** @class */ (function (_super) {
    __extends(BlackHole, _super);
    function BlackHole() {
        // LIFE-CYCLE CALLBACKS:
        var _this = _super !== null && _super.apply(this, arguments) || this;
        // onLoad () {}
        _this.skin = null;
        _this.body = null;
        _this.cdTimer = 0;
        _this.liveTimer = 5;
        _this.appear = true;
        _this.moveSpeed = 300;
        _this.moveDir = cc.Vec2.ZERO;
        _this.endPos = cc.Vec2.ZERO;
        _this.eatCount = 0;
        _this.knifecount = 0;
        _this.circleCollider = null;
        _this.physicsCircleCollider = null;
        _this._size = 1;
        return _this;
        /*update (dt)
        {
   
           if(this.cdTimer > 0)
           {
               this.cdTimer -= dt;
   
               if(this.cdTimer <= 0)
               {
                   this.liveTimer = Random.Range(3.5,10);
   
                   var sceneSize:cc.Node = this.gameScene.sceneSize;
                   this.node.position = cc.v2(Random.Range(-(sceneSize.width - 300)/2,(sceneSize.width - 300)/2),Random.Range(-(sceneSize.height - 300)/2,(sceneSize.height - 300)/2));
   
                   var seq = cc.sequence(cc.fadeIn(2),cc.callFunc(()=>{
                       this.appear = true;
                   },this));
   
                   this.node.runAction(seq);
   
               }
           }
   
   
           if(this.liveTimer > 0)
           {
               this.liveTimer -= dt;
   
               if(this.liveTimer <= 0)
               {
                   
                   this.appear = false;
                   var seq = cc.sequence(cc.fadeOut(2),cc.callFunc(()=>{
                       //this.appear = false;
                   },this));
   
                   this.node.runAction(seq);
                   this.cdTimer = Random.Range(13,20);
   
               }
           }
   
        }*/
    }
    Object.defineProperty(BlackHole.prototype, "size", {
        get: function () {
            return this._size;
        },
        set: function (value) {
            this._size = value;
            this.skin.node.scale = this._size;
            if (!this.circleCollider) {
                this.circleCollider = this.body.getComponent(cc.CircleCollider);
            }
            this.circleCollider.radius = 100 * this._size;
            if (!this.physicsCircleCollider) {
                this.physicsCircleCollider = this.getComponent(cc.PhysicsCircleCollider);
            }
            this.physicsCircleCollider.radius = 100 * this._size;
            //this.physicsCircleCollider.radius = 350;
            //cc.log("this.physicsCircleCollider.radius ",this.physicsCircleCollider.radius);
        },
        enumerable: true,
        configurable: true
    });
    BlackHole.prototype.start = function () {
        var roAction = cc.rotateBy(1, 360);
        this.skin.node.runAction(roAction.repeatForever());
        this.gameScene = GameManager_1.default.instance.gameScene.getComponent(GameScene_1.default);
        var sceneSize = this.gameScene.sceneSize;
        this.endPos = cc.v2(Random_1.default.Range(-sceneSize.width / 2, sceneSize.width / 2), Random_1.default.Range(-sceneSize.height / 2, sceneSize.height / 2));
        this.moveDir = this.endPos.sub(this.node.position).normalize();
        var mark = GameManager_1.default.instance.getMark();
        mark.node.parent = UIManager_1.default.instance.getLayer(UIManager_1.LayerType.back);
        mark.player = this.gameScene.player;
        mark.isPlayer = false;
        mark.blackHole = this;
        this.gameScene.blackHole = this;
    };
    BlackHole.prototype.update = function (dt) {
        if (GameManager_1.default.instance.gameStatus != GameManager_1.GameStatus.start)
            return;
        /*this.cdTimer -= dt;

        if(this.cdTimer <= 0)
        {
            this.cdTimer = Random.Range(3.5,7);

            this.endPos = this.getRandomPlayer().node.position;
            this.moveDir = this.endPos.sub(this.node.position).normalize();
        }*/
        var speed = this.moveSpeed * dt;
        var pos = this.node.position.add(this.moveDir.mul(speed));
        this.node.position = pos;
        if (this.endPos.sub(this.node.position).mag() < speed) {
            this.endPos = this.getRandomPlayer().node.position;
            this.moveDir = this.endPos.sub(this.node.position).normalize();
        }
    };
    BlackHole.prototype.getRandomPlayer = function () {
        var playerArr = this.gameScene.playerArr;
        var arr = [];
        for (var i = 0; i < playerArr.length; i++) {
            if (playerArr[i].status != Player_1.PlayerStatus.die) {
                arr.push(playerArr[i]);
            }
        }
        if (arr.length == 0) {
            return this.gameScene.player;
        }
        return arr[Random_1.default.RangeInteger(0, arr.length)];
    };
    BlackHole.prototype.eat = function (knife) {
        this.eatCount++;
        this.size = 1 + Math.floor(this.eatCount / 6) * 0.25;
        this.knifecount++;
        SoundManager_1.default.instance.playAudioClip(SoundClip_1.SoundClipType.blackhole);
    };
    __decorate([
        property(cc.Sprite)
    ], BlackHole.prototype, "skin", void 0);
    __decorate([
        property(cc.Node)
    ], BlackHole.prototype, "body", void 0);
    BlackHole = __decorate([
        ccclass
    ], BlackHole);
    return BlackHole;
}(Barrier_1.default));
exports.default = BlackHole;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxnYW1lc2NlbmVcXEJsYWNrSG9sZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEscUNBQWdDO0FBQ2hDLHlDQUFvQztBQUNwQyxtREFBOEQ7QUFDOUQseUNBQW9DO0FBQ3BDLG1DQUFnRDtBQUNoRCw2Q0FBdUQ7QUFFdkQscURBQWdEO0FBQ2hELGdEQUFtRDtBQUVuRCxvQkFBb0I7QUFDcEIsa0ZBQWtGO0FBQ2xGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQXVDLDZCQUFPO0lBRDlDO1FBSUksd0JBQXdCO1FBSjVCLHFFQWdNQztRQTFMRyxlQUFlO1FBR1IsVUFBSSxHQUFhLElBQUksQ0FBQztRQUd0QixVQUFJLEdBQVcsSUFBSSxDQUFDO1FBRW5CLGFBQU8sR0FBVSxDQUFDLENBQUM7UUFFbkIsZUFBUyxHQUFVLENBQUMsQ0FBQztRQUV0QixZQUFNLEdBQVcsSUFBSSxDQUFDO1FBRXRCLGVBQVMsR0FBVSxHQUFHLENBQUM7UUFFdkIsYUFBTyxHQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBRS9CLFlBQU0sR0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztRQUU5QixjQUFRLEdBQVUsQ0FBQyxDQUFDO1FBRXBCLGdCQUFVLEdBQVUsQ0FBQyxDQUFDO1FBRXJCLG9CQUFjLEdBQXFCLElBQUksQ0FBQztRQUV4QywyQkFBcUIsR0FBcUIsSUFBSSxDQUFDO1FBRS9DLFdBQUssR0FBVyxDQUFDLENBQUM7O1FBbUh6Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1dBMENHO0lBQ1IsQ0FBQztJQTVKRyxzQkFB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QUksQ0FBQyxRQUFRLEVBQUcsQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQ3JELElBQUksQ0FBQyxVQUFVLEVBQUcsQ0FBQztRQUNuQixzQkFBWSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMseUJBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNqRSxDQUFDO0lBMUlEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7MkNBQ1M7SUFHN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzsyQ0FDUztJQVhWLFNBQVM7UUFEN0IsT0FBTztPQUNhLFNBQVMsQ0ErTDdCO0lBQUQsZ0JBQUM7Q0EvTEQsQUErTEMsQ0EvTHNDLGlCQUFPLEdBK0w3QztrQkEvTG9CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFycmllciBmcm9tIFwiLi9CYXJyaWVyXCI7XHJcbmltcG9ydCBSYW5kb20gZnJvbSBcIi4uL3V0aWwvUmFuZG9tXCI7XHJcbmltcG9ydCBHYW1lTWFuYWdlciwgeyBHYW1lU3RhdHVzIH0gZnJvbSBcIi4uL2NvcmUvR2FtZU1hbmFnZXJcIjtcclxuaW1wb3J0IEdhbWVTY2VuZSBmcm9tIFwiLi9HYW1lU2NlbmVcIjtcclxuaW1wb3J0IFBsYXllciwgeyBQbGF5ZXJTdGF0dXMgfSBmcm9tIFwiLi9QbGF5ZXJcIjtcclxuaW1wb3J0IFVJTWFuYWdlciwgeyBMYXllclR5cGUgfSBmcm9tIFwiLi4vdWkvVUlNYW5hZ2VyXCI7XHJcbmltcG9ydCBLbmlmZSwgeyBLbmlmZVN0YXR1cyB9IGZyb20gXCIuL0tuaWZlXCI7XHJcbmltcG9ydCBTb3VuZE1hbmFnZXIgZnJvbSBcIi4uL2NvcmUvU291bmRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFNvdW5kQ2xpcFR5cGUgfSBmcm9tIFwiLi4vYXVkaW8vU291bmRDbGlwXCI7XHJcblxyXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmxhY2tIb2xlIGV4dGVuZHMgQmFycmllciB7XHJcblxyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIC8vIG9uTG9hZCAoKSB7fVxyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBwdWJsaWMgc2tpbjpjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgcHVibGljIGJvZHk6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBjZFRpbWVyOm51bWJlciA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBsaXZlVGltZXI6bnVtYmVyID0gNTtcclxuXHJcbiAgICBwdWJsaWMgYXBwZWFyOmJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICAgIHB1YmxpYyBtb3ZlU3BlZWQ6bnVtYmVyID0gMzAwO1xyXG5cclxuICAgIHB1YmxpYyBtb3ZlRGlyOmNjLlZlYzIgPSBjYy5WZWMyLlpFUk87XHJcblxyXG4gICAgcHVibGljIGVuZFBvczpjYy5WZWMyID0gY2MuVmVjMi5aRVJPO1xyXG5cclxuICAgIHB1YmxpYyBlYXRDb3VudDpudW1iZXIgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBrbmlmZWNvdW50Om51bWJlciA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBjaXJjbGVDb2xsaWRlcjpjYy5DaXJjbGVDb2xsaWRlciA9IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBwaHlzaWNzQ2lyY2xlQ29sbGlkZXI6Y2MuQ2lyY2xlQ29sbGlkZXIgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgX3NpemU6IG51bWJlciA9IDE7XHJcblxyXG4gICAgcHVibGljIGdldCBzaXplKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IHNpemUodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX3NpemUgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLnNraW4ubm9kZS5zY2FsZSA9IHRoaXMuX3NpemU7XHJcblxyXG4gICAgICAgIGlmKCF0aGlzLmNpcmNsZUNvbGxpZGVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5jaXJjbGVDb2xsaWRlciA9IHRoaXMuYm9keS5nZXRDb21wb25lbnQoY2MuQ2lyY2xlQ29sbGlkZXIpO1xyXG4gICAgICAgIH0gXHJcblxyXG4gICAgICAgIHRoaXMuY2lyY2xlQ29sbGlkZXIucmFkaXVzID0gMTAwICogdGhpcy5fc2l6ZTtcclxuXHJcblxyXG4gICAgICAgIGlmKCF0aGlzLnBoeXNpY3NDaXJjbGVDb2xsaWRlcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljc0NpcmNsZUNvbGxpZGVyID0gdGhpcy5nZXRDb21wb25lbnQoY2MuUGh5c2ljc0NpcmNsZUNvbGxpZGVyKTtcclxuICAgICAgICB9IFxyXG5cclxuICAgICAgICB0aGlzLnBoeXNpY3NDaXJjbGVDb2xsaWRlci5yYWRpdXMgPSAxMDAgKiB0aGlzLl9zaXplO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICAvL3RoaXMucGh5c2ljc0NpcmNsZUNvbGxpZGVyLnJhZGl1cyA9IDM1MDtcclxuICAgICAgICAvL2NjLmxvZyhcInRoaXMucGh5c2ljc0NpcmNsZUNvbGxpZGVyLnJhZGl1cyBcIix0aGlzLnBoeXNpY3NDaXJjbGVDb2xsaWRlci5yYWRpdXMpO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHN0YXJ0ICgpIHtcclxuXHJcbiAgICAgICAgdmFyIHJvQWN0aW9uID0gY2Mucm90YXRlQnkoMSwzNjApO1xyXG4gICAgICAgIHRoaXMuc2tpbi5ub2RlLnJ1bkFjdGlvbihyb0FjdGlvbi5yZXBlYXRGb3JldmVyKCkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ2FtZVNjZW5lLmdldENvbXBvbmVudChHYW1lU2NlbmUpO1xyXG5cclxuICAgICAgICB2YXIgc2NlbmVTaXplOmNjLk5vZGUgPSB0aGlzLmdhbWVTY2VuZS5zY2VuZVNpemU7XHJcbiAgICAgICAgdGhpcy5lbmRQb3MgPSBjYy52MihSYW5kb20uUmFuZ2UoLXNjZW5lU2l6ZS53aWR0aC8yLHNjZW5lU2l6ZS53aWR0aC8yKSxSYW5kb20uUmFuZ2UoLXNjZW5lU2l6ZS5oZWlnaHQvMixzY2VuZVNpemUuaGVpZ2h0LzIpKTtcclxuICAgICAgICB0aGlzLm1vdmVEaXIgPSB0aGlzLmVuZFBvcy5zdWIodGhpcy5ub2RlLnBvc2l0aW9uKS5ub3JtYWxpemUoKTtcclxuXHJcbiAgICAgICAgdmFyIG1hcmsgPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5nZXRNYXJrKCk7XHJcbiAgICAgICAgbWFyay5ub2RlLnBhcmVudCA9IFVJTWFuYWdlci5pbnN0YW5jZS5nZXRMYXllcihMYXllclR5cGUuYmFjayk7XHJcbiAgICAgICAgbWFyay5wbGF5ZXIgPSB0aGlzLmdhbWVTY2VuZS5wbGF5ZXI7XHJcbiAgICAgICAgbWFyay5pc1BsYXllciA9IGZhbHNlO1xyXG4gICAgICAgIG1hcmsuYmxhY2tIb2xlID0gdGhpcztcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUuYmxhY2tIb2xlID0gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlIChkdCkgXHJcbiAgICB7XHJcbiAgICBcclxuXHJcbiAgICAgICAgaWYoR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ2FtZVN0YXR1cyAhPSBHYW1lU3RhdHVzLnN0YXJ0KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgLyp0aGlzLmNkVGltZXIgLT0gZHQ7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuY2RUaW1lciA8PSAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5jZFRpbWVyID0gUmFuZG9tLlJhbmdlKDMuNSw3KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZW5kUG9zID0gdGhpcy5nZXRSYW5kb21QbGF5ZXIoKS5ub2RlLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVEaXIgPSB0aGlzLmVuZFBvcy5zdWIodGhpcy5ub2RlLnBvc2l0aW9uKS5ub3JtYWxpemUoKTtcclxuICAgICAgICB9Ki9cclxuICAgICAgICBcclxuXHJcblxyXG4gICAgICAgIHZhciBzcGVlZCA9IHRoaXMubW92ZVNwZWVkICogZHQ7XHJcblxyXG4gICAgICAgIHZhciBwb3MgPSB0aGlzLm5vZGUucG9zaXRpb24uYWRkKHRoaXMubW92ZURpci5tdWwoc3BlZWQpKTtcclxuICAgICAgICB0aGlzLm5vZGUucG9zaXRpb24gPSBwb3M7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuZW5kUG9zLnN1Yih0aGlzLm5vZGUucG9zaXRpb24pLm1hZygpIDwgc3BlZWQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmVuZFBvcyA9IHRoaXMuZ2V0UmFuZG9tUGxheWVyKCkubm9kZS5wb3NpdGlvbjtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlRGlyID0gdGhpcy5lbmRQb3Muc3ViKHRoaXMubm9kZS5wb3NpdGlvbikubm9ybWFsaXplKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGdldFJhbmRvbVBsYXllcigpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIHBsYXllckFycjpBcnJheTxQbGF5ZXI+ID0gdGhpcy5nYW1lU2NlbmUucGxheWVyQXJyO1xyXG5cclxuICAgICAgICB2YXIgYXJyOkFycmF5PFBsYXllcj4gPSBbXTtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMCA7IGkgPCBwbGF5ZXJBcnIubGVuZ3RoIDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYocGxheWVyQXJyW2ldLnN0YXR1cyAhPSBQbGF5ZXJTdGF0dXMuZGllKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBhcnIucHVzaChwbGF5ZXJBcnJbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihhcnIubGVuZ3RoID09IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nYW1lU2NlbmUucGxheWVyO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHJldHVybiBhcnJbUmFuZG9tLlJhbmdlSW50ZWdlcigwLGFyci5sZW5ndGgpXTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVhdChrbmlmZTpLbmlmZSlcclxuICAgIHtcclxuICAgICAgICB0aGlzLmVhdENvdW50ICsrO1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IDEgKyBNYXRoLmZsb29yKHRoaXMuZWF0Q291bnQgLyA2KSAqIDAuMjU7XHJcbiAgICAgICAgdGhpcy5rbmlmZWNvdW50ICsrO1xyXG4gICAgICAgIFNvdW5kTWFuYWdlci5pbnN0YW5jZS5wbGF5QXVkaW9DbGlwKFNvdW5kQ2xpcFR5cGUuYmxhY2tob2xlKTtcclxuICAgIH1cclxuXHJcbiAgICAgLyp1cGRhdGUgKGR0KSBcclxuICAgICB7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuY2RUaW1lciA+IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmNkVGltZXIgLT0gZHQ7XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLmNkVGltZXIgPD0gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXZlVGltZXIgPSBSYW5kb20uUmFuZ2UoMy41LDEwKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgc2NlbmVTaXplOmNjLk5vZGUgPSB0aGlzLmdhbWVTY2VuZS5zY2VuZVNpemU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUucG9zaXRpb24gPSBjYy52MihSYW5kb20uUmFuZ2UoLShzY2VuZVNpemUud2lkdGggLSAzMDApLzIsKHNjZW5lU2l6ZS53aWR0aCAtIDMwMCkvMiksUmFuZG9tLlJhbmdlKC0oc2NlbmVTaXplLmhlaWdodCAtIDMwMCkvMiwoc2NlbmVTaXplLmhlaWdodCAtIDMwMCkvMikpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzZXEgPSBjYy5zZXF1ZW5jZShjYy5mYWRlSW4oMiksY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGVhciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9LHRoaXMpKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKHNlcSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYodGhpcy5saXZlVGltZXIgPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5saXZlVGltZXIgLT0gZHQ7XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLmxpdmVUaW1lciA8PSAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwZWFyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VxID0gY2Muc2VxdWVuY2UoY2MuZmFkZU91dCgyKSxjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5hcHBlYXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sdGhpcykpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oc2VxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2RUaW1lciA9IFJhbmRvbS5SYW5nZSgxMywyMCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICB9Ki9cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/gamescene/Joystick.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8a090NbeXdJc6B23POj/ba4', 'Joystick');
// script/tscript/gamescene/Joystick.ts

Object.defineProperty(exports, "__esModule", { value: true });
var GameScene_1 = require("./GameScene");
var GameManager_1 = require("../core/GameManager");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Joystick = /** @class */ (function (_super) {
    __extends(Joystick, _super);
    function Joystick() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.cursor = null;
        _this.gameScene = null;
        return _this;
        // update (dt) {}
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    Joystick.prototype.start = function () {
        this.gameScene = GameManager_1.default.instance.gameScene.getComponent(GameScene_1.default);
        this.node.scale = 2.5;
    };
    Joystick.prototype.cursorTo = function (dir) {
        /*var angle:number = Math.atan2(dir.y,dir.x);
        this.cursor.x = 20 * Math.cos(angle);
        this.cursor.y = 20 * Math.sin(angle);*/
        this.cursor.position = dir.mul(20);
    };
    Joystick.prototype.show = function () {
        this.node.active = true;
    };
    Joystick.prototype.hidden = function () {
        this.node.active = false;
    };
    __decorate([
        property(cc.Node)
    ], Joystick.prototype, "cursor", void 0);
    Joystick = __decorate([
        ccclass
    ], Joystick);
    return Joystick;
}(cc.Component));
exports.default = Joystick;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxnYW1lc2NlbmVcXEpveXN0aWNrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx5Q0FBb0M7QUFDcEMsbURBQThDO0FBRTlDLG9CQUFvQjtBQUNwQixrRkFBa0Y7QUFDbEYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5Qiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBRTdGLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFHMUM7SUFBc0MsNEJBQVk7SUFEbEQ7UUFBQSxxRUFzQ0M7UUFsQ1csWUFBTSxHQUFZLElBQUksQ0FBQztRQUd4QixlQUFTLEdBQWEsSUFBSSxDQUFDOztRQThCbEMsaUJBQWlCO0lBQ3JCLENBQUM7SUE3Qkcsd0JBQXdCO0lBRXhCLGVBQWU7SUFFZix3QkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLFNBQVMsR0FBRyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLG1CQUFTLENBQUMsQ0FBQztRQUN4RSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUM7SUFFMUIsQ0FBQztJQUVNLDJCQUFRLEdBQWYsVUFBZ0IsR0FBVztRQUV2Qjs7K0NBRXVDO1FBQ3ZDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQUVNLHVCQUFJLEdBQVg7UUFFSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7SUFDNUIsQ0FBQztJQUVNLHlCQUFNLEdBQWI7UUFFSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDN0IsQ0FBQztJQS9CRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzRDQUNhO0lBSGQsUUFBUTtRQUQ1QixPQUFPO09BQ2EsUUFBUSxDQXFDNUI7SUFBRCxlQUFDO0NBckNELEFBcUNDLENBckNxQyxFQUFFLENBQUMsU0FBUyxHQXFDakQ7a0JBckNvQixRQUFRIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdhbWVTY2VuZSBmcm9tIFwiLi9HYW1lU2NlbmVcIjtcclxuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuLi9jb3JlL0dhbWVNYW5hZ2VyXCI7XHJcblxyXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSm95c3RpY2sgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgcHJpdmF0ZSBjdXJzb3I6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2FtZVNjZW5lOkdhbWVTY2VuZSA9IG51bGw7XHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgLy8gb25Mb2FkICgpIHt9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ2FtZVNjZW5lLmdldENvbXBvbmVudChHYW1lU2NlbmUpO1xyXG4gICAgICAgIHRoaXMubm9kZS5zY2FsZSA9IDIuNTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGN1cnNvclRvKGRpcjpjYy5WZWMyKVxyXG4gICAge1xyXG4gICAgICAgIC8qdmFyIGFuZ2xlOm51bWJlciA9IE1hdGguYXRhbjIoZGlyLnksZGlyLngpO1xyXG4gICAgICAgIHRoaXMuY3Vyc29yLnggPSAyMCAqIE1hdGguY29zKGFuZ2xlKTtcclxuICAgICAgICB0aGlzLmN1cnNvci55ID0gMjAgKiBNYXRoLnNpbihhbmdsZSk7Ki9cclxuICAgICAgICB0aGlzLmN1cnNvci5wb3NpdGlvbiA9IGRpci5tdWwoMjApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93KClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaGlkZGVuKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/data/LevelData.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '90b2c5e4idLdbllZpz2o3eD', 'LevelData');
// script/tscript/data/LevelData.ts

// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 关卡数据
 */
var LevelData = /** @class */ (function () {
    function LevelData() {
    }
    return LevelData;
}());
exports.default = LevelData;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxkYXRhXFxMZXZlbERhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGtGQUFrRjtBQUNsRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDRGQUE0RjtBQUM1RixtR0FBbUc7O0FBR25HOztHQUVHO0FBQ0g7SUFBQTtJQUlBLENBQUM7SUFBRCxnQkFBQztBQUFELENBSkEsQUFJQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5cclxuLyoqXHJcbiAqIOWFs+WNoeaVsOaNrlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGV2ZWxEYXRhe1xyXG5cclxuICAgIC8vcHVibGljIHN0YXI6bnVtYmVyID0gMDtcclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/gamescene/Guide.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8069eAiwitAFqEk/ApiAoTv', 'Guide');
// script/tscript/gamescene/Guide.ts

Object.defineProperty(exports, "__esModule", { value: true });
var MovieClip_1 = require("../util/MovieClip");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Guide = /** @class */ (function (_super) {
    __extends(Guide, _super);
    function Guide() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.msgTxt = null;
        _this.guideMovieClip = null;
        return _this;
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    Guide.prototype.start = function () {
        this.node.position = cc.Vec2.ZERO;
        this.guideMovieClip.node.active = false;
        var self = this;
        this.scheduleOnce(function () {
            self.guideMovieClip.node.active = true;
            self.scheduleOnce(function () {
                self.guideMovieClip.node.destroy();
            }, 5);
        }, 1.0);
        this.msgTxt.string = "";
        var i = 0;
        var msgsArr = ["松开手指龟缩防御", "按住屏幕移动捡刀", "攻击敌人圆心"];
        this.schedule(function () {
            if (i < msgsArr.length) {
                self.msgTxt.string = msgsArr[i];
            }
            else {
                self.node.destroy();
            }
            i++;
        }, 4, 3);
    };
    Guide.prototype.update = function (dt) {
    };
    __decorate([
        property(cc.Label)
    ], Guide.prototype, "msgTxt", void 0);
    __decorate([
        property(MovieClip_1.default)
    ], Guide.prototype, "guideMovieClip", void 0);
    Guide = __decorate([
        ccclass
    ], Guide);
    return Guide;
}(cc.Component));
exports.default = Guide;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxnYW1lc2NlbmVcXEd1aWRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwrQ0FBMEM7QUFFMUMsb0JBQW9CO0FBQ3BCLGtGQUFrRjtBQUNsRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFFN0YsSUFBQSxrQkFBbUMsRUFBbEMsb0JBQU8sRUFBRSxzQkFBeUIsQ0FBQztBQUcxQztJQUFtQyx5QkFBWTtJQUQvQztRQUFBLHFFQXVEQztRQW5ERyxZQUFNLEdBQWEsSUFBSSxDQUFDO1FBR3hCLG9CQUFjLEdBQWMsSUFBSSxDQUFDOztJQWdEckMsQ0FBQztJQTlDRyx3QkFBd0I7SUFFeEIsZUFBZTtJQUVmLHFCQUFLLEdBQUw7UUFFSSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztRQUVsQyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBRXhDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztRQUVoQixJQUFJLENBQUMsWUFBWSxDQUFDO1lBRWQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUV2QyxJQUFJLENBQUMsWUFBWSxDQUFDO2dCQUNkLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ3ZDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQTtRQUNSLENBQUMsRUFBQyxHQUFHLENBQUMsQ0FBQztRQUdQLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUN4QixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDVixJQUFJLE9BQU8sR0FBWSxDQUFDLFVBQVUsRUFBQyxVQUFVLEVBQUMsUUFBUSxDQUFDLENBQUM7UUFFeEQsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUVWLElBQUcsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQ3JCO2dCQUNJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNuQztpQkFDRDtnQkFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO2FBQ3ZCO1lBRUQsQ0FBQyxFQUFFLENBQUM7UUFDUixDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFBO0lBRVYsQ0FBQztJQUdELHNCQUFNLEdBQU4sVUFBUSxFQUFFO0lBR1YsQ0FBQztJQWxERDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO3lDQUNLO0lBR3hCO1FBREMsUUFBUSxDQUFDLG1CQUFTLENBQUM7aURBQ2E7SUFOaEIsS0FBSztRQUR6QixPQUFPO09BQ2EsS0FBSyxDQXNEekI7SUFBRCxZQUFDO0NBdERELEFBc0RDLENBdERrQyxFQUFFLENBQUMsU0FBUyxHQXNEOUM7a0JBdERvQixLQUFLIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1vdmllQ2xpcCBmcm9tIFwiLi4vdXRpbC9Nb3ZpZUNsaXBcIjtcclxuXHJcbi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHdWlkZSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgbXNnVHh0OiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KE1vdmllQ2xpcClcclxuICAgIGd1aWRlTW92aWVDbGlwOiBNb3ZpZUNsaXAgPSBudWxsO1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIC8vIG9uTG9hZCAoKSB7fVxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5ub2RlLnBvc2l0aW9uID0gY2MuVmVjMi5aRVJPO1xyXG5cclxuICAgICAgICB0aGlzLmd1aWRlTW92aWVDbGlwLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgIHNlbGYuZ3VpZGVNb3ZpZUNsaXAubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgc2VsZi5zY2hlZHVsZU9uY2UoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHNlbGYuZ3VpZGVNb3ZpZUNsaXAubm9kZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH0sNSlcclxuICAgICAgICB9LDEuMCk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLm1zZ1R4dC5zdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIHZhciBpID0gMDsgXHJcbiAgICAgICAgdmFyIG1zZ3NBcnI6c3RyaW5nW10gPSBbXCLmnb7lvIDmiYvmjIfpvp/nvKnpmLLlvqFcIixcIuaMieS9j+Wxj+W5leenu+WKqOaNoeWIgFwiLFwi5pS75Ye75pWM5Lq65ZyG5b+DXCJdO1xyXG5cclxuICAgICAgICB0aGlzLnNjaGVkdWxlKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICBpZihpIDwgbXNnc0Fyci5sZW5ndGgpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNlbGYubXNnVHh0LnN0cmluZyA9IG1zZ3NBcnJbaV07XHJcbiAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNlbGYubm9kZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICB9LDQsMylcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHVwZGF0ZSAoZHQpIFxyXG4gICAge1xyXG5cclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/base/TabButton.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '15064kNii5CiaeP0EhEgt/j', 'TabButton');
// script/tscript/ui/base/TabButton.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TabButton = /** @class */ (function (_super) {
    __extends(TabButton, _super);
    function TabButton() {
        // LIFE-CYCLE CALLBACKS:
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.normalFrame = null;
        _this.selectedFrame = null;
        _this._selected = false;
        return _this;
        /*start () {
    
        }*/
        // update (dt) {}
    }
    Object.defineProperty(TabButton.prototype, "selected", {
        get: function () {
            return this._selected;
        },
        set: function (value) {
            if (value) {
                //this.node.emit("mousedown",this);
                this.normalFrame.active = false;
                this.selectedFrame.active = true;
            }
            else {
                this.normalFrame.active = true;
                this.selectedFrame.active = false;
            }
            this._selected = value;
        },
        enumerable: true,
        configurable: true
    });
    TabButton.prototype.onLoad = function () {
        //this.selected = false;
    };
    __decorate([
        property(cc.Node)
    ], TabButton.prototype, "normalFrame", void 0);
    __decorate([
        property(cc.Node)
    ], TabButton.prototype, "selectedFrame", void 0);
    __decorate([
        property(cc.Boolean)
    ], TabButton.prototype, "_selected", void 0);
    TabButton = __decorate([
        ccclass
    ], TabButton);
    return TabButton;
}(cc.Component));
exports.default = TabButton;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcYmFzZVxcVGFiQnV0dG9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQXVDLDZCQUFZO0lBRG5EO1FBR0ksd0JBQXdCO1FBSDVCLHFFQWdEQztRQXpDVyxpQkFBVyxHQUFXLElBQUksQ0FBQztRQUczQixtQkFBYSxHQUFXLElBQUksQ0FBQztRQUc3QixlQUFTLEdBQVksS0FBSyxDQUFDOztRQTRCbkM7O1dBRUc7UUFJSCxpQkFBaUI7SUFDckIsQ0FBQztJQWxDRyxzQkFBVywrQkFBUTthQUFuQjtZQUNJLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUMxQixDQUFDO2FBQ0QsVUFBb0IsS0FBYztZQUU5QixJQUFHLEtBQUssRUFDUjtnQkFDSSxtQ0FBbUM7Z0JBQ25DLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztnQkFDaEMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO2FBR3BDO2lCQUNEO2dCQUNJLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztnQkFDL0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO2FBQ3JDO1lBRUQsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDM0IsQ0FBQzs7O09BakJBO0lBb0JELDBCQUFNLEdBQU47UUFFSSx3QkFBd0I7SUFDNUIsQ0FBQztJQWhDRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2tEQUNpQjtJQUduQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO29EQUNtQjtJQUdyQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDO2dEQUNjO0lBWmxCLFNBQVM7UUFEN0IsT0FBTztPQUNhLFNBQVMsQ0ErQzdCO0lBQUQsZ0JBQUM7Q0EvQ0QsQUErQ0MsQ0EvQ3NDLEVBQUUsQ0FBQyxTQUFTLEdBK0NsRDtrQkEvQ29CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFiQnV0dG9uIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBwcml2YXRlIG5vcm1hbEZyYW1lOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgcHJpdmF0ZSBzZWxlY3RlZEZyYW1lOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Cb29sZWFuKVxyXG4gICAgcHJpdmF0ZSBfc2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHB1YmxpYyBnZXQgc2VsZWN0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBzZWxlY3RlZCh2YWx1ZTogYm9vbGVhbikge1xyXG5cclxuICAgICAgICBpZih2YWx1ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vdGhpcy5ub2RlLmVtaXQoXCJtb3VzZWRvd25cIix0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5ub3JtYWxGcmFtZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZyYW1lLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgIFxyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm5vcm1hbEZyYW1lLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRGcmFtZS5hY3RpdmUgPSBmYWxzZTsgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3NlbGVjdGVkID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG9uTG9hZCAoKSBcclxuICAgIHtcclxuICAgICAgICAvL3RoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKnN0YXJ0ICgpIHtcclxuXHJcbiAgICB9Ki9cclxuXHJcbiAgICBcclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/gamescene/Wall.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bb3bf7VhEZAh6x80G/z5qtc', 'Wall');
// script/tscript/gamescene/Wall.ts

Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../core/GameManager");
var GameScene_1 = require("./GameScene");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Wall = /** @class */ (function (_super) {
    __extends(Wall, _super);
    function Wall() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.left = null;
        _this.right = null;
        _this.top = null;
        _this.down = null;
        _this.promptMsgTxt = null;
        // LIFE-CYCLE CALLBACKS:
        // onLoad () {}
        _this.dis = 1000;
        _this.speed = 30;
        _this.shrinkTime = 0;
        _this.isShrink = false;
        _this.zoom = cc.v2(0.5, 0);
        return _this;
    }
    Wall.prototype.start = function () {
        //this.left.runAction(cc.moveTo(1.2,-800,0));
        this.gameScene = GameManager_1.default.instance.gameScene.getComponent(GameScene_1.default);
        this.promptMsgTxt.node.active = false;
    };
    Wall.prototype.update = function (dt) {
        //return;
        if (this.shrinkTime > 0) {
            this.shrinkTime -= dt;
            this.isShrink = true;
            if (this.left.x < -(this.dis + this.left.width / 2)) {
                this.left.x += this.speed * dt;
                this.gameScene.sceneSize.width -= 2 * this.speed * dt;
            }
            if (this.right.x > (this.dis + this.right.width / 2)) {
                this.right.x -= this.speed * dt;
            }
            if (this.top.y > (this.dis + this.top.height / 2)) {
                this.top.y -= this.speed * dt;
                this.gameScene.sceneSize.height -= 2 * this.speed * dt;
            }
            if (this.down.y < -(this.dis + this.down.height / 2)) {
                this.down.y += this.speed * dt;
            }
        }
        else {
            if (this.isShrink) {
                this.isShrink = false;
                this.left.getComponent(cc.Animation).stop("splash");
                this.right.getComponent(cc.Animation).stop("splash");
                this.top.getComponent(cc.Animation).stop("splash");
                this.down.getComponent(cc.Animation).stop("splash");
                this.left.getComponent(cc.Animation).setCurrentTime(0, "splash");
                this.right.getComponent(cc.Animation).setCurrentTime(0, "splash");
                this.top.getComponent(cc.Animation).setCurrentTime(0, "splash");
                this.down.getComponent(cc.Animation).setCurrentTime(0, "splash");
            }
        }
    };
    Wall.prototype.shrink = function () {
        var _this = this;
        this.node.stopAllActions();
        this.promptMsgTxt.node.active = true;
        this.promptMsgTxt.play();
        this.scheduleOnce(function () {
            _this.shrinkTime = 15;
            _this.left.getComponent(cc.Animation).play("splash");
            _this.right.getComponent(cc.Animation).play("splash");
            _this.top.getComponent(cc.Animation).play("splash");
            _this.down.getComponent(cc.Animation).play("splash");
        }, 10);
    };
    __decorate([
        property(cc.Node)
    ], Wall.prototype, "left", void 0);
    __decorate([
        property(cc.Node)
    ], Wall.prototype, "right", void 0);
    __decorate([
        property(cc.Node)
    ], Wall.prototype, "top", void 0);
    __decorate([
        property(cc.Node)
    ], Wall.prototype, "down", void 0);
    __decorate([
        property(cc.Animation)
    ], Wall.prototype, "promptMsgTxt", void 0);
    Wall = __decorate([
        ccclass
    ], Wall);
    return Wall;
}(cc.Component));
exports.default = Wall;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxnYW1lc2NlbmVcXFdhbGwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG1EQUE4RDtBQUM5RCx5Q0FBb0M7QUFJcEMsb0JBQW9CO0FBQ3BCLGtGQUFrRjtBQUNsRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFFN0YsSUFBQSxrQkFBbUMsRUFBbEMsb0JBQU8sRUFBRSxzQkFBeUIsQ0FBQztBQUcxQztJQUFrQyx3QkFBWTtJQUQ5QztRQUFBLHFFQXFIQztRQWpIRyxVQUFJLEdBQVksSUFBSSxDQUFDO1FBR3JCLFdBQUssR0FBWSxJQUFJLENBQUM7UUFHdEIsU0FBRyxHQUFZLElBQUksQ0FBQztRQUdwQixVQUFJLEdBQVksSUFBSSxDQUFDO1FBR3JCLGtCQUFZLEdBQWdCLElBQUksQ0FBQztRQUVqQyx3QkFBd0I7UUFFeEIsZUFBZTtRQUVQLFNBQUcsR0FBVSxJQUFJLENBQUM7UUFFbEIsV0FBSyxHQUFVLEVBQUUsQ0FBQztRQUVuQixnQkFBVSxHQUFVLENBQUMsQ0FBQztRQUVyQixjQUFRLEdBQVcsS0FBSyxDQUFDO1FBYXpCLFVBQUksR0FBVyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBQyxDQUFDLENBQUMsQ0FBQzs7SUE0RXhDLENBQUM7SUFwRkcsb0JBQUssR0FBTDtRQUVJLDZDQUE2QztRQUM3QyxJQUFJLENBQUMsU0FBUyxHQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsbUJBQVMsQ0FBQyxDQUFDO1FBQ3hFLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDMUMsQ0FBQztJQUtBLHFCQUFNLEdBQU4sVUFBUSxFQUFFO1FBRVAsU0FBUztRQUNULElBQUcsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLEVBQ3RCO1lBQ0ksSUFBSSxDQUFDLFVBQVUsSUFBSSxFQUFFLENBQUM7WUFFdEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7WUFFckIsSUFBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsRUFDbEQ7Z0JBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7Z0JBQy9CLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEtBQUssSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7YUFDekQ7WUFFRCxJQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsRUFDbkQ7Z0JBQ0ksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7YUFDbkM7WUFFRCxJQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFDaEQ7Z0JBQ0ksSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7Z0JBQzlCLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7YUFDMUQ7WUFFRCxJQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUks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SUFBSTtRQUR4QixPQUFPO09BQ2EsSUFBSSxDQW9IeEI7SUFBRCxXQUFDO0NBcEhELEFBb0hDLENBcEhpQyxFQUFFLENBQUMsU0FBUyxHQW9IN0M7a0JBcEhvQixJQUFJIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdhbWVNYW5hZ2VyLCB7IEdhbWVTdGF0dXMgfSBmcm9tIFwiLi4vY29yZS9HYW1lTWFuYWdlclwiO1xyXG5pbXBvcnQgR2FtZVNjZW5lIGZyb20gXCIuL0dhbWVTY2VuZVwiO1xyXG5pbXBvcnQgVmVjdG9yMiBmcm9tIFwiLi4vdXRpbC9WZWN0b3IyXCI7XHJcbmltcG9ydCBEYXRhTWFuYWdlciBmcm9tIFwiLi4vY29yZS9EYXRhTWFuYWdlclwiO1xyXG5cclxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdhbGwgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgbGVmdDogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICByaWdodDogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICB0b3A6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZG93bjogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkFuaW1hdGlvbilcclxuICAgIHByb21wdE1zZ1R4dDpjYy5BbmltYXRpb24gPSBudWxsO1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIC8vIG9uTG9hZCAoKSB7fVxyXG5cclxuICAgIHByaXZhdGUgZGlzOm51bWJlciA9IDEwMDA7XHJcblxyXG4gICAgcHJpdmF0ZSBzcGVlZDpudW1iZXIgPSAzMDtcclxuXHJcbiAgICBwdWJsaWMgc2hyaW5rVGltZTpudW1iZXIgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgaXNTaHJpbms6Ym9vbGVhbiA9IGZhbHNlO1xyXG5cclxuXHJcbiAgICBwcml2YXRlIGdhbWVTY2VuZTpHYW1lU2NlbmU7XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG5cclxuICAgICAgICAvL3RoaXMubGVmdC5ydW5BY3Rpb24oY2MubW92ZVRvKDEuMiwtODAwLDApKTtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IEdhbWVNYW5hZ2VyLmluc3RhbmNlLmdhbWVTY2VuZS5nZXRDb21wb25lbnQoR2FtZVNjZW5lKTtcclxuICAgICAgICB0aGlzLnByb21wdE1zZ1R4dC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIHpvb206Y2MuVmVjMiA9IGNjLnYyKDAuNSwwKTtcclxuICAgIFxyXG4gICAgIHVwZGF0ZSAoZHQpIFxyXG4gICAgIHtcclxuICAgICAgICAvL3JldHVybjtcclxuICAgICAgICBpZih0aGlzLnNocmlua1RpbWUgPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zaHJpbmtUaW1lIC09IGR0O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pc1NocmluayA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLmxlZnQueCA8IC0odGhpcy5kaXMgKyB0aGlzLmxlZnQud2lkdGggLyAyKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sZWZ0LnggKz0gdGhpcy5zcGVlZCAqIGR0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lU2NlbmUuc2NlbmVTaXplLndpZHRoIC09IDIgKiB0aGlzLnNwZWVkICogZHQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMucmlnaHQueCA+ICh0aGlzLmRpcyArIHRoaXMucmlnaHQud2lkdGggLyAyKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodC54IC09IHRoaXMuc3BlZWQgKiBkdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYodGhpcy50b3AueSA+ICh0aGlzLmRpcyArIHRoaXMudG9wLmhlaWdodCAvIDIpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvcC55IC09IHRoaXMuc3BlZWQgKiBkdDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZVNjZW5lLnNjZW5lU2l6ZS5oZWlnaHQgLT0gMiAqIHRoaXMuc3BlZWQgKiBkdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5kb3duLnkgPCAtKHRoaXMuZGlzICsgdGhpcy5kb3duLmhlaWdodCAvIDIpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvd24ueSArPSB0aGlzLnNwZWVkICogZHQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuXHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuaXNTaHJpbmspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNTaHJpbmsgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnQuZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbikuc3RvcChcInNwbGFzaFwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmlnaHQuZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbikuc3RvcChcInNwbGFzaFwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9wLmdldENvbXBvbmVudChjYy5BbmltYXRpb24pLnN0b3AoXCJzcGxhc2hcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvd24uZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbikuc3RvcChcInNwbGFzaFwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGVmdC5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKS5zZXRDdXJyZW50VGltZSgwLFwic3BsYXNoXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodC5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKS5zZXRDdXJyZW50VGltZSgwLFwic3BsYXNoXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b3AuZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbikuc2V0Q3VycmVudFRpbWUoMCxcInNwbGFzaFwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG93bi5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKS5zZXRDdXJyZW50VGltZSgwLFwic3BsYXNoXCIpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICB9XHJcblxyXG4gICAgIHB1YmxpYyBzaHJpbmsoKVxyXG4gICAgIHtcclxuICAgICAgICB0aGlzLm5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5wcm9tcHRNc2dUeHQubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucHJvbXB0TXNnVHh0LnBsYXkoKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNocmlua1RpbWUgPSAxNTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGVmdC5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKS5wbGF5KFwic3BsYXNoXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2h0LmdldENvbXBvbmVudChjYy5BbmltYXRpb24pLnBsYXkoXCJzcGxhc2hcIik7XHJcbiAgICAgICAgICAgIHRoaXMudG9wLmdldENvbXBvbmVudChjYy5BbmltYXRpb24pLnBsYXkoXCJzcGxhc2hcIik7XHJcbiAgICAgICAgICAgIHRoaXMuZG93bi5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKS5wbGF5KFwic3BsYXNoXCIpO1xyXG5cclxuICAgICAgICB9LDEwKTtcclxuXHJcbiAgICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/base/CustomButton.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '35c71Atp/VMlITzkEr/Shad', 'CustomButton');
// script/tscript/ui/base/CustomButton.ts

Object.defineProperty(exports, "__esModule", { value: true });
var SoundClip_1 = require("../../audio/SoundClip");
var SoundManager_1 = require("../../core/SoundManager");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var CBState;
(function (CBState) {
    CBState[CBState["normal"] = 0] = "normal";
    CBState[CBState["pressed"] = 1] = "pressed";
    CBState[CBState["hover"] = 2] = "hover";
    CBState[CBState["disabled"] = 3] = "disabled";
})(CBState = exports.CBState || (exports.CBState = {}));
var CustomButton = /** @class */ (function (_super) {
    __extends(CustomButton, _super);
    function CustomButton() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /**
         * 点击时的播放声音
         */
        _this.clickSound = SoundClip_1.SoundClipType.none;
        /**
         * 正常状态
         */
        _this.normal = null;
        /**
         *  按下状态
         */
        _this.pressed = null;
        /**
         * 划过状态
         */
        _this.hover = null;
        /**
         * 无效状态
         */
        _this.disabled = null;
        _this._state = CBState.normal;
        return _this;
        // update (dt) {}
    }
    Object.defineProperty(CustomButton.prototype, "sprite", {
        get: function () {
            if (!this._sprite) {
                this._sprite = this.getComponent(cc.Sprite);
            }
            return this._sprite;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CustomButton.prototype, "state", {
        get: function () {
            return this._state;
        },
        set: function (value) {
            if (this.sprite && this[CBState[value]]) {
                this.sprite.spriteFrame = this[CBState[value]];
            }
            this._state = value;
        },
        enumerable: true,
        configurable: true
    });
    CustomButton.prototype.onLoad = function () {
        this.init();
    };
    /*start () {

    }*/
    CustomButton.prototype.init = function () {
        var _this = this;
        this.state = CBState.normal;
        this.node.on(cc.Node.EventType.TOUCH_START, function (event) {
            if (_this.state == CBState.disabled)
                return;
            SoundManager_1.default.instance.playAudioClip(_this.clickSound);
            _this.state = CBState.pressed;
        }, this);
        this.node.on(cc.Node.EventType.TOUCH_END, function (event) {
            if (_this.state == CBState.disabled)
                return;
            _this.state = CBState.normal;
        }, this);
        this.node.on(cc.Node.EventType.TOUCH_CANCEL, function (event) {
            if (_this.state == CBState.disabled)
                return;
            _this.state = CBState.normal;
        }, this);
        this.node.on(cc.Node.EventType.MOUSE_ENTER, function (event) {
            if (_this.state == CBState.disabled)
                return;
            _this.state = CBState.hover;
        }, this);
        this.node.on(cc.Node.EventType.MOUSE_UP, function (event) {
            if (_this.state == CBState.disabled)
                return;
            _this.state = CBState.hover;
        }, this);
        this.node.on(cc.Node.EventType.MOUSE_LEAVE, function (event) {
            if (_this.state == CBState.disabled)
                return;
            _this.state = CBState.normal;
        }, this);
    };
    __decorate([
        property({ type: cc.Enum(SoundClip_1.SoundClipType) })
    ], CustomButton.prototype, "clickSound", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], CustomButton.prototype, "normal", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], CustomButton.prototype, "pressed", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], CustomButton.prototype, "hover", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], CustomButton.prototype, "disabled", void 0);
    CustomButton = __decorate([
        ccclass
    ], CustomButton);
    return CustomButton;
}(cc.Component));
exports.default = CustomButton;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcYmFzZVxcQ3VzdG9tQnV0dG9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxtREFBc0Q7QUFDdEQsd0RBQW1EO0FBRW5ELG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBRTdGLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFFMUMsSUFBWSxPQU1YO0FBTkQsV0FBWSxPQUFPO0lBRWYseUNBQVUsQ0FBQTtJQUNWLDJDQUFPLENBQUE7SUFDUCx1Q0FBSyxDQUFBO0lBQ0wsNkNBQVEsQ0FBQTtBQUNaLENBQUMsRUFOVyxPQUFPLEdBQVAsZUFBTyxLQUFQLGVBQU8sUUFNbEI7QUFHRDtJQUEwQyxnQ0FBWTtJQUR0RDtRQUFBLHFFQXNIQztRQW5IRzs7V0FFRztRQUVJLGdCQUFVLEdBQWlCLHlCQUFhLENBQUMsSUFBSSxDQUFDO1FBRXJEOztXQUVHO1FBRUksWUFBTSxHQUFrQixJQUFJLENBQUM7UUFFcEM7O1dBRUc7UUFFSSxhQUFPLEdBQWtCLElBQUksQ0FBQztRQUVyQzs7V0FFRztRQUVJLFdBQUssR0FBa0IsSUFBSSxDQUFDO1FBRW5DOztXQUVHO1FBRUksY0FBUSxHQUFrQixJQUFJLENBQUM7UUFjOUIsWUFBTSxHQUFZLE9BQU8sQ0FBQyxNQUFNLENBQUM7O1FBd0V6QyxpQkFBaUI7SUFDckIsQ0FBQztJQW5GRyxzQkFBVyxnQ0FBTTthQUFqQjtZQUVJLElBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUNoQjtnQkFDSSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQy9DO1lBRUQsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQ3hCLENBQUM7OztPQUFBO0lBR0Qsc0JBQVcsK0JBQUs7YUFBaEI7WUFDSSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDdkIsQ0FBQzthQUNELFVBQWlCLEtBQWM7WUFFM0IsSUFBRyxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsRUFDdEM7Z0JBQ0ksSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2FBQ2xEO1lBRUQsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDeEIsQ0FBQzs7O09BVEE7SUFXRCw2QkFBTSxHQUFOO1FBRUksSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFFRDs7T0FFRztJQUVLLDJCQUFJLEdBQVo7UUFBQSxpQkErQ0M7UUE3Q0csSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDO1FBRTVCLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBQyxVQUFDLEtBQXlCO1lBQ2pFLElBQUcsS0FBSSxDQUFDLEtBQUssSUFBSSxPQUFPLENBQUMsUUFBUTtnQkFDN0IsT0FBTztZQUNYLHNCQUFZLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDckQsS0FBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDO1FBQ2pDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztRQUVSLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBQyxVQUFDLEtBQXlCO1lBQy9ELElBQUcsS0FBSSxDQUFDLEtBQUssSUFBSSxPQUFPLENBQUMsUUFBUTtnQkFDN0IsT0FBTztZQUVYLEtBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQztRQUNoQyxDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFFUixJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLEVBQUMsVUFBQyxLQUF5QjtZQUNsRSxJQUFHLEtBQUksQ0FBQyxLQUFLLElBQUksT0FBTyxDQUFDLFFBQVE7Z0JBQzdCLE9BQU87WUFFWCxLQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUM7UUFDaEMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDO1FBR1IsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFDLFVBQUMsS0FBeUI7WUFDakUsSUFBRyxLQUFJLENBQUMsS0FBSyxJQUFJLE9BQU8sQ0FBQyxRQUFRO2dCQUM3QixPQUFPO1lBRVgsS0FBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDO1FBQy9CLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztRQUVSLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBQyxVQUFDLEtBQXlCO1lBQzlELElBQUcsS0FBSSxDQUFDLEtBQUssSUFBSSxPQUFPLENBQUMsUUFBUTtnQkFDN0IsT0FBTztZQUVYLEtBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQztRQUMvQixDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFFUixJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUMsVUFBQyxLQUF5QjtZQUNqRSxJQUFHLEtBQUksQ0FBQyxLQUFLLElBQUksT0FBTyxDQUFDLFFBQVE7Z0JBQzdCLE9BQU87WUFFWCxLQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUM7UUFDaEMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDO0lBRVosQ0FBQztJQTVHRDtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBQyxFQUFFLENBQUMsSUFBSSxDQUFDLHlCQUFhLENBQUMsRUFBQyxDQUFDO29EQUNhO0lBTXJEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7Z0RBQ1c7SUFNcEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQztpREFDWTtJQU1yQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDOytDQUNVO0lBTW5DO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7a0RBQ2E7SUE5QnJCLFlBQVk7UUFEaEMsT0FBTztPQUNhLFlBQVksQ0FxSGhDO0lBQUQsbUJBQUM7Q0FySEQsQUFxSEMsQ0FySHlDLEVBQUUsQ0FBQyxTQUFTLEdBcUhyRDtrQkFySG9CLFlBQVkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTb3VuZENsaXBUeXBlIH0gZnJvbSBcIi4uLy4uL2F1ZGlvL1NvdW5kQ2xpcFwiO1xyXG5pbXBvcnQgU291bmRNYW5hZ2VyIGZyb20gXCIuLi8uLi9jb3JlL1NvdW5kTWFuYWdlclwiO1xyXG5cclxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbmV4cG9ydCBlbnVtIENCU3RhdGVcclxue1xyXG4gICAgbm9ybWFsID0gMCxcclxuICAgIHByZXNzZWQsXHJcbiAgICBob3ZlcixcclxuICAgIGRpc2FibGVkLFxyXG59XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDdXN0b21CdXR0b24gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog54K55Ye75pe255qE5pKt5pS+5aOw6Z+zXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5FbnVtKFNvdW5kQ2xpcFR5cGUpfSlcclxuICAgIHB1YmxpYyBjbGlja1NvdW5kOlNvdW5kQ2xpcFR5cGUgPSBTb3VuZENsaXBUeXBlLm5vbmU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmraPluLjnirbmgIFcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZUZyYW1lKVxyXG4gICAgcHVibGljIG5vcm1hbDpjYy5TcHJpdGVGcmFtZSA9IG51bGw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAg5oyJ5LiL54q25oCBXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIHB1YmxpYyBwcmVzc2VkOmNjLlNwcml0ZUZyYW1lID0gbnVsbDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIkui/h+eKtuaAgVxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBwdWJsaWMgaG92ZXI6Y2MuU3ByaXRlRnJhbWUgPSBudWxsO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5peg5pWI54q25oCBXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIHB1YmxpYyBkaXNhYmxlZDpjYy5TcHJpdGVGcmFtZSA9IG51bGw7XHJcblxyXG4gIFxyXG4gICAgcHJpdmF0ZSBfc3ByaXRlOiBjYy5TcHJpdGU7XHJcbiAgICBwdWJsaWMgZ2V0IHNwcml0ZSgpOiBjYy5TcHJpdGUge1xyXG5cclxuICAgICAgICBpZighdGhpcy5fc3ByaXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5fc3ByaXRlID0gdGhpcy5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9zcHJpdGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfc3RhdGU6IENCU3RhdGUgPSBDQlN0YXRlLm5vcm1hbDtcclxuICAgIHB1YmxpYyBnZXQgc3RhdGUoKTogQ0JTdGF0ZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBzdGF0ZSh2YWx1ZTogQ0JTdGF0ZSkge1xyXG5cclxuICAgICAgICBpZih0aGlzLnNwcml0ZSAmJiB0aGlzW0NCU3RhdGVbdmFsdWVdXSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNwcml0ZUZyYW1lID0gdGhpc1tDQlN0YXRlW3ZhbHVlXV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9zdGF0ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTG9hZCAoKSBcclxuICAgIHtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKnN0YXJ0ICgpIHtcclxuXHJcbiAgICB9Ki9cclxuXHJcbiAgICBwcml2YXRlIGluaXQoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBDQlN0YXRlLm5vcm1hbDtcclxuXHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULChldmVudDpjYy5FdmVudC5FdmVudFRvdWNoKT0+e1xyXG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlID09IENCU3RhdGUuZGlzYWJsZWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIFNvdW5kTWFuYWdlci5pbnN0YW5jZS5wbGF5QXVkaW9DbGlwKHRoaXMuY2xpY2tTb3VuZCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBDQlN0YXRlLnByZXNzZWQ7XHJcbiAgICAgICAgfSx0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwoZXZlbnQ6Y2MuRXZlbnQuRXZlbnRUb3VjaCk9PntcclxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZSA9PSBDQlN0YXRlLmRpc2FibGVkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IENCU3RhdGUubm9ybWFsO1xyXG4gICAgICAgIH0sdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9DQU5DRUwsKGV2ZW50OmNjLkV2ZW50LkV2ZW50VG91Y2gpPT57XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUgPT0gQ0JTdGF0ZS5kaXNhYmxlZClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBDQlN0YXRlLm5vcm1hbDtcclxuICAgICAgICB9LHRoaXMpO1xyXG5cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuTU9VU0VfRU5URVIsKGV2ZW50OmNjLkV2ZW50LkV2ZW50VG91Y2gpPT57XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUgPT0gQ0JTdGF0ZS5kaXNhYmxlZClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBDQlN0YXRlLmhvdmVyO1xyXG4gICAgICAgIH0sdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5NT1VTRV9VUCwoZXZlbnQ6Y2MuRXZlbnQuRXZlbnRUb3VjaCk9PntcclxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZSA9PSBDQlN0YXRlLmRpc2FibGVkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IENCU3RhdGUuaG92ZXI7XHJcbiAgICAgICAgfSx0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLk1PVVNFX0xFQVZFLChldmVudDpjYy5FdmVudC5FdmVudFRvdWNoKT0+e1xyXG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlID09IENCU3RhdGUuZGlzYWJsZWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gQ0JTdGF0ZS5ub3JtYWw7XHJcbiAgICAgICAgfSx0aGlzKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/gamescene/CameraFollow.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0ff65++q1xKkJHP5TbJ+4NT', 'CameraFollow');
// script/tscript/gamescene/CameraFollow.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Player_1 = require("./Player");
var GameManager_1 = require("../core/GameManager");
var GameScene_1 = require("./GameScene");
var Vector2_1 = require("../util/Vector2");
var Quake_1 = require("../util/Quake");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var CameraFollow = /** @class */ (function (_super) {
    __extends(CameraFollow, _super);
    function CameraFollow() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.camera = null;
        _this.player = null;
        _this.quake = null;
        return _this;
    }
    CameraFollow_1 = CameraFollow;
    // LIFE-CYCLE CALLBACKS:
    CameraFollow.prototype.onLoad = function () {
        CameraFollow_1.instance = this;
        //this.quake = this.camera.getComponent(Quake);
    };
    CameraFollow.prototype.start = function () {
        this.player = GameManager_1.default.instance.gameScene.getComponent(GameScene_1.default).player;
    };
    CameraFollow.prototype.update = function (dt) {
        /**********摄像机平滑跟随 */
        if (this.player && this.player.status != Player_1.PlayerStatus.die) {
            var pos = Vector2_1.default.lerp(this.camera.node.position, this.player.node.position, dt * 25.0);
            //pos = this.player.node.position;
            /*if(pos.x < -this.halfSize.width)
            {
                pos.x = -this.halfSize.width;
            }else if(pos.x > this.halfSize.width)
            {
                pos.x = this.halfSize.width;
            }

            if(pos.y < -this.halfSize.height)
            {
                pos.y = -this.halfSize.height;
            }else if(pos.y > this.halfSize.height)
            {
                pos.y = this.halfSize.height;
            }*/
            this.camera.node.position = pos;
            //cc.Camera.main.node.position = this.player.node.position;
        }
    };
    CameraFollow.prototype.shake = function (time) {
        if (time === void 0) { time = 0; }
        this.quake.shake(time);
    };
    var CameraFollow_1;
    CameraFollow.instance = null;
    __decorate([
        property(cc.Camera)
    ], CameraFollow.prototype, "camera", void 0);
    __decorate([
        property(Quake_1.default)
    ], CameraFollow.prototype, "quake", void 0);
    CameraFollow = CameraFollow_1 = __decorate([
        ccclass
    ], CameraFollow);
    return CameraFollow;
}(cc.Component));
exports.default = CameraFollow;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFxnYW1lc2NlbmVcXENhbWVyYUZvbGxvdy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbUNBQWdEO0FBQ2hELG1EQUE4QztBQUM5Qyx5Q0FBb0M7QUFDcEMsMkNBQXNDO0FBQ3RDLHVDQUFrQztBQUVsQyxvQkFBb0I7QUFDcEIsa0ZBQWtGO0FBQ2xGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQTBDLGdDQUFZO0lBRHREO1FBQUEscUVBZ0VDO1FBM0RVLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFJeEIsWUFBTSxHQUFVLElBQUksQ0FBQztRQUlwQixXQUFLLEdBQVMsSUFBSSxDQUFDOztJQW1EL0IsQ0FBQztxQkEvRG9CLFlBQVk7SUFjN0Isd0JBQXdCO0lBRXhCLDZCQUFNLEdBQU47UUFDSSxjQUFZLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUM3QiwrQ0FBK0M7SUFDbkQsQ0FBQztJQUVELDRCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsbUJBQVMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUNoRixDQUFDO0lBRUEsNkJBQU0sR0FBTixVQUFRLEVBQUU7UUFFTixxQkFBcUI7UUFHdEIsSUFBRyxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxJQUFJLHFCQUFZLENBQUMsR0FBRyxFQUN4RDtZQUNJLElBQUksR0FBRyxHQUFZLGlCQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDO1lBRS9GLGtDQUFrQztZQUVsQzs7Ozs7Ozs7Ozs7Ozs7ZUFjRztZQUVILElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUM7WUFFaEMsMkRBQTJEO1NBQzlEO0lBQ0osQ0FBQztJQUdNLDRCQUFLLEdBQVosVUFBYSxJQUFlO1FBQWYscUJBQUEsRUFBQSxRQUFlO1FBRXhCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzNCLENBQUM7O0lBeERZLHFCQUFRLEdBQWdCLElBQUksQ0FBQztJQUYzQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2dEQUNXO0lBUS9CO1FBREMsUUFBUSxDQUFDLGVBQUssQ0FBQzsrQ0FDVztJQVpWLFlBQVk7UUFEaEMsT0FBTztPQUNhLFlBQVksQ0ErRGhDO0lBQUQsbUJBQUM7Q0EvREQsQUErREMsQ0EvRHlDLEVBQUUsQ0FBQyxTQUFTLEdBK0RyRDtrQkEvRG9CLFlBQVkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGxheWVyLCB7IFBsYXllclN0YXR1cyB9IGZyb20gXCIuL1BsYXllclwiO1xyXG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uL2NvcmUvR2FtZU1hbmFnZXJcIjtcclxuaW1wb3J0IEdhbWVTY2VuZSBmcm9tIFwiLi9HYW1lU2NlbmVcIjtcclxuaW1wb3J0IFZlY3RvcjIgZnJvbSBcIi4uL3V0aWwvVmVjdG9yMlwiO1xyXG5pbXBvcnQgUXVha2UgZnJvbSBcIi4uL3V0aWwvUXVha2VcIjtcclxuXHJcbi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW1lcmFGb2xsb3cgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuXHJcbiAgICBAcHJvcGVydHkoY2MuQ2FtZXJhKVxyXG4gICAgcHVibGljIGNhbWVyYTpjYy5DYW1lcmEgPSBudWxsO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgaW5zdGFuY2U6Q2FtZXJhRm9sbG93ID0gbnVsbDtcclxuXHJcbiAgICBwdWJsaWMgcGxheWVyOlBsYXllciA9IG51bGw7XHJcblxyXG5cclxuICAgIEBwcm9wZXJ0eShRdWFrZSlcclxuICAgIHByaXZhdGUgcXVha2U6UXVha2UgPSBudWxsO1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgQ2FtZXJhRm9sbG93Lmluc3RhbmNlID0gdGhpcztcclxuICAgICAgICAvL3RoaXMucXVha2UgPSB0aGlzLmNhbWVyYS5nZXRDb21wb25lbnQoUXVha2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuICAgICAgICB0aGlzLnBsYXllciA9IEdhbWVNYW5hZ2VyLmluc3RhbmNlLmdhbWVTY2VuZS5nZXRDb21wb25lbnQoR2FtZVNjZW5lKS5wbGF5ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgIHVwZGF0ZSAoZHQpIFxyXG4gICAgIHtcclxuICAgICAgICAgLyoqKioqKioqKirmkYTlg4/mnLrlubPmu5Hot5/pmo8gKi9cclxuXHJcblxyXG4gICAgICAgIGlmKHRoaXMucGxheWVyICYmIHRoaXMucGxheWVyLnN0YXR1cyAhPSBQbGF5ZXJTdGF0dXMuZGllKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIHBvczpjYy5WZWMyID0gIFZlY3RvcjIubGVycCh0aGlzLmNhbWVyYS5ub2RlLnBvc2l0aW9uLHRoaXMucGxheWVyLm5vZGUucG9zaXRpb24sZHQgKiAyNS4wKTtcclxuXHJcbiAgICAgICAgICAgIC8vcG9zID0gdGhpcy5wbGF5ZXIubm9kZS5wb3NpdGlvbjtcclxuXHJcbiAgICAgICAgICAgIC8qaWYocG9zLnggPCAtdGhpcy5oYWxmU2l6ZS53aWR0aClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcG9zLnggPSAtdGhpcy5oYWxmU2l6ZS53aWR0aDtcclxuICAgICAgICAgICAgfWVsc2UgaWYocG9zLnggPiB0aGlzLmhhbGZTaXplLndpZHRoKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwb3MueCA9IHRoaXMuaGFsZlNpemUud2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHBvcy55IDwgLXRoaXMuaGFsZlNpemUuaGVpZ2h0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwb3MueSA9IC10aGlzLmhhbGZTaXplLmhlaWdodDtcclxuICAgICAgICAgICAgfWVsc2UgaWYocG9zLnkgPiB0aGlzLmhhbGZTaXplLmhlaWdodClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcG9zLnkgPSB0aGlzLmhhbGZTaXplLmhlaWdodDtcclxuICAgICAgICAgICAgfSovXHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5ub2RlLnBvc2l0aW9uID0gcG9zO1xyXG5cclxuICAgICAgICAgICAgLy9jYy5DYW1lcmEubWFpbi5ub2RlLnBvc2l0aW9uID0gdGhpcy5wbGF5ZXIubm9kZS5wb3NpdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgfVxyXG5cclxuXHJcbiAgICAgcHVibGljIHNoYWtlKHRpbWU6bnVtYmVyID0gMClcclxuICAgICB7XHJcbiAgICAgICAgIHRoaXMucXVha2Uuc2hha2UodGltZSk7XHJcbiAgICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/base/View.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'be1f6UJeX5H2rFJ6Tpwunrl', 'View');
// script/tscript/ui/base/View.ts

Object.defineProperty(exports, "__esModule", { value: true });
var UIManager_1 = require("../UIManager");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var View = /** @class */ (function (_super) {
    __extends(View, _super);
    function View() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    View.prototype.onLoad = function () {
        var _this = this;
        var closeBtn = this.node.getChildByName("Win").getChildByName("CloseBtn");
        if (closeBtn) {
            closeBtn.on(cc.Node.EventType.TOUCH_START, function (event) {
                //SoundManager.instance.playAudioClip(SoundClipType.click);
                UIManager_1.default.instance.closeView(_this.node.name, false);
            }, this);
        }
        //var obj{hh:"dd",fg:5645}
    };
    /*start () {

    }*/
    // update (dt) {}
    View.prototype.open = function () {
        this.node.active = true;
    };
    View.prototype.close = function () {
        this.node.x = 2500;
        this.node.active = false;
    };
    View.prototype.destroySelf = function () {
        this.node.destroy();
    };
    View = __decorate([
        ccclass
    ], View);
    return View;
}(cc.Component));
exports.default = View;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcYmFzZVxcVmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMENBQXFDO0FBSXJDLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBRTdGLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFJMUM7SUFBa0Msd0JBQVk7SUFBOUM7O0lBMENBLENBQUM7SUF2Q0kscUJBQU0sR0FBTjtRQUFBLGlCQWVDO1FBYkUsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBRTFFLElBQUcsUUFBUSxFQUNYO1lBQ0ksUUFBUSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUMsVUFBQyxLQUF5QjtnQkFDaEUsMkRBQTJEO2dCQUMzRCxtQkFBUyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsS0FBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsS0FBSyxDQUFDLENBQUM7WUFDdkQsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDO1NBQ1g7UUFHRCwwQkFBMEI7SUFFN0IsQ0FBQztJQUVGOztPQUVHO0lBRUgsaUJBQWlCO0lBRVYsbUJBQUksR0FBWDtRQUVJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztJQUM1QixDQUFDO0lBRU0sb0JBQUssR0FBWjtRQUVJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztRQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDN0IsQ0FBQztJQUVNLDBCQUFXLEdBQWxCO1FBRUksSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBeENnQixJQUFJO1FBRnhCLE9BQU87T0FFYSxJQUFJLENBMEN4QjtJQUFELFdBQUM7Q0ExQ0QsQUEwQ0MsQ0ExQ2lDLEVBQUUsQ0FBQyxTQUFTLEdBMEM3QztrQkExQ29CLElBQUkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVUlNYW5hZ2VyIGZyb20gXCIuLi9VSU1hbmFnZXJcIjtcclxuaW1wb3J0IHsgU291bmRDbGlwVHlwZSB9IGZyb20gXCIuLi8uLi9hdWRpby9Tb3VuZENsaXBcIjtcclxuaW1wb3J0IFNvdW5kTWFuYWdlciBmcm9tIFwiLi4vLi4vY29yZS9Tb3VuZE1hbmFnZXJcIjtcclxuXHJcbi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlldyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG5cclxuICAgICBvbkxvYWQgKCkge1xyXG5cclxuICAgICAgICB2YXIgY2xvc2VCdG4gPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJXaW5cIikuZ2V0Q2hpbGRCeU5hbWUoXCJDbG9zZUJ0blwiKTtcclxuICAgIFxyXG4gICAgICAgIGlmKGNsb3NlQnRuKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY2xvc2VCdG4ub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsKGV2ZW50OmNjLkV2ZW50LkV2ZW50VG91Y2gpPT57XHJcbiAgICAgICAgICAgICAgICAvL1NvdW5kTWFuYWdlci5pbnN0YW5jZS5wbGF5QXVkaW9DbGlwKFNvdW5kQ2xpcFR5cGUuY2xpY2spO1xyXG4gICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmluc3RhbmNlLmNsb3NlVmlldyh0aGlzLm5vZGUubmFtZSxmYWxzZSk7XHJcbiAgICAgICAgICAgIH0sdGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy92YXIgb2Jqe2hoOlwiZGRcIixmZzo1NjQ1fVxyXG5cclxuICAgICB9XHJcblxyXG4gICAgLypzdGFydCAoKSB7XHJcblxyXG4gICAgfSovXHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxuXHJcbiAgICBwdWJsaWMgb3BlbigpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsb3NlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm5vZGUueCA9IDI1MDA7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXN0cm95U2VsZigpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5ub2RlLmRlc3Ryb3koKTtcclxuICAgIH1cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/base/BaseUI.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1c79aZR9QhDHZp+sdZYPuJ8', 'BaseUI');
// script/tscript/ui/base/BaseUI.ts

// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BaseUI = /** @class */ (function (_super) {
    __extends(BaseUI, _super);
    function BaseUI() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.basePos = cc.Vec2.ZERO;
        return _this;
    }
    BaseUI.prototype.onLoad = function () {
        this.basePos = this.node.position;
        /*this.scheduleOnce(()=>{
           this.close();
        },0.01)*/
        this.close();
    };
    BaseUI.prototype.open = function () {
        var _this = this;
        this.node.active = true;
        this.scheduleOnce(function () {
            _this.node.position = cc.Vec2.ZERO;
        }, 0.01);
    };
    BaseUI.prototype.close = function () {
        this.node.active = false;
        this.node.position = this.basePos;
    };
    BaseUI = __decorate([
        ccclass
    ], BaseUI);
    return BaseUI;
}(cc.Component));
exports.default = BaseUI;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcYmFzZVxcQmFzZVVJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixrRkFBa0Y7QUFDbEYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5Qiw0RkFBNEY7QUFDNUYsbUdBQW1HOztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQW9DLDBCQUFZO0lBRGhEO1FBQUEscUVBbUNDO1FBL0JhLGFBQU8sR0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQzs7SUErQjdDLENBQUM7SUE3QlUsdUJBQU0sR0FBYjtRQUVJLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7UUFFbEM7O2lCQUVTO1FBRVQsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBRWpCLENBQUM7SUFJTSxxQkFBSSxHQUFYO1FBQUEsaUJBT0M7UUFMRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDeEIsSUFBSSxDQUFDLFlBQVksQ0FBQztZQUNkLEtBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3RDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztJQUVaLENBQUM7SUFFTSxzQkFBSyxHQUFaO1FBRUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDdEMsQ0FBQztJQWhDZ0IsTUFBTTtRQUQxQixPQUFPO09BQ2EsTUFBTSxDQWtDMUI7SUFBRCxhQUFDO0NBbENELEFBa0NDLENBbENtQyxFQUFFLENBQUMsU0FBUyxHQWtDL0M7a0JBbENvQixNQUFNIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VVSSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG5cclxuICAgIHByb3RlY3RlZCBiYXNlUG9zOmNjLlZlYzIgPSBjYy5WZWMyLlpFUk87XHJcblxyXG4gICAgcHVibGljIG9uTG9hZCgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5iYXNlUG9zID0gdGhpcy5ub2RlLnBvc2l0aW9uO1xyXG5cclxuICAgICAgICAvKnRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XHJcbiAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH0sMC4wMSkqL1xyXG5cclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcblxyXG4gICAgfVxyXG5cclxuIFxyXG5cclxuICAgIHB1YmxpYyBvcGVuKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUucG9zaXRpb24gPSBjYy5WZWMyLlpFUk87XHJcbiAgICAgICAgfSwwLjAxKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xvc2UoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm5vZGUucG9zaXRpb24gPSB0aGlzLmJhc2VQb3M7XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/UIManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3f6aeGt+WZA972S9YhvS8BF', 'UIManager');
// script/tscript/ui/UIManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
var View_1 = require("./base/View");
var MainUI_1 = require("./main/MainUI");
var SuccessPanel_1 = require("./result/SuccessPanel");
var MessageUI_1 = require("./message/MessageUI");
var RankUI_1 = require("./rank/RankUI");
var AccountUI_1 = require("./main/AccountUI");
var MatchingUI_1 = require("./main/MatchingUI");
var WXOpenDataUI_1 = require("./main/WXOpenDataUI");
var UpgradeUI_1 = require("./main/UpgradeUI");
var LevelMessageUI_1 = require("./main/LevelMessageUI");
var TryOutUI_1 = require("./main/TryOutUI");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 摊开管理类
 */
var UIManager = /** @class */ (function (_super) {
    __extends(UIManager, _super);
    function UIManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.viewLayers = [];
        _this.viewDic = {};
        _this.mainUI = null;
        _this.resultUI = null;
        _this.messageUI = null;
        _this.rankUI = null;
        _this.accountUI = null;
        _this.matchingUI = null;
        _this.wxOpenDataUI = null;
        _this.upgradeUI = null;
        _this.levelMessageUI = null;
        _this.tryOutUI = null;
        _this.tex = new cc.Texture2D();
        _this.showOpenData = false;
        return _this;
    }
    UIManager_1 = UIManager;
    Object.defineProperty(UIManager, "instance", {
        get: function () {
            /*if(this._instance == null)
            {
                this._instance = new UIManager();
                this._instance.init();
            }*/
            return UIManager_1._instance;
        },
        enumerable: true,
        configurable: true
    });
    UIManager.prototype.onLoad = function () {
        UIManager_1._instance = this;
        UIManager_1._instance.init();
    };
    UIManager.prototype.init = function () {
    };
    UIManager.prototype.start = function () {
    };
    /*update(dt)
    {
  
    }*/
    /**
     * 打开一个界面
     * @param viewName
     * @param callback
     * @param layerType
     * @param root
     */
    UIManager.prototype.OpenView = function (viewName, callback, layerType, root) {
        var _this = this;
        if (callback === void 0) { callback = null; }
        if (layerType === void 0) { layerType = LayerType.popup; }
        if (root === void 0) { root = "prefab/view/"; }
        var path = root + viewName;
        if (this.viewDic[viewName]) {
            var view = this.viewDic[viewName];
            view.node.setParent(null);
            this.viewLayers[layerType].addChild(view.node);
            view.node.position = cc.Vec2.ZERO;
            view.open();
            if (callback) {
                callback.apply(this, [this.viewDic[viewName]]);
            }
            return;
        }
        cc.loader.loadRes(path, cc.Prefab, function (err, prefab) {
            if (!err) {
                var node = cc.instantiate(prefab);
                var view = node.getComponent(View_1.default);
                //view.node.setParent(this.viewLayers[layerType]);
                view.node.setParent(null);
                _this.viewLayers[layerType].addChild(view.node);
                view.node.position = cc.Vec2.ZERO;
                view.open();
                cc.log("加载到的资源", prefab, view.name);
                _this.viewDic[viewName] = view;
                if (callback != null) {
                    callback.apply(_this, [view]);
                }
            }
            else {
                cc.log("路径" + path + "找不到资源");
            }
        });
    };
    /**
     * 关闭一个界面
     * @param viewName
     * @param isDele
     */
    UIManager.prototype.closeView = function (viewName, isDele) {
        if (isDele === void 0) { isDele = true; }
        if (this.viewDic[viewName]) {
            this.viewDic[viewName].close();
            this.viewDic[viewName].node.setParent(null);
            if (isDele) {
                this.viewDic[viewName].destroySelf();
                this.viewDic[viewName] = null;
                delete this.viewDic[viewName];
            }
        }
    };
    UIManager.prototype.getLayer = function (layerType) {
        return this.viewLayers[layerType];
    };
    var UIManager_1;
    __decorate([
        property(cc.Node)
    ], UIManager.prototype, "viewLayers", void 0);
    __decorate([
        property(MainUI_1.default)
    ], UIManager.prototype, "mainUI", void 0);
    __decorate([
        property(SuccessPanel_1.default)
    ], UIManager.prototype, "resultUI", void 0);
    __decorate([
        property(MessageUI_1.default)
    ], UIManager.prototype, "messageUI", void 0);
    __decorate([
        property(RankUI_1.default)
    ], UIManager.prototype, "rankUI", void 0);
    __decorate([
        property(AccountUI_1.default)
    ], UIManager.prototype, "accountUI", void 0);
    __decorate([
        property(MatchingUI_1.default)
    ], UIManager.prototype, "matchingUI", void 0);
    __decorate([
        property(WXOpenDataUI_1.default)
    ], UIManager.prototype, "wxOpenDataUI", void 0);
    __decorate([
        property(UpgradeUI_1.default)
    ], UIManager.prototype, "upgradeUI", void 0);
    __decorate([
        property(LevelMessageUI_1.default)
    ], UIManager.prototype, "levelMessageUI", void 0);
    __decorate([
        property(TryOutUI_1.default)
    ], UIManager.prototype, "tryOutUI", void 0);
    UIManager = UIManager_1 = __decorate([
        ccclass
    ], UIManager);
    return UIManager;
}(cc.Component));
exports.default = UIManager;
var ViewName = /** @class */ (function () {
    function ViewName() {
    }
    ViewName.SuccessPanel = "SuccessPanel";
    ViewName.FailPanel = "FailPanel";
    ViewName.EmployeesView = "EmployeesView";
    ViewName.EmployeesRecuitView = "EmployeesRecuitView";
    ViewName.RankView = "RankView";
    ViewName.GiftView = "GiftView";
    ViewName.DGView = "DGView";
    ViewName.IVView = "IVView";
    ViewName.FarmLevelView = "FarmLevelView";
    ViewName.BonusEffectView = "BonusEffectView";
    ViewName.EmployeeUpView = "EmployeeUpView";
    ViewName.OfflineView = "OfflineView";
    ViewName.FarmAreaUpView = "FarmAreaUpView";
    ViewName.SpeedUpView = "SpeedUpView";
    ViewName.RewardEconomicView = "RewardEconomicView";
    return ViewName;
}());
exports.ViewName = ViewName;
var LayerType;
(function (LayerType) {
    LayerType[LayerType["back"] = 0] = "back";
    LayerType[LayerType["popup"] = 1] = "popup";
})(LayerType = exports.LayerType || (exports.LayerType = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcVUlNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQ0FBK0I7QUFDL0Isd0NBQW1DO0FBQ25DLHNEQUFpRDtBQUNqRCxpREFBNEM7QUFDNUMsd0NBQW1DO0FBQ25DLDhDQUF5QztBQUN6QyxnREFBMkM7QUFFM0Msb0RBQStDO0FBQy9DLDhDQUF5QztBQUN6Qyx3REFBbUQ7QUFDbkQsNENBQXVDO0FBRXZDLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBRTdGLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFFMUM7O0dBRUc7QUFFSDtJQUF1Qyw2QkFBWTtJQURuRDtRQUFBLHFFQThKQztRQTlJVyxnQkFBVSxHQUFrQixFQUFFLENBQUM7UUFFL0IsYUFBTyxHQUF1QixFQUFFLENBQUM7UUFHbEMsWUFBTSxHQUFVLElBQUksQ0FBQztRQUdyQixjQUFRLEdBQWdCLElBQUksQ0FBQztRQUc3QixlQUFTLEdBQWEsSUFBSSxDQUFDO1FBRzNCLFlBQU0sR0FBVSxJQUFJLENBQUM7UUFHckIsZUFBUyxHQUFhLElBQUksQ0FBQztRQUczQixnQkFBVSxHQUFjLElBQUksQ0FBQztRQUc3QixrQkFBWSxHQUFnQixJQUFJLENBQUM7UUFHakMsZUFBUyxHQUFhLElBQUksQ0FBQztRQUczQixvQkFBYyxHQUFrQixJQUFJLENBQUM7UUFHckMsY0FBUSxHQUFZLElBQUksQ0FBQztRQUV4QixTQUFHLEdBQWdCLElBQUksRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBRXRDLGtCQUFZLEdBQVcsS0FBSyxDQUFDOztJQTBHekMsQ0FBQztrQkE3Sm9CLFNBQVM7SUFJMUIsc0JBQWtCLHFCQUFR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Nko3QjtJQUFELGdCQUFDO0NBN0pELEFBNkpDLENBN0pzQyxFQUFFLENBQUMsU0FBUyxHQTZKbEQ7a0JBN0pvQixTQUFTO0FBK0o5QjtJQUFBO0lBa0JBLENBQUM7SUFoQmlCLHFCQUFZLEdBQUcsY0FBYyxDQUFDO0lBQzlCLGtCQUFTLEdBQUcsV0FBVyxDQUFDO0lBQ3hCLHNCQUFhLEdBQUcsZUFBZSxDQUFDO0lBQ2hDLDRCQUFtQixHQUFHLHFCQUFxQixDQUFDO0lBQzVDLGlCQUFRLEdBQUcsVUFBVSxDQUFDO0lBQ3RCLGlCQUFRLEdBQUcsVUFBVSxDQUFDO0lBQ3RCLGVBQU0sR0FBRyxRQUFRLENBQUM7SUFDbEIsZUFBTSxHQUFHLFFBQVEsQ0FBQztJQUNsQixzQkFBYSxHQUFHLGVBQWUsQ0FBQztJQUNoQyx3QkFBZSxHQUFHLGlCQUFpQixDQUFDO0lBQ3BDLHVCQUFjLEdBQUcsZ0JBQWdCLENBQUM7SUFDbEMsb0JBQVcsR0FBRyxhQUFhLENBQUM7SUFDNUIsdUJBQWMsR0FBRyxnQkFBZ0IsQ0FBQztJQUNsQyxvQkFBVyxHQUFHLGFBQWEsQ0FBQztJQUM1QiwyQkFBa0IsR0FBRyxvQkFBb0IsQ0FBQztJQUU1RCxlQUFDO0NBbEJELEFBa0JDLElBQUE7QUFsQlksNEJBQVE7QUFvQnJCLElBQVksU0FJWDtBQUpELFdBQVksU0FBUztJQUVqQix5Q0FBUSxDQUFBO0lBQ1IsMkNBQUssQ0FBQTtBQUNULENBQUMsRUFKVyxTQUFTLEdBQVQsaUJBQVMsS0FBVCxpQkFBUyxRQUlwQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWaWV3IGZyb20gXCIuL2Jhc2UvVmlld1wiO1xyXG5pbXBvcnQgTWFpblVJIGZyb20gXCIuL21haW4vTWFpblVJXCI7XHJcbmltcG9ydCBTdWNjZXNzUGFuZWwgZnJvbSBcIi4vcmVzdWx0L1N1Y2Nlc3NQYW5lbFwiO1xyXG5pbXBvcnQgTWVzc2FnZVVJIGZyb20gXCIuL21lc3NhZ2UvTWVzc2FnZVVJXCI7XHJcbmltcG9ydCBSYW5rVUkgZnJvbSBcIi4vcmFuay9SYW5rVUlcIjtcclxuaW1wb3J0IEFjY291bnRVSSBmcm9tIFwiLi9tYWluL0FjY291bnRVSVwiO1xyXG5pbXBvcnQgTWF0Y2hpbmdVSSBmcm9tIFwiLi9tYWluL01hdGNoaW5nVUlcIjtcclxuaW1wb3J0IFdYU2RrIGZyb20gXCIuLi93eC9XWFNka1wiO1xyXG5pbXBvcnQgV1hPcGVuRGF0YVVJIGZyb20gXCIuL21haW4vV1hPcGVuRGF0YVVJXCI7XHJcbmltcG9ydCBVcGdyYWRlVUkgZnJvbSBcIi4vbWFpbi9VcGdyYWRlVUlcIjtcclxuaW1wb3J0IExldmVsTWVzc2FnZVVJIGZyb20gXCIuL21haW4vTGV2ZWxNZXNzYWdlVUlcIjtcclxuaW1wb3J0IFRyeU91dFVJIGZyb20gXCIuL21haW4vVHJ5T3V0VUlcIjtcclxuXHJcbi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG4vKipcclxuICog5pGK5byA566h55CG57G7XHJcbiAqL1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSU1hbmFnZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogVUlNYW5hZ2VyO1xyXG4gICAgXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBVSU1hbmFnZXIge1xyXG4gICAgICAgIC8qaWYodGhpcy5faW5zdGFuY2UgPT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IFVJTWFuYWdlcigpO1xyXG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZS5pbml0KCk7XHJcbiAgICAgICAgfSovXHJcbiAgICAgICAgcmV0dXJuIFVJTWFuYWdlci5faW5zdGFuY2U7XHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHByaXZhdGUgdmlld0xheWVyczpBcnJheTxjYy5Ob2RlPiA9IFtdO1xyXG5cclxuICAgIHByaXZhdGUgdmlld0RpYzp7W2tleTpzdHJpbmddOlZpZXd9ID0ge307XHJcblxyXG4gICAgQHByb3BlcnR5KE1haW5VSSlcclxuICAgIHB1YmxpYyBtYWluVUk6TWFpblVJID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoU3VjY2Vzc1BhbmVsKVxyXG4gICAgcHVibGljIHJlc3VsdFVJOlN1Y2Nlc3NQYW5lbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KE1lc3NhZ2VVSSlcclxuICAgIHB1YmxpYyBtZXNzYWdlVUk6TWVzc2FnZVVJID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoUmFua1VJKVxyXG4gICAgcHVibGljIHJhbmtVSTpSYW5rVUkgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShBY2NvdW50VUkpXHJcbiAgICBwdWJsaWMgYWNjb3VudFVJOkFjY291bnRVSSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KE1hdGNoaW5nVUkpXHJcbiAgICBwdWJsaWMgbWF0Y2hpbmdVSTpNYXRjaGluZ1VJID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoV1hPcGVuRGF0YVVJKVxyXG4gICAgcHVibGljIHd4T3BlbkRhdGFVSTpXWE9wZW5EYXRhVUkgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShVcGdyYWRlVUkpXHJcbiAgICBwdWJsaWMgdXBncmFkZVVJOlVwZ3JhZGVVSSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KExldmVsTWVzc2FnZVVJKVxyXG4gICAgcHVibGljIGxldmVsTWVzc2FnZVVJOkxldmVsTWVzc2FnZVVJID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoVHJ5T3V0VUkpXHJcbiAgICBwdWJsaWMgdHJ5T3V0VUk6VHJ5T3V0VUkgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgdGV4OmNjLlRleHR1cmUyRCA9IG5ldyBjYy5UZXh0dXJlMkQoKTtcclxuXHJcbiAgICBwcml2YXRlIHNob3dPcGVuRGF0YTpib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgXHJcblxyXG5cclxuICAgIG9uTG9hZCgpXHJcbiAgICB7XHJcbiAgICAgICAgVUlNYW5hZ2VyLl9pbnN0YW5jZSA9IHRoaXM7XHJcbiAgICAgICAgVUlNYW5hZ2VyLl9pbnN0YW5jZS5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0KClcclxuICAgIHtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpXHJcbiAgICB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qdXBkYXRlKGR0KVxyXG4gICAge1xyXG4gIFxyXG4gICAgfSovXHJcblxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaJk+W8gOS4gOS4queVjOmdolxyXG4gICAgICogQHBhcmFtIHZpZXdOYW1lIFxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIFxyXG4gICAgICogQHBhcmFtIGxheWVyVHlwZSBcclxuICAgICAqIEBwYXJhbSByb290IFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgT3BlblZpZXcodmlld05hbWU6c3RyaW5nLGNhbGxiYWNrOkZ1bmN0aW9uID0gbnVsbCxsYXllclR5cGU6TGF5ZXJUeXBlID0gTGF5ZXJUeXBlLnBvcHVwLHJvb3Q6c3RyaW5nID0gXCJwcmVmYWIvdmlldy9cIilcclxuICAgIHtcclxuICAgICAgICB2YXIgcGF0aCA9IHJvb3QgKyB2aWV3TmFtZTtcclxuXHJcbiAgICAgICAgaWYodGhpcy52aWV3RGljW3ZpZXdOYW1lXSlcclxuICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdmlldzpWaWV3ID0gdGhpcy52aWV3RGljW3ZpZXdOYW1lXTtcclxuICAgICAgICAgICAgdmlldy5ub2RlLnNldFBhcmVudChudWxsKTtcclxuICAgICAgICAgICAgdGhpcy52aWV3TGF5ZXJzW2xheWVyVHlwZV0uYWRkQ2hpbGQodmlldy5ub2RlKTtcclxuICAgICAgICAgICAgdmlldy5ub2RlLnBvc2l0aW9uID0gY2MuVmVjMi5aRVJPO1xyXG4gICAgICAgICAgICB2aWV3Lm9wZW4oKTtcclxuXHJcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLFt0aGlzLnZpZXdEaWNbdmlld05hbWVdXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2MubG9hZGVyLmxvYWRSZXMocGF0aCxjYy5QcmVmYWIsKGVycixwcmVmYWIpPT57XHJcblxyXG4gICAgICAgICAgICBpZighZXJyKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9kZTpjYy5Ob2RlID0gY2MuaW5zdGFudGlhdGUocHJlZmFiKTtcclxuICAgICAgICAgICAgICAgIHZhciB2aWV3OlZpZXcgPSBub2RlLmdldENvbXBvbmVudChWaWV3KTtcclxuICAgICAgICAgICAgICAgIC8vdmlldy5ub2RlLnNldFBhcmVudCh0aGlzLnZpZXdMYXllcnNbbGF5ZXJUeXBlXSk7XHJcbiAgICAgICAgICAgICAgICB2aWV3Lm5vZGUuc2V0UGFyZW50KG51bGwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3TGF5ZXJzW2xheWVyVHlwZV0uYWRkQ2hpbGQodmlldy5ub2RlKTtcclxuICAgICAgICAgICAgICAgIHZpZXcubm9kZS5wb3NpdGlvbiA9IGNjLlZlYzIuWkVSTztcclxuICAgICAgICAgICAgICAgIHZpZXcub3BlbigpO1xyXG4gICAgICAgICAgICAgICAgY2MubG9nKFwi5Yqg6L295Yiw55qE6LWE5rqQXCIscHJlZmFiLHZpZXcubmFtZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdEaWNbdmlld05hbWVdID0gdmlldztcclxuICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodGhpcyxbdmlld10pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNjLmxvZyhcIui3r+W+hFwiICsgcGF0aCArIFwi5om+5LiN5Yiw6LWE5rqQXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlhbPpl63kuIDkuKrnlYzpnaJcclxuICAgICAqIEBwYXJhbSB2aWV3TmFtZSBcclxuICAgICAqIEBwYXJhbSBpc0RlbGUgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjbG9zZVZpZXcodmlld05hbWU6c3RyaW5nLGlzRGVsZTpib29sZWFuID0gdHJ1ZSlcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLnZpZXdEaWNbdmlld05hbWVdKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3RGljW3ZpZXdOYW1lXS5jbG9zZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXdEaWNbdmlld05hbWVdLm5vZGUuc2V0UGFyZW50KG51bGwpO1xyXG4gICAgICAgICAgICBpZihpc0RlbGUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlld0RpY1t2aWV3TmFtZV0uZGVzdHJveVNlbGYoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlld0RpY1t2aWV3TmFtZV0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMudmlld0RpY1t2aWV3TmFtZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldExheWVyKGxheWVyVHlwZTpMYXllclR5cGUpOmNjLk5vZGVcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52aWV3TGF5ZXJzW2xheWVyVHlwZV07XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFZpZXdOYW1lXHJcbntcclxuICAgIHB1YmxpYyBzdGF0aWMgU3VjY2Vzc1BhbmVsID0gXCJTdWNjZXNzUGFuZWxcIjtcclxuICAgIHB1YmxpYyBzdGF0aWMgRmFpbFBhbmVsID0gXCJGYWlsUGFuZWxcIjtcclxuICAgIHB1YmxpYyBzdGF0aWMgRW1wbG95ZWVzVmlldyA9IFwiRW1wbG95ZWVzVmlld1wiO1xyXG4gICAgcHVibGljIHN0YXRpYyBFbXBsb3llZXNSZWN1aXRWaWV3ID0gXCJFbXBsb3llZXNSZWN1aXRWaWV3XCI7XHJcbiAgICBwdWJsaWMgc3RhdGljIFJhbmtWaWV3ID0gXCJSYW5rVmlld1wiO1xyXG4gICAgcHVibGljIHN0YXRpYyBHaWZ0VmlldyA9IFwiR2lmdFZpZXdcIjtcclxuICAgIHB1YmxpYyBzdGF0aWMgREdWaWV3ID0gXCJER1ZpZXdcIjtcclxuICAgIHB1YmxpYyBzdGF0aWMgSVZWaWV3ID0gXCJJVlZpZXdcIjtcclxuICAgIHB1YmxpYyBzdGF0aWMgRmFybUxldmVsVmlldyA9IFwiRmFybUxldmVsVmlld1wiO1xyXG4gICAgcHVibGljIHN0YXRpYyBCb251c0VmZmVjdFZpZXcgPSBcIkJvbnVzRWZmZWN0Vmlld1wiO1xyXG4gICAgcHVibGljIHN0YXRpYyBFbXBsb3llZVVwVmlldyA9IFwiRW1wbG95ZWVVcFZpZXdcIjtcclxuICAgIHB1YmxpYyBzdGF0aWMgT2ZmbGluZVZpZXcgPSBcIk9mZmxpbmVWaWV3XCI7XHJcbiAgICBwdWJsaWMgc3RhdGljIEZhcm1BcmVhVXBWaWV3ID0gXCJGYXJtQXJlYVVwVmlld1wiO1xyXG4gICAgcHVibGljIHN0YXRpYyBTcGVlZFVwVmlldyA9IFwiU3BlZWRVcFZpZXdcIjtcclxuICAgIHB1YmxpYyBzdGF0aWMgUmV3YXJkRWNvbm9taWNWaWV3ID0gXCJSZXdhcmRFY29ub21pY1ZpZXdcIjtcclxuICAgIFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBMYXllclR5cGVcclxue1xyXG4gICAgYmFjayA9IDAsXHJcbiAgICBwb3B1cCxcclxufVxyXG5cclxuXHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/main/LevelIcon.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8a516H4mcJAb7hInBhucHS5', 'LevelIcon');
// script/tscript/ui/main/LevelIcon.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DataManager_1 = require("../../core/DataManager");
var GameManager_1 = require("../../core/GameManager");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LevelIcon = /** @class */ (function (_super) {
    __extends(LevelIcon, _super);
    function LevelIcon() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.icon = null;
        _this.uplevel = null;
        _this.upelementArr = [];
        return _this;
        // update (dt) {}
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    LevelIcon.prototype.start = function () {
    };
    LevelIcon.prototype.updatePlayerSkin = function () {
        var levelId = DataManager_1.default.instance.getLevelId(DataManager_1.default.instance.getPlayerData().star);
        this.updateSkin(levelId);
    };
    LevelIcon.prototype.updateSkin = function (levelId, showup) {
        if (showup === void 0) { showup = true; }
        var leveCnfdatas = DataManager_1.default.instance.levelConfigDatas[levelId - 1];
        var spriteFrame = GameManager_1.default.instance.levelImgs[leveCnfdatas.level - 1];
        this.icon.spriteFrame = spriteFrame;
        this.icon.node.width = spriteFrame.getRect().width;
        this.icon.node.height = spriteFrame.getRect().height;
        if (!showup) {
            this.uplevel.active = false;
            return;
        }
        if (leveCnfdatas.uplevel == 0) {
            this.uplevel.active = false;
        }
        else {
            this.uplevel.active = true;
            for (var i = 0; i < this.upelementArr.length; i++) {
                if (i < leveCnfdatas.uplevel) {
                    this.upelementArr[i].getChildByName("upstate").active = true;
                }
                else {
                    this.upelementArr[i].getChildByName("upstate").active = false;
                }
            }
        }
    };
    __decorate([
        property(cc.Sprite)
    ], LevelIcon.prototype, "icon", void 0);
    __decorate([
        property(cc.Node)
    ], LevelIcon.prototype, "uplevel", void 0);
    __decorate([
        property(cc.Node)
    ], LevelIcon.prototype, "upelementArr", void 0);
    LevelIcon = __decorate([
        ccclass
    ], LevelIcon);
    return LevelIcon;
}(cc.Component));
exports.default = LevelIcon;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcbWFpblxcTGV2ZWxJY29uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxzREFBaUQ7QUFDakQsc0RBQWlEO0FBR2pELG9CQUFvQjtBQUNwQixrRkFBa0Y7QUFDbEYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5Qiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBRTdGLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFHMUM7SUFBdUMsNkJBQVk7SUFEbkQ7UUFBQSxxRUFrRUM7UUE5REcsVUFBSSxHQUFjLElBQUksQ0FBQztRQUd2QixhQUFPLEdBQVksSUFBSSxDQUFDO1FBR3hCLGtCQUFZLEdBQWMsRUFBRSxDQUFDOztRQXVEN0IsaUJBQWlCO0lBQ3JCLENBQUM7SUFyREcsd0JBQXdCO0lBRXhCLGVBQWU7SUFFZix5QkFBSyxHQUFMO0lBRUEsQ0FBQztJQUVNLG9DQUFnQixHQUF2QjtRQUVJLElBQUksT0FBTyxHQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6RixJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFFTSw4QkFBVSxHQUFqQixVQUFrQixPQUFjLEVBQUMsTUFBcUI7UUFBckIsdUJBQUEsRUFBQSxhQUFxQjtRQUdsRCxJQUFJLFlBQVksR0FBbUIscUJBQVcsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRXRGLElBQUksV0FBVyxHQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3pFLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztRQUNwQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDLEtBQUssQ0FBQztRQUNuRCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDLE1BQU0sQ0FBQztRQUVyRCxJQUFHLENBQUMsTUFBTSxFQUNWO1lBQ0ksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQzVCLE9BQU87U0FDVjtRQUVELElBQUcsWUFBWSxDQUFDLE9BQU8sSUFBSSxDQUFDLEVBQzVCO1lBQ0ksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1NBQy9CO2FBQ0Q7WUFDSSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFFM0IsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUNqRDtnQkFDSSxJQUFHLENBQUMsR0FBRyxZQUFZLENBQUMsT0FBTyxFQUMzQjtvQkFDSSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO2lCQUNoRTtxQkFDRDtvQkFDSSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO2lCQUNqRTthQUNKO1NBRUo7SUFFTCxDQUFDO0lBM0REO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7MkNBQ0c7SUFHdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzs4Q0FDTTtJQUd4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO21EQUNXO0lBVFosU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQWlFN0I7SUFBRCxnQkFBQztDQWpFRCxBQWlFQyxDQWpFc0MsRUFBRSxDQUFDLFNBQVMsR0FpRWxEO2tCQWpFb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEYXRhTWFuYWdlciBmcm9tIFwiLi4vLi4vY29yZS9EYXRhTWFuYWdlclwiO1xyXG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uLy4uL2NvcmUvR2FtZU1hbmFnZXJcIjtcclxuaW1wb3J0IExldmVsQ29uZmlnRGF0YSBmcm9tIFwiLi4vLi4vY29uZmlnZGF0YS9MZXZlbENvbmZpZ0RhdGFcIjtcclxuXHJcbi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZXZlbEljb24gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBpY29uOiBjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdXBsZXZlbDogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICB1cGVsZW1lbnRBcnI6IGNjLk5vZGVbXSA9IFtdO1xyXG5cclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcbiAgICAvLyBvbkxvYWQgKCkge31cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVQbGF5ZXJTa2luKClcclxuICAgIHtcclxuICAgICAgICB2YXIgbGV2ZWxJZCA9IERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldExldmVsSWQoRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLnN0YXIpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlU2tpbihsZXZlbElkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlU2tpbihsZXZlbElkOm51bWJlcixzaG93dXA6Ym9vbGVhbiA9IHRydWUpXHJcbiAgICB7XHJcblxyXG4gICAgICAgIHZhciBsZXZlQ25mZGF0YXM6TGV2ZWxDb25maWdEYXRhID0gRGF0YU1hbmFnZXIuaW5zdGFuY2UubGV2ZWxDb25maWdEYXRhc1tsZXZlbElkIC0gMV07XHJcblxyXG4gICAgICAgIHZhciBzcHJpdGVGcmFtZSA9IEdhbWVNYW5hZ2VyLmluc3RhbmNlLmxldmVsSW1nc1tsZXZlQ25mZGF0YXMubGV2ZWwgLSAxXTtcclxuICAgICAgICB0aGlzLmljb24uc3ByaXRlRnJhbWUgPSBzcHJpdGVGcmFtZTtcclxuICAgICAgICB0aGlzLmljb24ubm9kZS53aWR0aCA9IHNwcml0ZUZyYW1lLmdldFJlY3QoKS53aWR0aDtcclxuICAgICAgICB0aGlzLmljb24ubm9kZS5oZWlnaHQgPSBzcHJpdGVGcmFtZS5nZXRSZWN0KCkuaGVpZ2h0O1xyXG5cclxuICAgICAgICBpZighc2hvd3VwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy51cGxldmVsLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihsZXZlQ25mZGF0YXMudXBsZXZlbCA9PSAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy51cGxldmVsLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnVwbGV2ZWwuYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAgOyBpIDwgdGhpcy51cGVsZW1lbnRBcnIubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKGkgPCBsZXZlQ25mZGF0YXMudXBsZXZlbClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZWxlbWVudEFycltpXS5nZXRDaGlsZEJ5TmFtZShcInVwc3RhdGVcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGVsZW1lbnRBcnJbaV0uZ2V0Q2hpbGRCeU5hbWUoXCJ1cHN0YXRlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/base/TabSelectView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7d93diVFzZAVp3APNl+nI+9', 'TabSelectView');
// script/tscript/ui/base/TabSelectView.ts

Object.defineProperty(exports, "__esModule", { value: true });
var SelectView_1 = require("./SelectView");
var TabButton_1 = require("./TabButton");
var View_1 = require("./View");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TabSelectView = /** @class */ (function (_super) {
    __extends(TabSelectView, _super);
    function TabSelectView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.tabBtns = [];
        _this.selevtViews = [];
        _this.showView = null;
        return _this;
        // update (dt) {}
    }
    TabSelectView.prototype.onLoad = function () {
        _super.prototype.onLoad.call(this);
        for (var i = 0; i < this.tabBtns.length; i++) {
            this.tabBtns[i].node.on(cc.Node.EventType.TOUCH_START, function (event) {
                //SoundManager.instance.playAudioClip(SoundClipType.click);
            }, this);
            this.tabBtns[i].node.on(cc.Node.EventType.TOUCH_END, this.onTouchUp, this);
        }
        this.selectTab(0);
    };
    TabSelectView.prototype.open = function () {
        _super.prototype.open.call(this);
        if (this.currentView) {
            this.currentView.awake();
        }
    };
    TabSelectView.prototype.close = function () {
        _super.prototype.close.call(this);
        if (this.currentView) {
            this.currentView.sleep();
        }
    };
    TabSelectView.prototype.selectTab = function (index) {
        if (index === void 0) { index = -1; }
        for (var i = 0; i < this.tabBtns.length; i++) {
            if (i != index) {
                if (this.tabBtns[i].selected) {
                    this.tabBtns[i].selected = false;
                }
            }
            else {
                if (!this.tabBtns[i].selected) {
                    this.tabBtns[i].selected = true;
                    if (this.currentView) {
                        this.currentView.sleep();
                    }
                    this.currentView = this.selevtViews[i];
                    this.currentView.node.setParent(this.showView);
                    this.currentView.node.position = cc.Vec2.ZERO;
                    this.currentView.awake();
                }
            }
        }
    };
    TabSelectView.prototype.onTouchUp = function (event) {
        var btnNode = event.currentTarget;
        var index = this.tabBtns.indexOf(btnNode.getComponent(TabButton_1.default));
        this.selectTab(index);
    };
    __decorate([
        property(TabButton_1.default)
    ], TabSelectView.prototype, "tabBtns", void 0);
    __decorate([
        property(SelectView_1.default)
    ], TabSelectView.prototype, "selevtViews", void 0);
    __decorate([
        property(cc.Node)
    ], TabSelectView.prototype, "showView", void 0);
    TabSelectView = __decorate([
        ccclass
    ], TabSelectView);
    return TabSelectView;
}(View_1.default));
exports.default = TabSelectView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcYmFzZVxcVGFiU2VsZWN0Vmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQXNDO0FBQ3RDLHlDQUFvQztBQUNwQywrQkFBMEI7QUFLMUIsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFFN0YsSUFBQSxrQkFBbUMsRUFBbEMsb0JBQU8sRUFBRSxzQkFBeUIsQ0FBQztBQUsxQztJQUEyQyxpQ0FBSTtJQUQvQztRQUFBLHFFQTJGQztRQXZGVyxhQUFPLEdBQW9CLEVBQUUsQ0FBQztRQUc5QixpQkFBVyxHQUFxQixFQUFFLENBQUM7UUFHbkMsY0FBUSxHQUFXLElBQUksQ0FBQzs7UUFnRmhDLGlCQUFpQjtJQUNyQixDQUFDO0lBN0VHLDhCQUFNLEdBQU47UUFFSSxpQkFBTSxNQUFNLFdBQUUsQ0FBQztRQUVmLEtBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFDNUM7WUFDSSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFDLFVBQUMsS0FBeUI7Z0JBQzVFLDJEQUEyRDtZQUMvRCxDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUM7WUFDUixJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFDLElBQUksQ0FBQyxTQUFTLEVBQUMsSUFBSSxDQUFDLENBQUM7U0FDNUU7UUFFRCxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3RCLENBQUM7SUFHTSw0QkFBSSxHQUFYO1FBRUksaUJBQU0sSUFBSSxXQUFFLENBQUM7UUFDYixJQUFHLElBQUksQ0FBQyxXQUFXLEVBQ25CO1lBQ0ksSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUM1QjtJQUNMLENBQUM7SUFFTSw2QkFBSyxHQUFaO1FBRUksaUJBQU0sS0FBSyxXQUFFLENBQUM7UUFDZCxJQUFHLElBQUksQ0FBQyxXQUFXLEVBQ25CO1lBQ0ksSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUM1QjtJQUNMLENBQUM7SUFFTSxpQ0FBUyxHQUFoQixVQUFpQixLQUFpQjtRQUFqQixzQkFBQSxFQUFBLFNBQWdCLENBQUM7UUFFOUIsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUM1QztZQUVJLElBQUcsQ0FBQyxJQUFJLEtBQUssRUFDYjtnQkFDSSxJQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUMzQjtvQkFDSSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7aUJBQ3BDO2FBRUo7aUJBQ0Q7Z0JBQ0ksSUFBRyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUM1QjtvQkFDSSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7b0JBRWhDLElBQUcsSUFBSSxDQUFDLFdBQVcsRUFDbkI7d0JBQ0ksSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsQ0FBQztxQkFDNUI7b0JBRUQsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUN2QyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUMvQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7b0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLENBQUM7aUJBQzVCO2FBRUo7U0FDSjtJQUNMLENBQUM7SUFFTyxpQ0FBUyxHQUFqQixVQUFrQixLQUF5QjtRQUV2QyxJQUFJLE9BQU8sR0FBVyxLQUFLLENBQUMsYUFBd0IsQ0FBQztRQUVyRCxJQUFJLEtBQUssR0FBVSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLG1CQUFTLENBQUMsQ0FBQyxDQUFDO1FBRXpFLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUIsQ0FBQztJQXBGRDtRQURDLFFBQVEsQ0FBQyxtQkFBUyxDQUFDO2tEQUNrQjtJQUd0QztRQURDLFFBQVEsQ0FBQyxvQkFBVSxDQUFDO3NEQUNzQjtJQUczQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO21EQUNjO0lBVGYsYUFBYTtRQURqQyxPQUFPO09BQ2EsYUFBYSxDQTBGakM7SUFBRCxvQkFBQztDQTFGRCxBQTBGQyxDQTFGMEMsY0FBSSxHQTBGOUM7a0JBMUZvQixhQUFhIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNlbGVjdFZpZXcgZnJvbSBcIi4vU2VsZWN0Vmlld1wiO1xyXG5pbXBvcnQgVGFiQnV0dG9uIGZyb20gXCIuL1RhYkJ1dHRvblwiO1xyXG5pbXBvcnQgVmlldyBmcm9tIFwiLi9WaWV3XCI7XHJcbmltcG9ydCBVSU1hbmFnZXIgZnJvbSBcIi4uL1VJTWFuYWdlclwiO1xyXG5pbXBvcnQgU291bmRNYW5hZ2VyIGZyb20gXCIuLi8uLi9jb3JlL1NvdW5kTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBTb3VuZENsaXBUeXBlIH0gZnJvbSBcIi4uLy4uL2F1ZGlvL1NvdW5kQ2xpcFwiO1xyXG5cclxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcblxyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFiU2VsZWN0VmlldyBleHRlbmRzIFZpZXcge1xyXG5cclxuICAgIEBwcm9wZXJ0eShUYWJCdXR0b24pXHJcbiAgICBwcml2YXRlIHRhYkJ0bnM6QXJyYXk8VGFiQnV0dG9uPiA9IFtdO1xyXG5cclxuICAgIEBwcm9wZXJ0eShTZWxlY3RWaWV3KVxyXG4gICAgcHJpdmF0ZSBzZWxldnRWaWV3czpBcnJheTxTZWxlY3RWaWV3PiA9IFtdO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgcHJpdmF0ZSBzaG93VmlldzpjYy5Ob2RlID0gbnVsbDtcclxuICAgIFxyXG4gICAgcHJpdmF0ZSBjdXJyZW50VmlldzpTZWxlY3RWaWV3O1xyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcblxyXG4gICAgICAgIHN1cGVyLm9uTG9hZCgpO1xyXG5cclxuICAgICAgICBmb3IodmFyIGkgPSAwIDsgaSA8IHRoaXMudGFiQnRucy5sZW5ndGg7IGkrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMudGFiQnRuc1tpXS5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULChldmVudDpjYy5FdmVudC5FdmVudFRvdWNoKT0+e1xyXG4gICAgICAgICAgICAgICAgLy9Tb3VuZE1hbmFnZXIuaW5zdGFuY2UucGxheUF1ZGlvQ2xpcChTb3VuZENsaXBUeXBlLmNsaWNrKTtcclxuICAgICAgICAgICAgfSx0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy50YWJCdG5zW2ldLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELHRoaXMub25Ub3VjaFVwLHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZWxlY3RUYWIoMCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBvcGVuKClcclxuICAgIHtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICAgICAgaWYodGhpcy5jdXJyZW50VmlldylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZpZXcuYXdha2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsb3NlKClcclxuICAgIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgICAgIGlmKHRoaXMuY3VycmVudFZpZXcpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRWaWV3LnNsZWVwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZWxlY3RUYWIoaW5kZXg6bnVtYmVyID0gLTEpXHJcbiAgICB7XHJcbiAgICAgICAgZm9yKHZhciBpID0gMCA7IGkgPCB0aGlzLnRhYkJ0bnMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAge1xyXG5cclxuICAgICAgICAgICAgaWYoaSAhPSBpbmRleCApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMudGFiQnRuc1tpXS5zZWxlY3RlZClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYkJ0bnNbaV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZighdGhpcy50YWJCdG5zW2ldLnNlbGVjdGVkKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFiQnRuc1tpXS5zZWxlY3RlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuY3VycmVudFZpZXcpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWaWV3LnNsZWVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VmlldyA9IHRoaXMuc2VsZXZ0Vmlld3NbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Vmlldy5ub2RlLnNldFBhcmVudCh0aGlzLnNob3dWaWV3KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWaWV3Lm5vZGUucG9zaXRpb24gPSBjYy5WZWMyLlpFUk87XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Vmlldy5hd2FrZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvblRvdWNoVXAoZXZlbnQ6Y2MuRXZlbnQuRXZlbnRUb3VjaClcclxuICAgIHtcclxuICAgICAgICB2YXIgYnRuTm9kZTpjYy5Ob2RlID0gZXZlbnQuY3VycmVudFRhcmdldCBhcyBjYy5Ob2RlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBpbmRleDpudW1iZXIgPSB0aGlzLnRhYkJ0bnMuaW5kZXhPZihidG5Ob2RlLmdldENvbXBvbmVudChUYWJCdXR0b24pKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZWxlY3RUYWIoaW5kZXgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcblxyXG5cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/main/DuanWei.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1de79iLlGBPfIamdZenkimw', 'DuanWei');
// script/tscript/ui/main/DuanWei.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DataManager_1 = require("../../core/DataManager");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DuanWei = /** @class */ (function (_super) {
    __extends(DuanWei, _super);
    function DuanWei() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.icon = null;
        _this.nameTxt = null;
        _this.valueTxt = null;
        _this.skins = [];
        return _this;
        // update (dt) {}
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    DuanWei.prototype.start = function () {
        this.showDuanWei();
    };
    DuanWei.prototype.showDuanWei = function () {
        var star = DataManager_1.default.instance.getPlayerData().star;
        var leveCnfdatas = DataManager_1.default.instance.levelConfigDatas;
        var index = 0;
        if (star >= leveCnfdatas[leveCnfdatas.length - 1].stars) {
            index = leveCnfdatas.length - 1;
        }
        else {
            for (var i = 0; i < leveCnfdatas.length - 1; i++) {
                if (star >= leveCnfdatas[i].stars && star < leveCnfdatas[i + 1].stars) {
                    index = i;
                    break;
                }
            }
        }
        if (index == leveCnfdatas.length - 1) {
            this.nameTxt.string = leveCnfdatas[index].name;
            this.valueTxt.string = "" + DataManager_1.default.instance.getPlayerData().star;
            var spriteFrame = this.skins[this.skins.length - 1];
            this.icon.spriteFrame = spriteFrame;
            this.icon.node.width = spriteFrame.getOriginalSize().width;
            this.icon.node.height = spriteFrame.getOriginalSize().width;
        }
        else {
            this.nameTxt.string = leveCnfdatas[index].name;
            this.valueTxt.string = DataManager_1.default.instance.getPlayerData().star + "/" + leveCnfdatas[index + 1].stars;
            var spriteFrame = this.skins[leveCnfdatas[index].id - 1];
            this.icon.spriteFrame = spriteFrame;
            this.icon.node.width = spriteFrame.getOriginalSize().width;
            this.icon.node.height = spriteFrame.getOriginalSize().width;
        }
    };
    __decorate([
        property(cc.Sprite)
    ], DuanWei.prototype, "icon", void 0);
    __decorate([
        property(cc.Label)
    ], DuanWei.prototype, "nameTxt", void 0);
    __decorate([
        property(cc.Label)
    ], DuanWei.prototype, "valueTxt", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], DuanWei.prototype, "skins", void 0);
    DuanWei = __decorate([
        ccclass
    ], DuanWei);
    return DuanWei;
}(cc.Component));
exports.default = DuanWei;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcbWFpblxcRHVhbldlaS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsc0RBQWlEO0FBRWpELG9CQUFvQjtBQUNwQixrRkFBa0Y7QUFDbEYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5Qiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBRTdGLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFHMUM7SUFBcUMsMkJBQVk7SUFEakQ7UUFBQSxxRUFxRUM7UUFqRUcsVUFBSSxHQUFjLElBQUksQ0FBQztRQUd2QixhQUFPLEdBQWEsSUFBSSxDQUFDO1FBR3pCLGNBQVEsR0FBYSxJQUFJLENBQUM7UUFHMUIsV0FBSyxHQUFvQixFQUFFLENBQUE7O1FBdUQzQixpQkFBaUI7SUFDckIsQ0FBQztJQXRERyx3QkFBd0I7SUFFeEIsZUFBZTtJQUVmLHVCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVNLDZCQUFXLEdBQWxCO1FBRUksSUFBSSxJQUFJLEdBQVUscUJBQVcsQ0FBQyxRQUFRLENBQUMsYUFBYSxFQUFFLENBQUMsSUFBSSxDQUFDO1FBRTVELElBQUksWUFBWSxHQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDO1FBRXpELElBQUksS0FBSyxHQUFVLENBQUMsQ0FBQztRQUVyQixJQUFHLElBQUksSUFBSSxZQUFZLENBQUMsWUFBWSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQ3REO1lBQ0ksS0FBSyxHQUFHLFlBQVksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1NBQ25DO2FBQ0Q7WUFDSSxLQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRyxDQUFDLEdBQUcsWUFBWSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQ2hEO2dCQUNJLElBQUcsSUFBSSxJQUFJLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksSUFBSSxHQUFHLFlBQVksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUNwRTtvQkFDSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO29CQUNWLE1BQU07aUJBQ1Q7YUFFSjtTQUNKO1FBRUQsSUFBRyxLQUFLLElBQUksWUFBWSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQ25DO1lBQ0ksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQztZQUMvQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBSSxFQUFFLEdBQUcscUJBQVcsQ0FBQyxRQUFRLENBQUMsYUFBYSxFQUFFLENBQUMsSUFBSSxDQUFDO1lBQ3ZFLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDcEQsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO1lBQ3BDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsZUFBZSxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQzNELElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUMsZUFBZSxFQUFFLENBQUMsS0FBSyxDQUFDO1NBRS9EO2FBQ0Q7WUFDSSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQy9DLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFJLHFCQUFXLENBQUMsUUFBUSxDQUFDLGFBQWEsRUFBRSxDQUFDLElBQUksR0FBRyxHQUFHLEdBQUcsWUFBWSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7WUFDeEcsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ3pELElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztZQUNwQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLGVBQWUsRUFBRSxDQUFDLEtBQUssQ0FBQztZQUMzRCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDLGVBQWUsRUFBRSxDQUFDLEtBQUssQ0FBQztTQUMvRDtJQUVMLENBQUM7SUE5REQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzt5Q0FDRztJQUd2QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzRDQUNNO0lBR3pCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7NkNBQ087SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzswQ0FDRTtJQVpWLE9BQU87UUFEM0IsT0FBTztPQUNhLE9BQU8sQ0FvRTNCO0lBQUQsY0FBQztDQXBFRCxBQW9FQyxDQXBFb0MsRUFBRSxDQUFDLFNBQVMsR0FvRWhEO2tCQXBFb0IsT0FBTyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEYXRhTWFuYWdlciBmcm9tIFwiLi4vLi4vY29yZS9EYXRhTWFuYWdlclwiO1xyXG5cclxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIER1YW5XZWkgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBpY29uOiBjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIG5hbWVUeHQ6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB2YWx1ZVR4dDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIHNraW5zOmNjLlNwcml0ZUZyYW1lW10gPSBbXVxyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIC8vIG9uTG9hZCAoKSB7fVxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuICAgICAgICB0aGlzLnNob3dEdWFuV2VpKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3dEdWFuV2VpKClcclxuICAgIHtcclxuICAgICAgICB2YXIgc3RhcjpudW1iZXIgPSBEYXRhTWFuYWdlci5pbnN0YW5jZS5nZXRQbGF5ZXJEYXRhKCkuc3RhcjtcclxuXHJcbiAgICAgICAgdmFyIGxldmVDbmZkYXRhcyA9IERhdGFNYW5hZ2VyLmluc3RhbmNlLmxldmVsQ29uZmlnRGF0YXM7XHJcblxyXG4gICAgICAgIHZhciBpbmRleDpudW1iZXIgPSAwO1xyXG5cclxuICAgICAgICBpZihzdGFyID49IGxldmVDbmZkYXRhc1tsZXZlQ25mZGF0YXMubGVuZ3RoIC0gMV0uc3RhcnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpbmRleCA9IGxldmVDbmZkYXRhcy5sZW5ndGggLSAxOyBcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMCA7IGkgPCBsZXZlQ25mZGF0YXMubGVuZ3RoIC0gMTsgaSsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZihzdGFyID49IGxldmVDbmZkYXRhc1tpXS5zdGFycyAmJiBzdGFyIDwgbGV2ZUNuZmRhdGFzW2kgKyAxXS5zdGFycylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoaW5kZXggPT0gbGV2ZUNuZmRhdGFzLmxlbmd0aCAtIDEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm5hbWVUeHQuc3RyaW5nID0gbGV2ZUNuZmRhdGFzW2luZGV4XS5uYW1lO1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlVHh0LnN0cmluZyA9ICBcIlwiICsgRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLnN0YXI7XHJcbiAgICAgICAgICAgIHZhciBzcHJpdGVGcmFtZSA9IHRoaXMuc2tpbnNbdGhpcy5za2lucy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgdGhpcy5pY29uLnNwcml0ZUZyYW1lID0gc3ByaXRlRnJhbWU7XHJcbiAgICAgICAgICAgIHRoaXMuaWNvbi5ub2RlLndpZHRoID0gc3ByaXRlRnJhbWUuZ2V0T3JpZ2luYWxTaXplKCkud2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuaWNvbi5ub2RlLmhlaWdodCA9IHNwcml0ZUZyYW1lLmdldE9yaWdpbmFsU2l6ZSgpLndpZHRoO1xyXG5cclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5uYW1lVHh0LnN0cmluZyA9IGxldmVDbmZkYXRhc1tpbmRleF0ubmFtZTtcclxuICAgICAgICAgICAgdGhpcy52YWx1ZVR4dC5zdHJpbmcgPSAgRGF0YU1hbmFnZXIuaW5zdGFuY2UuZ2V0UGxheWVyRGF0YSgpLnN0YXIgKyBcIi9cIiArIGxldmVDbmZkYXRhc1tpbmRleCArIDFdLnN0YXJzO1xyXG4gICAgICAgICAgICB2YXIgc3ByaXRlRnJhbWUgPSB0aGlzLnNraW5zW2xldmVDbmZkYXRhc1tpbmRleF0uaWQgLSAxXTtcclxuICAgICAgICAgICAgdGhpcy5pY29uLnNwcml0ZUZyYW1lID0gc3ByaXRlRnJhbWU7XHJcbiAgICAgICAgICAgIHRoaXMuaWNvbi5ub2RlLndpZHRoID0gc3ByaXRlRnJhbWUuZ2V0T3JpZ2luYWxTaXplKCkud2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuaWNvbi5ub2RlLmhlaWdodCA9IHNwcml0ZUZyYW1lLmdldE9yaWdpbmFsU2l6ZSgpLndpZHRoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/main/UpgradeUI.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6be2cv0QNxBkaYVJWnm3I3G', 'UpgradeUI');
// script/tscript/ui/main/UpgradeUI.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BaseUI_1 = require("../base/BaseUI");
var WXSdk_1 = require("../../wx/WXSdk");
var LevelIcon_1 = require("./LevelIcon");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UpgradeUI = /** @class */ (function (_super) {
    __extends(UpgradeUI, _super);
    function UpgradeUI() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.turnbackBtn = null;
        _this.showBtn = null;
        _this.recoverBtn = null;
        _this.title = null;
        _this.titleSkins = [];
        _this.levelIcon = null;
        _this.iconSkins = [];
        _this.onExit = null;
        _this.onRecover = null;
        return _this;
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    UpgradeUI.prototype.start = function () {
        var _this = this;
        this.turnbackBtn.node.on(cc.Node.EventType.TOUCH_END, function (event) {
            _this.close();
            _this.onExit && _this.onExit();
        }, this);
        this.showBtn.node.on(cc.Node.EventType.TOUCH_END, function (event) {
            WXSdk_1.default.instance.shareToAnyOne(function () {
                _this.close();
                _this.onExit && _this.onExit();
            }, function () { });
        }, this);
        this.recoverBtn.node.on(cc.Node.EventType.TOUCH_START, function (event) {
            WXSdk_1.default.instance.shareToAnyOne(function () {
                _this.close();
                _this.onRecover && _this.onRecover();
            }, function () { });
        }, this);
    };
    // update (dt) {}
    UpgradeUI.prototype.open = function () {
        _super.prototype.open.call(this);
        WXSdk_1.default.instance.showBottomBanner("adunit-d39672ca59cf15a2");
    };
    UpgradeUI.prototype.close = function () {
        _super.prototype.close.call(this);
        WXSdk_1.default.instance.removeBanner();
    };
    UpgradeUI.prototype.showUpgrade = function (levelId, up) {
        this.levelIcon.updateSkin(levelId);
        if (up) {
            this.showBtn.node.active = true;
            this.recoverBtn.node.active = false;
            this.title.spriteFrame = this.titleSkins[0];
        }
        else {
            this.showBtn.node.active = false;
            this.recoverBtn.node.active = true;
            this.title.spriteFrame = this.titleSkins[1];
        }
    };
    __decorate([
        property(cc.Button)
    ], UpgradeUI.prototype, "turnbackBtn", void 0);
    __decorate([
        property(cc.Button)
    ], UpgradeUI.prototype, "showBtn", void 0);
    __decorate([
        property(cc.Button)
    ], UpgradeUI.prototype, "recoverBtn", void 0);
    __decorate([
        property(cc.Sprite)
    ], UpgradeUI.prototype, "title", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], UpgradeUI.prototype, "titleSkins", void 0);
    __decorate([
        property(LevelIcon_1.default)
    ], UpgradeUI.prototype, "levelIcon", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], UpgradeUI.prototype, "iconSkins", void 0);
    UpgradeUI = __decorate([
        ccclass
    ], UpgradeUI);
    return UpgradeUI;
}(BaseUI_1.default));
exports.default = UpgradeUI;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcbWFpblxcVXBncmFkZVVJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx5Q0FBb0M7QUFDcEMsd0NBQW1DO0FBQ25DLHlDQUFvQztBQUVwQyxvQkFBb0I7QUFDcEIsa0ZBQWtGO0FBQ2xGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQXVDLDZCQUFNO0lBRDdDO1FBQUEscUVBbUdDO1FBOUZVLGlCQUFXLEdBQWEsSUFBSSxDQUFDO1FBRzdCLGFBQU8sR0FBYSxJQUFJLENBQUM7UUFHekIsZ0JBQVUsR0FBYSxJQUFJLENBQUM7UUFHbkMsV0FBSyxHQUFjLElBQUksQ0FBQztRQUd4QixnQkFBVSxHQUFxQixFQUFFLENBQUM7UUFHbEMsZUFBUyxHQUFjLElBQUksQ0FBQztRQUc1QixlQUFTLEdBQXFCLEVBQUUsQ0FBQztRQUcxQixZQUFNLEdBQVksSUFBSSxDQUFDO1FBRXZCLGVBQVMsR0FBWSxJQUFJLENBQUM7O0lBdUVyQyxDQUFDO0lBckVHLHdCQUF3QjtJQUV4QixlQUFlO0lBRWYseUJBQUssR0FBTDtRQUFBLGlCQWdDQztRQTlCRyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFDLFVBQUMsS0FBeUI7WUFFM0UsS0FBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ2IsS0FBSSxDQUFDLE1BQU0sSUFBSSxLQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDakMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDO1FBRVIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBQyxVQUFDLEtBQXlCO1lBRXZFLGVBQUssQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDO2dCQUV6QixLQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7Z0JBQ2IsS0FBSSxDQUFDLE1BQU0sSUFBSSxLQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7WUFFakMsQ0FBQyxFQUFDLGNBQUssQ0FBQyxDQUFDLENBQUM7UUFHZCxDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFFUixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFDLFVBQUMsS0FBeUI7WUFHNUUsZUFBSyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUM7Z0JBRXpCLEtBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztnQkFDYixLQUFJLENBQUMsU0FBUyxJQUFJLEtBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUV2QyxDQUFDLEVBQUMsY0FBSyxDQUFDLENBQUMsQ0FBQztRQUdkLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztJQUNaLENBQUM7SUFFRCxpQkFBaUI7SUFFVix3QkFBSSxHQUFYO1FBRUksaUJBQU0sSUFBSSxXQUFFLENBQUM7UUFDYixlQUFLLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLHlCQUF5QixDQUFDLENBQUM7SUFDL0QsQ0FBQztJQUVNLHlCQUFLLEdBQVo7UUFFSSxpQkFBTSxLQUFLLFdBQUUsQ0FBQztRQUNkLGVBQUssQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDbEMsQ0FBQztJQUVNLCtCQUFXLEdBQWxCLFVBQW1CLE9BQWMsRUFBQyxFQUFVO1FBRXhDLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRW5DLElBQUcsRUFBRSxFQUNMO1lBQ0ksSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUNoQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ3BDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDL0M7YUFDRDtZQUNJLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDakMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUNuQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQy9DO0lBRUwsQ0FBQztJQTdGRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2tEQUNnQjtJQUdwQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzhDQUNZO0lBR2hDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7aURBQ2U7SUFHbkM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzs0Q0FDSTtJQUd4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDO2lEQUNTO0lBR2xDO1FBREMsUUFBUSxDQUFDLG1CQUFTLENBQUM7Z0RBQ1E7SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQztnREFDUTtJQXRCaEIsU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQWtHN0I7SUFBRCxnQkFBQztDQWxHRCxBQWtHQyxDQWxHc0MsZ0JBQU0sR0FrRzVDO2tCQWxHb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCYXNlVUkgZnJvbSBcIi4uL2Jhc2UvQmFzZVVJXCI7XHJcbmltcG9ydCBXWFNkayBmcm9tIFwiLi4vLi4vd3gvV1hTZGtcIjtcclxuaW1wb3J0IExldmVsSWNvbiBmcm9tIFwiLi9MZXZlbEljb25cIjtcclxuXHJcbi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVcGdyYWRlVUkgZXh0ZW5kcyBCYXNlVUkge1xyXG5cclxuXHJcbiAgICBAcHJvcGVydHkoY2MuQnV0dG9uKVxyXG4gICAgcHVibGljIHR1cm5iYWNrQnRuOmNjLkJ1dHRvbiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkJ1dHRvbilcclxuICAgIHB1YmxpYyBzaG93QnRuOmNjLkJ1dHRvbiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkJ1dHRvbilcclxuICAgIHB1YmxpYyByZWNvdmVyQnRuOmNjLkJ1dHRvbiA9IG51bGw7XHJcbiAgICBcclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICB0aXRsZTogY2MuU3ByaXRlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICB0aXRsZVNraW5zOiBjYy5TcHJpdGVGcmFtZVtdID0gW107XHJcblxyXG4gICAgQHByb3BlcnR5KExldmVsSWNvbilcclxuICAgIGxldmVsSWNvbjogTGV2ZWxJY29uID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBpY29uU2tpbnM6IGNjLlNwcml0ZUZyYW1lW10gPSBbXTtcclxuXHJcblxyXG4gICAgcHVibGljIG9uRXhpdDpGdW5jdGlvbiA9IG51bGw7XHJcblxyXG4gICAgcHVibGljIG9uUmVjb3ZlcjpGdW5jdGlvbiA9IG51bGw7XHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgLy8gb25Mb2FkICgpIHt9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG5cclxuICAgICAgICB0aGlzLnR1cm5iYWNrQnRuLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELChldmVudDpjYy5FdmVudC5FdmVudFRvdWNoKT0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHRoaXMub25FeGl0ICYmIHRoaXMub25FeGl0KCk7XHJcbiAgICAgICAgfSx0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG93QnRuLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELChldmVudDpjYy5FdmVudC5FdmVudFRvdWNoKT0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBXWFNkay5pbnN0YW5jZS5zaGFyZVRvQW55T25lKCgpPT57XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkV4aXQgJiYgdGhpcy5vbkV4aXQoKTtcclxuXHJcbiAgICAgICAgICAgIH0sKCk9Pnt9KTtcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0sdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMucmVjb3ZlckJ0bi5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULChldmVudDpjYy5FdmVudC5FdmVudFRvdWNoKT0+XHJcbiAgICAgICAge1xyXG5cclxuICAgICAgICAgICAgV1hTZGsuaW5zdGFuY2Uuc2hhcmVUb0FueU9uZSgoKT0+e1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub25SZWNvdmVyICYmIHRoaXMub25SZWNvdmVyKCk7XHJcblxyXG4gICAgICAgICAgICB9LCgpPT57fSk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9LHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcblxyXG4gICAgcHVibGljIG9wZW4oKVxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgICAgICBXWFNkay5pbnN0YW5jZS5zaG93Qm90dG9tQmFubmVyKFwiYWR1bml0LWQzOTY3MmNhNTljZjE1YTJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsb3NlKClcclxuICAgIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgICAgIFdYU2RrLmluc3RhbmNlLnJlbW92ZUJhbm5lcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93VXBncmFkZShsZXZlbElkOm51bWJlcix1cDpib29sZWFuKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubGV2ZWxJY29uLnVwZGF0ZVNraW4obGV2ZWxJZCk7XHJcblxyXG4gICAgICAgIGlmKHVwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93QnRuLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5yZWNvdmVyQnRuLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMudGl0bGUuc3ByaXRlRnJhbWUgPSB0aGlzLnRpdGxlU2tpbnNbMF07XHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0J0bi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnJlY292ZXJCdG4ubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnRpdGxlLnNwcml0ZUZyYW1lID0gdGhpcy50aXRsZVNraW5zWzFdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/main/MatchingUI.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bd1b5wmfrVFRaC+JmCerd3a', 'MatchingUI');
// script/tscript/ui/main/MatchingUI.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BaseUI_1 = require("../base/BaseUI");
var Random_1 = require("../../util/Random");
var GameManager_1 = require("../../core/GameManager");
var GameScene_1 = require("../../gamescene/GameScene");
var ResourcesManager_1 = require("../../core/ResourcesManager");
var DataManager_1 = require("../../core/DataManager");
var WXSdk_1 = require("../../wx/WXSdk");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var MatchingUI = /** @class */ (function (_super) {
    __extends(MatchingUI, _super);
    function MatchingUI() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.otherUsers = [];
        _this.dotArr = [];
        _this.radius = 220;
        _this.gameSceme = null;
        return _this;
        // update (dt) {}
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    MatchingUI.prototype.start = function () {
        var _this = this;
        this.gameSceme = GameManager_1.default.instance.gameScene.getComponent(GameScene_1.default);
        var angle = 2 * Math.PI / this.otherUsers.length;
        var idArr = [];
        for (var i = 1; i < this.otherUsers.length; i++) {
            var node = this.otherUsers[i];
            node.active = false;
        }
        for (var i = 1; i <= 50; i++) {
            idArr.push(i);
        }
        this.scheduleOnce(function () {
            if (WXSdk_1.default.instance.isWXPlatform()) {
                if (WXSdk_1.default.instance.isLogin) {
                    _this.onWxLogin();
                }
                else {
                    cc.systemEvent.on("wxLogin", _this.onWxLogin, _this);
                }
            }
            var _loop_1 = function () {
                var node = _this.otherUsers[i];
                node.active = false;
                var id = _this.gameSceme.aiNameIndexArr[i - 1];
                ResourcesManager_1.default.instance.load("headIcon/" + id, function (spriteFrame) {
                    if (spriteFrame) {
                        node.getComponent(cc.Sprite).spriteFrame = spriteFrame;
                    }
                    node.getChildByName("NameTxt").getComponent(cc.Label).string = DataManager_1.default.instance.nameConfigDatas[id].name;
                }, cc.SpriteFrame, false, false);
            };
            for (var i = 1; i < _this.otherUsers.length; i++) {
                _loop_1();
            }
        }, 0.1);
    };
    MatchingUI.prototype.open = function () {
        var _this = this;
        _super.prototype.open.call(this);
        var t = Random_1.default.Range(2.5, 4.8);
        this.scheduleOnce(function () {
            GameManager_1.default.instance.gameScene.getComponent(GameScene_1.default).startGame();
            _this.close();
        }, t + 1.5);
        var n = this.otherUsers.length + Random_1.default.RangeInteger(2, 8);
        var idArr = [];
        for (var i = 0; i < n; i++) {
            idArr.push(i);
        }
        this.schedule(function () {
            var index = Random_1.default.RangeInteger(0, idArr.length);
            var id = idArr[index];
            if (_this.otherUsers[id]) {
                _this.otherUsers[id].active = true;
            }
            idArr.splice(index, 1);
        }, t / n, n - 1);
        for (var j = 0; j < this.dotArr.length; j++) {
            this.dotArr[j].active = false;
        }
        var i = 0;
        this.schedule(function () {
            for (var j = 0; j < _this.dotArr.length; j++) {
                _this.dotArr[j].active = (j < i);
            }
            i++;
            i %= _this.dotArr.length + 1;
        }, 0.25, 20);
    };
    MatchingUI.prototype.onWxLogin = function () {
        var _this = this;
        this.otherUsers[0].active = false;
        WXSdk_1.default.instance.getUserIcon(function (texture) {
            _this.otherUsers[0].active = true;
            var headIcon = _this.otherUsers[0].getChildByName("Mask").getChildByName("HeadIcon").getComponent(cc.Sprite);
            headIcon.spriteFrame = new cc.SpriteFrame(texture);
            _this.otherUsers[0].getChildByName("NameTxt").getComponent(cc.Label).string = WXSdk_1.default.instance.nickname;
        }, 64);
    };
    MatchingUI.prototype.onDestroy = function () {
        cc.systemEvent.off("wxLogin", this.onWxLogin, this);
    };
    __decorate([
        property(cc.Node)
    ], MatchingUI.prototype, "otherUsers", void 0);
    __decorate([
        property(cc.Node)
    ], MatchingUI.prototype, "dotArr", void 0);
    __decorate([
        property
    ], MatchingUI.prototype, "radius", void 0);
    MatchingUI = __decorate([
        ccclass
    ], MatchingUI);
    return MatchingUI;
}(BaseUI_1.default));
exports.default = MatchingUI;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcbWFpblxcTWF0Y2hpbmdVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseUNBQW9DO0FBQ3BDLDRDQUF1QztBQUN2QyxzREFBaUQ7QUFDakQsdURBQWtEO0FBQ2xELGdFQUEyRDtBQUMzRCxzREFBaUQ7QUFDakQsd0NBQW1DO0FBRW5DLG9CQUFvQjtBQUNwQixrRkFBa0Y7QUFDbEYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5Qiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBRTdGLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFHMUM7SUFBd0MsOEJBQU07SUFEOUM7UUFBQSxxRUE4SkM7UUExSkcsZ0JBQVUsR0FBYyxFQUFFLENBQUM7UUFHM0IsWUFBTSxHQUFjLEVBQUUsQ0FBQztRQUdoQixZQUFNLEdBQVUsR0FBRyxDQUFDO1FBR25CLGVBQVMsR0FBYSxJQUFJLENBQUM7O1FBZ0puQyxpQkFBaUI7SUFDckIsQ0FBQztJQS9JRyx3QkFBd0I7SUFHeEIsZUFBZTtJQUVmLDBCQUFLLEdBQUw7UUFBQSxpQkEwREM7UUF4REcsSUFBSSxDQUFDLFNBQVMsR0FBRyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLG1CQUFTLENBQUMsQ0FBQztRQUV4RSxJQUFJLEtBQUssR0FBVSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQztRQUV4RCxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7UUFFZixLQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUcsQ0FBQyxFQUFFLEVBQ2hEO1lBQ0ksSUFBSSxJQUFJLEdBQVcsSUFBSSxD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Q0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQ2pDLElBQUksUUFBUSxHQUFhLEtBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3RILFFBQVEsQ0FBQyxXQUFXLEdBQUcsSUFBSSxFQUFFLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ25ELEtBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxHQUFHLGVBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDO1FBRXpHLENBQUMsRUFBQyxFQUFFLENBQUMsQ0FBQztJQUNWLENBQUM7SUFFRCw4QkFBUyxHQUFUO1FBRUksRUFBRSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLElBQUksQ0FBQyxTQUFTLEVBQUMsSUFBSSxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQXZKRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2tEQUNTO0lBRzNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7OENBQ0s7SUFHdkI7UUFEQyxRQUFROzhDQUNrQjtJQVRWLFVBQVU7UUFEOUIsT0FBTztPQUNhLFVBQVUsQ0E2SjlCO0lBQUQsaUJBQUM7Q0E3SkQsQUE2SkMsQ0E3SnVDLGdCQUFNLEdBNko3QztrQkE3Sm9CLFVBQVUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZVVJIGZyb20gXCIuLi9iYXNlL0Jhc2VVSVwiO1xyXG5pbXBvcnQgUmFuZG9tIGZyb20gXCIuLi8uLi91dGlsL1JhbmRvbVwiO1xyXG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uLy4uL2NvcmUvR2FtZU1hbmFnZXJcIjtcclxuaW1wb3J0IEdhbWVTY2VuZSBmcm9tIFwiLi4vLi4vZ2FtZXNjZW5lL0dhbWVTY2VuZVwiO1xyXG5pbXBvcnQgUmVzb3VyY2VzTWFuYWdlciBmcm9tIFwiLi4vLi4vY29yZS9SZXNvdXJjZXNNYW5hZ2VyXCI7XHJcbmltcG9ydCBEYXRhTWFuYWdlciBmcm9tIFwiLi4vLi4vY29yZS9EYXRhTWFuYWdlclwiO1xyXG5pbXBvcnQgV1hTZGsgZnJvbSBcIi4uLy4uL3d4L1dYU2RrXCI7XHJcblxyXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0Y2hpbmdVSSBleHRlbmRzIEJhc2VVSSB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBvdGhlclVzZXJzOiBjYy5Ob2RlW10gPSBbXTtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGRvdEFycjogY2MuTm9kZVtdID0gW107XHJcblxyXG4gICAgQHByb3BlcnR5XHJcbiAgICBwdWJsaWMgcmFkaXVzOm51bWJlciA9IDIyMDtcclxuXHJcbiAgICBcclxuICAgIHByaXZhdGUgZ2FtZVNjZW1lOkdhbWVTY2VuZSA9IG51bGw7XHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcbiAgICBcclxuXHJcbiAgICAvLyBvbkxvYWQgKCkge31cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW1lID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UuZ2FtZVNjZW5lLmdldENvbXBvbmVudChHYW1lU2NlbmUpO1xyXG5cclxuICAgICAgICB2YXIgYW5nbGU6bnVtYmVyID0gMiAqIE1hdGguUEkgLyB0aGlzLm90aGVyVXNlcnMubGVuZ3RoO1xyXG5cclxuICAgICAgICB2YXIgaWRBcnIgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMSA7IGkgPCB0aGlzLm90aGVyVXNlcnMubGVuZ3RoIDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IG5vZGU6Y2MuTm9kZSA9IHRoaXMub3RoZXJVc2Vyc1tpXTtcclxuICAgICAgICAgICAgbm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcih2YXIgaSA9IDEgOyBpIDw9IDUwIDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWRBcnIucHVzaChpKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+XHJcbiAgICAgICAge1xyXG5cclxuICAgICAgICAgICAgaWYoV1hTZGsuaW5zdGFuY2UuaXNXWFBsYXRmb3JtKCkpXHJcbiAgICAgICAgICAgIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihXWFNkay5pbnN0YW5jZS5pc0xvZ2luKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25XeExvZ2luKCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLnN5c3RlbUV2ZW50Lm9uKFwid3hMb2dpblwiLHRoaXMub25XeExvZ2luLHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAxIDsgaSA8IHRoaXMub3RoZXJVc2Vycy5sZW5ndGggOyBpKyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxldCBub2RlOmNjLk5vZGUgPSB0aGlzLm90aGVyVXNlcnNbaV07XHJcbiAgICAgICAgICAgICAgICBub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBpZDpudW1iZXIgPSB0aGlzLmdhbWVTY2VtZS5haU5hbWVJbmRleEFycltpIC0gMV07XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIFJlc291cmNlc01hbmFnZXIuaW5zdGFuY2UubG9hZChgaGVhZEljb24vJHtpZH1gLChzcHJpdGVGcmFtZTpjYy5TcHJpdGVGcmFtZSk9PntcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoc3ByaXRlRnJhbWUpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gc3ByaXRlRnJhbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBub2RlLmdldENoaWxkQnlOYW1lKFwiTmFtZVR4dFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IERhdGFNYW5hZ2VyLmluc3RhbmNlLm5hbWVDb25maWdEYXRhc1tpZF0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0sY2MuU3ByaXRlRnJhbWUsZmFsc2UsZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9LDAuMSk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgb3BlbigpXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG5cclxuICAgICAgICB2YXIgdDpudW1iZXIgPSBSYW5kb20uUmFuZ2UoMi41LDQuOCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XHJcblxyXG4gICAgICAgICAgICBHYW1lTWFuYWdlci5pbnN0YW5jZS5nYW1lU2NlbmUuZ2V0Q29tcG9uZW50KEdhbWVTY2VuZSkuc3RhcnRHYW1lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuXHJcbiAgICAgICAgfSx0ICsgMS41KTtcclxuXHJcblxyXG4gICAgICAgIHZhciBuID0gdGhpcy5vdGhlclVzZXJzLmxlbmd0aCArIFJhbmRvbS5SYW5nZUludGVnZXIoMiw4KTtcclxuXHJcbiAgICAgICAgdmFyIGlkQXJyOm51bWJlcltdID0gW107XHJcbiAgICAgICAgZm9yKHZhciBpID0gMCA7IGkgPCBuIDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWRBcnIucHVzaChpKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB0aGlzLnNjaGVkdWxlKCgpPT57XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBSYW5kb20uUmFuZ2VJbnRlZ2VyKDAsaWRBcnIubGVuZ3RoKTtcclxuICAgICAgICAgICAgdmFyIGlkOm51bWJlciA9IGlkQXJyW2luZGV4XTtcclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMub3RoZXJVc2Vyc1tpZF0pXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3RoZXJVc2Vyc1tpZF0uYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWRBcnIuc3BsaWNlKGluZGV4LDEpO1xyXG5cclxuXHJcbiAgICAgICAgfSx0L24sbiAtIDEpO1xyXG5cclxuICAgICAgICBmb3IodmFyIGogPSAwIDsgaiA8IHRoaXMuZG90QXJyLmxlbmd0aDsgaisrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5kb3RBcnJbal0uYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdmFyIGk6bnVtYmVyID0gMDtcclxuICAgICAgICB0aGlzLnNjaGVkdWxlKCgpPT57XHJcbiAgXHJcbiAgICAgICAgICAgIGZvcih2YXIgaiA9IDAgOyBqIDwgdGhpcy5kb3RBcnIubGVuZ3RoOyBqKyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG90QXJyW2pdLmFjdGl2ZSA9IChqIDwgaSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgaSAlPSB0aGlzLmRvdEFyci5sZW5ndGggKyAxO1xyXG5cclxuICAgICAgICB9LDAuMjUsMjApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25XeExvZ2luKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm90aGVyVXNlcnNbMF0uYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgV1hTZGsuaW5zdGFuY2UuZ2V0VXNlckljb24oKHRleHR1cmU6Y2MuVGV4dHVyZTJEKT0+e1xyXG4gICAgICAgICAgICB0aGlzLm90aGVyVXNlcnNbMF0uYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdmFyIGhlYWRJY29uOmNjLlNwcml0ZSA9IHRoaXMub3RoZXJVc2Vyc1swXS5nZXRDaGlsZEJ5TmFtZShcIk1hc2tcIikuZ2V0Q2hpbGRCeU5hbWUoXCJIZWFkSWNvblwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcclxuICAgICAgICAgICAgaGVhZEljb24uc3ByaXRlRnJhbWUgPSBuZXcgY2MuU3ByaXRlRnJhbWUodGV4dHVyZSk7XHJcbiAgICAgICAgICAgIHRoaXMub3RoZXJVc2Vyc1swXS5nZXRDaGlsZEJ5TmFtZShcIk5hbWVUeHRcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBXWFNkay5pbnN0YW5jZS5uaWNrbmFtZTtcclxuXHJcbiAgICAgICAgfSw2NCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25EZXN0cm95KClcclxuICAgIHsgXHJcbiAgICAgICAgY2Muc3lzdGVtRXZlbnQub2ZmKFwid3hMb2dpblwiLHRoaXMub25XeExvZ2luLHRoaXMpOyAgIFxyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/common/PopupMsg.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a1647xeGrpNRrq7cNrPUxZu', 'PopupMsg');
// script/tscript/ui/common/PopupMsg.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PopupMsg = /** @class */ (function (_super) {
    __extends(PopupMsg, _super);
    function PopupMsg() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.label = null;
        return _this;
    }
    PopupMsg.prototype.start = function () {
        var _this = this;
        var compCallback = cc.callFunc(function () {
            _this.destroySelf();
        }, this);
        var seq = cc.sequence(cc.spawn(cc.moveBy(1.0, 0, 150), cc.fadeTo(1.0, 25)), compCallback);
        this.node.runAction(seq);
    };
    PopupMsg.prototype.showText = function (msg, size, color) {
        this.label.string = msg;
        this.label.fontSize = size;
        this.label.node.color = color;
    };
    PopupMsg.prototype.destroySelf = function () {
        this.node.destroy();
    };
    __decorate([
        property(cc.Label)
    ], PopupMsg.prototype, "label", void 0);
    PopupMsg = __decorate([
        ccclass
    ], PopupMsg);
    return PopupMsg;
}(cc.Component));
exports.default = PopupMsg;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcY29tbW9uXFxQb3B1cE1zZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRzs7QUFFN0YsSUFBQSxrQkFBbUMsRUFBbEMsb0JBQU8sRUFBRSxzQkFBeUIsQ0FBQztBQUcxQztJQUFzQyw0QkFBWTtJQURsRDtRQUFBLHFFQThCQztRQTFCVyxXQUFLLEdBQVksSUFBSSxDQUFDOztJQTBCbEMsQ0FBQztJQXhCRyx3QkFBSyxHQUFMO1FBQUEsaUJBVUM7UUFSRyxJQUFJLFlBQVksR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDO1lBQzNCLEtBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUN2QixDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUE7UUFJUCxJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEdBQUcsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUMsWUFBWSxDQUFDLENBQUM7UUFDckYsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDN0IsQ0FBQztJQUdNLDJCQUFRLEdBQWYsVUFBZ0IsR0FBVSxFQUFDLElBQVcsRUFBQyxLQUFjO1FBRWpELElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztRQUN4QixJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDM0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUNsQyxDQUFDO0lBRU0sOEJBQVcsR0FBbEI7UUFFSSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUF6QkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzsyQ0FDVztJQUhiLFFBQVE7UUFENUIsT0FBTztPQUNhLFFBQVEsQ0E2QjVCO0lBQUQsZUFBQztDQTdCRCxBQTZCQyxDQTdCcUMsRUFBRSxDQUFDLFNBQVMsR0E2QmpEO2tCQTdCb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cE1zZyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgcHJpdmF0ZSBsYWJlbDpjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG5cclxuICAgICAgICB2YXIgY29tcENhbGxiYWNrID0gY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95U2VsZigpO1xyXG4gICAgICAgIH0sdGhpcylcclxuXHJcblxyXG4gICAgXHJcbiAgICAgICAgdmFyIHNlcSA9IGNjLnNlcXVlbmNlKGNjLnNwYXduKGNjLm1vdmVCeSgxLjAsMCwxNTApLGNjLmZhZGVUbygxLjAsMjUpKSxjb21wQ2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oc2VxKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHNob3dUZXh0KG1zZzpzdHJpbmcsc2l6ZTpudW1iZXIsY29sb3I6Y2MuQ29sb3IpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5sYWJlbC5zdHJpbmcgPSBtc2c7XHJcbiAgICAgICAgdGhpcy5sYWJlbC5mb250U2l6ZSA9IHNpemU7XHJcbiAgICAgICAgdGhpcy5sYWJlbC5ub2RlLmNvbG9yID0gY29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc3Ryb3lTZWxmKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/main/LevelMessageUI.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5449f0wN5pH8aXxO522sGOD', 'LevelMessageUI');
// script/tscript/ui/main/LevelMessageUI.ts

Object.defineProperty(exports, "__esModule", { value: true });
var LevelIcon_1 = require("./LevelIcon");
var BaseUI_1 = require("../base/BaseUI");
var DataManager_1 = require("../../core/DataManager");
var Mathf_1 = require("../../util/Mathf");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ContentType;
(function (ContentType) {
    ContentType[ContentType["none"] = 0] = "none";
    ContentType[ContentType["fhl"] = 1] = "fhl";
    ContentType[ContentType["rocket"] = 2] = "rocket";
    ContentType[ContentType["magnet"] = 3] = "magnet";
    ContentType[ContentType["blackHole"] = 10] = "blackHole";
    ContentType[ContentType["staticMeteor"] = 11] = "staticMeteor";
    ContentType[ContentType["moveMeteor"] = 12] = "moveMeteor";
    ContentType[ContentType["other"] = 100] = "other";
})(ContentType = exports.ContentType || (exports.ContentType = {}));
var LevelMessageUI = /** @class */ (function (_super) {
    __extends(LevelMessageUI, _super);
    function LevelMessageUI() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.panel = null;
        _this.touchPlane = null;
        _this.title = null;
        _this.levelIcon = null;
        _this.contentIcon = null;
        _this.leftBtn = null;
        _this.rightBtn = null;
        _this.unlockTxt = null;
        _this.detailTxt = null;
        _this.contentImgArr = [];
        _this.contentIndex = 0;
        return _this;
    }
    // LIFE-CYCLE CALLBACKS:
    LevelMessageUI.prototype.onLoad = function () {
        var _this = this;
        this.basePos = this.node.position;
        this.scheduleOnce(function () {
            _this.close();
        }, 0.01);
    };
    LevelMessageUI.prototype.start = function () {
        var _this = this;
        var contentLen = DataManager_1.default.instance.ctlevelConfigDatas.length;
        this.touchPlane.on(cc.Node.EventType.TOUCH_START, function (event) {
            _this.close();
        }, this);
        this.leftBtn.node.on(cc.Node.EventType.TOUCH_START, function (event) {
            _this.contentIndex = Mathf_1.default.clamp(_this.contentIndex - 1, 0, contentLen - 1);
            _this.showMsg();
        }, this);
        this.rightBtn.node.on(cc.Node.EventType.TOUCH_START, function (event) {
            _this.contentIndex = Mathf_1.default.clamp(_this.contentIndex + 1, 0, contentLen - 1);
            _this.showMsg();
        }, this);
        var level = DataManager_1.default.instance.getLevel(DataManager_1.default.instance.getPlayerData().star);
        this.contentIndex = level - 1;
    };
    LevelMessageUI.prototype.showMsg = function () {
        var levelcnfdata = DataManager_1.default.instance.ctlevelConfigDatas[this.contentIndex];
        this.levelIcon.updateSkin(levelcnfdata.id, false);
        this.unlockTxt.string = "\u83B7\u5F97" + levelcnfdata.stars + "\u661F\u89E3\u9501";
        this.detailTxt.string = levelcnfdata.newContent;
        if (levelcnfdata.contentType == 100) {
            this.title.active = false;
            this.detailTxt.node.x = 110;
            this.detailTxt.node.y = -18;
        }
        else {
            this.title.active = true;
            this.detailTxt.node.x = 158;
            this.detailTxt.node.y = -43;
        }
        this.contentIcon.spriteFrame = this.contentImgArr[levelcnfdata.contentType];
    };
    // update (dt) {}
    LevelMessageUI.prototype.open = function () {
        _super.prototype.open.call(this);
        this.touchPlane.active = true;
        this.panel.stopAllActions();
        this.panel.y = -250;
        this.panel.runAction(cc.moveTo(0.65, 0, 0).easing(cc.easeCubicActionOut()));
        this.showMsg();
    };
    LevelMessageUI.prototype.close = function () {
        var _this = this;
        this.panel.stopAllActions();
        this.touchPlane.active = false;
        //super.close();
        var seq = cc.sequence(cc.moveTo(0.65, 0, -250).easing(cc.easeCubicActionOut()), cc.callFunc(function () {
            _super.prototype.close.call(_this);
        }, this));
        this.panel.runAction(seq);
    };
    __decorate([
        property(cc.Node)
    ], LevelMessageUI.prototype, "panel", void 0);
    __decorate([
        property(cc.Node)
    ], LevelMessageUI.prototype, "touchPlane", void 0);
    __decorate([
        property(cc.Node)
    ], LevelMessageUI.prototype, "title", void 0);
    __decorate([
        property(LevelIcon_1.default)
    ], LevelMessageUI.prototype, "levelIcon", void 0);
    __decorate([
        property(cc.Sprite)
    ], LevelMessageUI.prototype, "contentIcon", void 0);
    __decorate([
        property(cc.Button)
    ], LevelMessageUI.prototype, "leftBtn", void 0);
    __decorate([
        property(cc.Button)
    ], LevelMessageUI.prototype, "rightBtn", void 0);
    __decorate([
        property(cc.Label)
    ], LevelMessageUI.prototype, "unlockTxt", void 0);
    __decorate([
        property(cc.Label)
    ], LevelMessageUI.prototype, "detailTxt", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], LevelMessageUI.prototype, "contentImgArr", void 0);
    LevelMessageUI = __decorate([
        ccclass
    ], LevelMessageUI);
    return LevelMessageUI;
}(BaseUI_1.default));
exports.default = LevelMessageUI;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcbWFpblxcTGV2ZWxNZXNzYWdlVUkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHlDQUFvQztBQUNwQyx5Q0FBb0M7QUFDcEMsc0RBQWlEO0FBQ2pELDBDQUFxQztBQUdyQyxvQkFBb0I7QUFDcEIsa0ZBQWtGO0FBQ2xGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDLElBQVksV0FXWDtBQVhELFdBQVksV0FBVztJQUVuQiw2Q0FBUSxDQUFBO0lBQ1IsMkNBQU8sQ0FBQTtJQUNQLGlEQUFVLENBQUE7SUFDVixpREFBVSxDQUFBO0lBQ1Ysd0RBQWMsQ0FBQTtJQUNkLDhEQUFpQixDQUFBO0lBQ2pCLDBEQUFlLENBQUE7SUFFZixpREFBVyxDQUFBO0FBQ2YsQ0FBQyxFQVhXLFdBQVcsR0FBWCxtQkFBVyxLQUFYLG1CQUFXLFFBV3RCO0FBR0Q7SUFBNEMsa0NBQU07SUFEbEQ7UUFBQSxxRUF5SUM7UUFySUcsV0FBSyxHQUFZLElBQUksQ0FBQztRQUd0QixnQkFBVSxHQUFZLElBQUksQ0FBQztRQUczQixXQUFLLEdBQVksSUFBSSxDQUFDO1FBR3RCLGVBQVMsR0FBYyxJQUFJLENBQUM7UUFHNUIsaUJBQVcsR0FBYyxJQUFJLENBQUM7UUFHOUIsYUFBTyxHQUFjLElBQUksQ0FBQztRQUcxQixjQUFRLEdBQWMsSUFBSSxDQUFDO1FBRzNCLGVBQVMsR0FBYSxJQUFJLENBQUM7UUFHM0IsZUFBUyxHQUFhLElBQUksQ0FBQztRQUczQixtQkFBYSxHQUFxQixFQUFFLENBQUM7UUFJN0Isa0JBQVksR0FBVSxDQUFDLENBQUM7O0lBc0dwQyxDQUFDO0lBbkdHLHdCQUF3QjtJQUd4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O2lEQUNJO0lBR3RCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7c0RBQ1M7SUFHM0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztpREFDSTtJQUd0QjtRQURDLFFBQVEsQ0FBQyxtQkFBUyxDQUFDO3FEQUNRO0lBRzVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7dURBQ1U7SUFHOUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzttREFDTTtJQUcxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO29EQUNPO0lBRzNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7cURBQ1E7SUFHM0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztxREFDUTtJQUczQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDO3lEQUNZO0lBOUJwQixjQUFjO1FBRGxDLE9BQU87T0FDYSxjQUFjLENBd0lsQztJQUFELHFCQUFDO0NBeElELEFBd0lDLENBeEkyQyxnQkFBTSxHQXdJakQ7a0JBeElvQixjQUFjIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExldmVsSWNvbiBmcm9tIFwiLi9MZXZlbEljb25cIjtcclxuaW1wb3J0IEJhc2VVSSBmcm9tIFwiLi4vYmFzZS9CYXNlVUlcIjtcclxuaW1wb3J0IERhdGFNYW5hZ2VyIGZyb20gXCIuLi8uLi9jb3JlL0RhdGFNYW5hZ2VyXCI7XHJcbmltcG9ydCBNYXRoZiBmcm9tIFwiLi4vLi4vdXRpbC9NYXRoZlwiO1xyXG5pbXBvcnQgTGV2ZWxDb25maWdEYXRhIGZyb20gXCIuLi8uLi9jb25maWdkYXRhL0xldmVsQ29uZmlnRGF0YVwiO1xyXG5cclxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcblxyXG5leHBvcnQgZW51bSBDb250ZW50VHlwZVxyXG57XHJcbiAgICBub25lID0gMCxcclxuICAgIGZobCA9IDEsXHJcbiAgICByb2NrZXQgPSAyLFxyXG4gICAgbWFnbmV0ID0gMyxcclxuICAgIGJsYWNrSG9sZSA9IDEwLFxyXG4gICAgc3RhdGljTWV0ZW9yID0gMTEsXHJcbiAgICBtb3ZlTWV0ZW9yID0gMTIsXHJcbiAgICBcclxuICAgIG90aGVyID0gMTAwLFxyXG59XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZXZlbE1lc3NhZ2VVSSBleHRlbmRzIEJhc2VVSSB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBwYW5lbDogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICB0b3VjaFBsYW5lOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHRpdGxlOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoTGV2ZWxJY29uKVxyXG4gICAgbGV2ZWxJY29uOiBMZXZlbEljb24gPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBjb250ZW50SWNvbjogY2MuU3ByaXRlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuQnV0dG9uKVxyXG4gICAgbGVmdEJ0bjogY2MuQnV0dG9uID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuQnV0dG9uKVxyXG4gICAgcmlnaHRCdG46IGNjLkJ1dHRvbiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgdW5sb2NrVHh0OiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgZGV0YWlsVHh0OiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZUZyYW1lKVxyXG4gICAgY29udGVudEltZ0FycjogY2MuU3ByaXRlRnJhbWVbXSA9IFtdO1xyXG5cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBjb250ZW50SW5kZXg6bnVtYmVyID0gMDtcclxuXHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgXHJcbiAgICBvbkxvYWQgKCkge1xyXG4gICAgICAgIHRoaXMuYmFzZVBvcyA9IHRoaXMubm9kZS5wb3NpdGlvbjtcclxuXHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcclxuICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfSwwLjAxKVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuXHJcbiAgICAgICAgdmFyIGNvbnRlbnRMZW4gPSBEYXRhTWFuYWdlci5pbnN0YW5jZS5jdGxldmVsQ29uZmlnRGF0YXMubGVuZ3RoO1xyXG5cclxuICAgICAgICB0aGlzLnRvdWNoUGxhbmUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsKGV2ZW50KT0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfSx0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5sZWZ0QnRuLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsKGV2ZW50KT0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRJbmRleCA9IE1hdGhmLmNsYW1wKHRoaXMuY29udGVudEluZGV4IC0gMSwwLGNvbnRlbnRMZW4gLSAxKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2hvd01zZygpO1xyXG5cclxuICAgICAgICB9LHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLnJpZ2h0QnRuLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsKGV2ZW50KT0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRJbmRleCA9IE1hdGhmLmNsYW1wKHRoaXMuY29udGVudEluZGV4ICsgMSwwLGNvbnRlbnRMZW4gLSAxKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93TXNnKCk7XHJcblxyXG4gICAgICAgIH0sdGhpcyk7XHJcblxyXG4gICAgICAgIHZhciBsZXZlbCA9IERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldExldmVsKERhdGFNYW5hZ2VyLmluc3RhbmNlLmdldFBsYXllckRhdGEoKS5zdGFyKTtcclxuICAgICAgICB0aGlzLmNvbnRlbnRJbmRleCA9IGxldmVsIC0gMTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBzaG93TXNnKClcclxuICAgIHtcclxuICAgICAgICB2YXIgbGV2ZWxjbmZkYXRhOkxldmVsQ29uZmlnRGF0YSA9IERhdGFNYW5hZ2VyLmluc3RhbmNlLmN0bGV2ZWxDb25maWdEYXRhc1t0aGlzLmNvbnRlbnRJbmRleF07XHJcblxyXG4gICAgICAgIHRoaXMubGV2ZWxJY29uLnVwZGF0ZVNraW4obGV2ZWxjbmZkYXRhLmlkLGZhbHNlKTtcclxuICAgICAgICB0aGlzLnVubG9ja1R4dC5zdHJpbmcgPSBg6I635b6XJHtsZXZlbGNuZmRhdGEuc3RhcnN95pif6Kej6ZSBYDtcclxuICAgICAgICB0aGlzLmRldGFpbFR4dC5zdHJpbmcgPSBsZXZlbGNuZmRhdGEubmV3Q29udGVudDtcclxuXHJcbiAgICAgICAgaWYobGV2ZWxjbmZkYXRhLmNvbnRlbnRUeXBlID09IDEwMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMudGl0bGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsVHh0Lm5vZGUueCA9IDExMDtcclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxUeHQubm9kZS55ID0gLTE4O1xyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnRpdGxlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsVHh0Lm5vZGUueCA9IDE1ODtcclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxUeHQubm9kZS55ID0gLTQzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250ZW50SWNvbi5zcHJpdGVGcmFtZSA9IHRoaXMuY29udGVudEltZ0FycltsZXZlbGNuZmRhdGEuY29udGVudFR5cGVdXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcblxyXG4gICAgcHVibGljIG9wZW4oKVxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuXHJcbiAgICAgICAgdGhpcy50b3VjaFBsYW5lLmFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMucGFuZWwuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICB0aGlzLnBhbmVsLnkgPSAtMjUwO1xyXG4gICAgICAgIHRoaXMucGFuZWwucnVuQWN0aW9uKGNjLm1vdmVUbygwLjY1LDAsMCkuZWFzaW5nKGNjLmVhc2VDdWJpY0FjdGlvbk91dCgpKSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5zaG93TXNnKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsb3NlKClcclxuICAgIHtcclxuXHJcbiAgICAgICAgdGhpcy5wYW5lbC5zdG9wQWxsQWN0aW9ucygpO1xyXG5cclxuICAgICAgICB0aGlzLnRvdWNoUGxhbmUuYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vc3VwZXIuY2xvc2UoKTtcclxuXHJcbiAgICAgICAgdmFyIHNlcSA9IGNjLnNlcXVlbmNlKGNjLm1vdmVUbygwLjY1LDAsLTI1MCkuZWFzaW5nKGNjLmVhc2VDdWJpY0FjdGlvbk91dCgpKSxjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG5cclxuICAgICAgICB9LHRoaXMpKVxyXG5cclxuICAgICAgICB0aGlzLnBhbmVsLnJ1bkFjdGlvbihzZXEpXHJcblxyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/main/WXOpenDataUI.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7f875l8bp1FkZCgHxoXXVzS', 'WXOpenDataUI');
// script/tscript/ui/main/WXOpenDataUI.ts

Object.defineProperty(exports, "__esModule", { value: true });
var WXSdk_1 = require("../../wx/WXSdk");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var WXOpenDataUI = /** @class */ (function (_super) {
    __extends(WXOpenDataUI, _super);
    function WXOpenDataUI() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.turnbackBtn = null;
        _this.shareBtn = null;
        _this.openDataCanvasDisPlay = null;
        _this.shareBtnSkinArr = [];
        _this.shareIndex = 1;
        _this.showOpenData = false;
        _this.tex = new cc.Texture2D();
        _this.wxSubContext = null;
        return _this;
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    WXOpenDataUI.prototype.start = function () {
        var _this = this;
        if (!WXSdk_1.default.instance.isWXPlatform()) {
            this.node.active = false;
            return;
        }
        this.turnbackBtn.node.on(cc.Node.EventType.TOUCH_END, function (event) {
            _this.closeOpenDataField();
        }, this);
        this.shareBtn.node.on(cc.Node.EventType.TOUCH_END, function (event) {
            WXSdk_1.default.instance.shareToAnyOne(function () { }, function () { });
        }, this);
        this.wxSubContext = this.getComponent(cc.WXSubContextView);
        this.openDataCanvasDisPlay = this.getComponent(cc.Sprite);
        //this.wxSubContext.enabled = false;
        //this.wxSubContext.updateSubContextViewport();
        this.updateOpenDataCanvas();
        if (!this.showOpenData) {
            this.node.active = false;
        }
        cc.systemEvent.on("shareTicketUpdate", this.onShareTicketUpdate, this);
    };
    WXOpenDataUI.prototype.onShareTicketUpdate = function () {
        if (!this.showOpenData)
            return;
        if (WXSdk_1.default.instance.shareTicket != "") {
            this.openGroupRankUI();
        }
    };
    WXOpenDataUI.prototype.onDestroy = function () {
        cc.systemEvent.off("shareTicketUpdate", this.onShareTicketUpdate, this);
    };
    // update (dt) {}
    WXOpenDataUI.prototype.update = function (dt) {
        if (this.showOpenData) {
            this.updateOpenDataCanvas();
        }
    };
    WXOpenDataUI.prototype.updateOpenDataCanvas = function () {
        this.tex.initWithElement(WXSdk_1.default.instance.sharedCanvas);
        this.tex.handleLoadedTexture();
        this.openDataCanvasDisPlay.spriteFrame.setTexture(this.tex);
        //this.openDataCanvasDisPlay.spriteFrame = new cc.SpriteFrame(this.tex);
    };
    /**
     * 显示开发数据域
     */
    WXOpenDataUI.prototype.showOpenDataField = function () {
        if (!WXSdk_1.default.instance.isWXPlatform()) {
            return;
        }
        //this.wxSubContext = this.getComponent(cc.WXSubContextView);
        this.showOpenData = true;
        this.node.active = true;
        //this.wxSubContext.enabled = true;
        //(this.wxSubContext["update"] as Function)();
    };
    WXOpenDataUI.prototype.openRankUI = function () {
        var _this = this;
        if (WXSdk_1.default.instance.shareTicket != "") {
            this.openGroupRankUI();
        }
        else {
            WXSdk_1.default.instance.getUserScoreWorldRank(function (data) {
                _this.openWorldRankUI(data);
            }, function () { });
            //this.openFriendRankUI();
        }
    };
    /**
     * 打开好友排行榜
     */
    WXOpenDataUI.prototype.openFriendRankUI = function () {
        if (!WXSdk_1.default.instance.isWXPlatform()) {
            return;
        }
        this.shareIndex = 1;
        this.shareBtn.node.getChildByName("Background").getComponent(cc.Sprite).spriteFrame = this.shareBtnSkinArr[this.shareIndex - 1];
        this.showOpenDataField();
        WXSdk_1.default.instance.wx.postMessage({ name: "friend" });
    };
    /**
     * 打开群排行榜
     */
    WXOpenDataUI.prototype.openGroupRankUI = function () {
        if (!WXSdk_1.default.instance.isWXPlatform()) {
            return;
        }
        this.shareIndex = 2;
        this.shareBtn.node.getChildByName("Background").getComponent(cc.Sprite).spriteFrame = this.shareBtnSkinArr[this.shareIndex - 1];
        this.showOpenDataField();
        WXSdk_1.default.instance.wx.postMessage({ name: "group", shareTicket: WXSdk_1.default.instance.shareTicket });
    };
    /**
     * 打开世界排行榜
     */
    WXOpenDataUI.prototype.openWorldRankUI = function (rankData) {
        if (!WXSdk_1.default.instance.isWXPlatform()) {
            return;
        }
        this.shareIndex = 3;
        this.shareBtn.node.getChildByName("Background").getComponent(cc.Sprite).spriteFrame = this.shareBtnSkinArr[this.shareIndex - 1];
        this.showOpenDataField();
        WXSdk_1.default.instance.wx.postMessage({ name: "world", rankData: rankData });
    };
    /**
     * 关闭开放数据域
     */
    WXOpenDataUI.prototype.closeOpenDataField = function () {
        if (!WXSdk_1.default.instance.isWXPlatform()) {
            return;
        }
        this.showOpenData = false;
        this.node.active = false;
        WXSdk_1.default.instance.wx.postMessage({ name: "close" });
        //this.wxSubContext = this.getComponent(cc.WXSubContextView);
        //this.wxSubContext.enabled = false;
        //(this.wxSubContext["update"] as Function)();
    };
    __decorate([
        property(cc.Button)
    ], WXOpenDataUI.prototype, "turnbackBtn", void 0);
    __decorate([
        property(cc.Button)
    ], WXOpenDataUI.prototype, "shareBtn", void 0);
    __decorate([
        property(cc.Sprite)
    ], WXOpenDataUI.prototype, "openDataCanvasDisPlay", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], WXOpenDataUI.prototype, "shareBtnSkinArr", void 0);
    WXOpenDataUI = __decorate([
        ccclass
    ], WXOpenDataUI);
    return WXOpenDataUI;
}(cc.Component));
exports.default = WXOpenDataUI;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcbWFpblxcV1hPcGVuRGF0YVVJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx3Q0FBbUM7QUFFbkMsb0JBQW9CO0FBQ3BCLGtGQUFrRjtBQUNsRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFFN0YsSUFBQSxrQkFBbUMsRUFBbEMsb0JBQU8sRUFBRSxzQkFBeUIsQ0FBQztBQUcxQztJQUEwQyxnQ0FBWTtJQUR0RDtRQUFBLHFFQTJNQztRQXZNVSxpQkFBVyxHQUFhLElBQUksQ0FBQztRQUc3QixjQUFRLEdBQWEsSUFBSSxDQUFDO1FBRzFCLDJCQUFxQixHQUFhLElBQUksQ0FBQztRQUd2QyxxQkFBZSxHQUFvQixFQUFFLENBQUE7UUFHcEMsZ0JBQVUsR0FBVSxDQUFDLENBQUM7UUFFdEIsa0JBQVksR0FBVyxLQUFLLENBQUM7UUFFN0IsU0FBRyxHQUFnQixJQUFJLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUV0QyxrQkFBWSxHQUF1QixJQUFJLENBQUM7O0lBcUxwRCxDQUFDO0lBbkxHLHdCQUF3QjtJQUV4QixlQUFlO0lBRWYsNEJBQUssR0FBTDtRQUFBLGlCQWlDQztRQS9CRyxJQUFHLENBQUMsZUFBSyxDQUFDLFFBQVEsQ0FBQyxZQUFZLEVBQUUsRUFDakM7WUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDekIsT0FBTztTQUNWO1FBRUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBQyxVQUFDLEtBQXlCO1lBRTNFLEtBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1FBQzlCLENBQUMsRUFBQyxJQUFJLENBQUMs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UyxHQTBNckQ7a0JBMU1vQixZQUFZIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFdYU2RrIGZyb20gXCIuLi8uLi93eC9XWFNka1wiO1xyXG5cclxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdYT3BlbkRhdGFVSSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkJ1dHRvbilcclxuICAgIHB1YmxpYyB0dXJuYmFja0J0bjpjYy5CdXR0b24gPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5CdXR0b24pXHJcbiAgICBwdWJsaWMgc2hhcmVCdG46Y2MuQnV0dG9uID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgcHVibGljIG9wZW5EYXRhQ2FudmFzRGlzUGxheTpjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIHB1YmxpYyBzaGFyZUJ0blNraW5BcnI6Y2MuU3ByaXRlRnJhbWVbXSA9IFtdXHJcblxyXG5cclxuICAgIHByaXZhdGUgc2hhcmVJbmRleDpudW1iZXIgPSAxO1xyXG5cclxuICAgIHByaXZhdGUgc2hvd09wZW5EYXRhOmJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBwcml2YXRlIHRleDpjYy5UZXh0dXJlMkQgPSBuZXcgY2MuVGV4dHVyZTJEKCk7XHJcblxyXG4gICAgcHJpdmF0ZSB3eFN1YkNvbnRleHQ6Y2MuV1hTdWJDb250ZXh0VmlldyA9IG51bGw7XHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgLy8gb25Mb2FkICgpIHt9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG5cclxuICAgICAgICBpZighV1hTZGsuaW5zdGFuY2UuaXNXWFBsYXRmb3JtKCkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudHVybmJhY2tCdG4ubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsKGV2ZW50OmNjLkV2ZW50LkV2ZW50VG91Y2gpPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VPcGVuRGF0YUZpZWxkKCk7XHJcbiAgICAgICAgfSx0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zaGFyZUJ0bi5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwoZXZlbnQ6Y2MuRXZlbnQuRXZlbnRUb3VjaCk9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgV1hTZGsuaW5zdGFuY2Uuc2hhcmVUb0FueU9uZSgoKT0+e30sKCk9Pnt9KTtcclxuICAgICAgICB9LHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLnd4U3ViQ29udGV4dCA9IHRoaXMuZ2V0Q29tcG9uZW50KGNjLldYU3ViQ29udGV4dFZpZXcpO1xyXG5cclxuICAgICAgICB0aGlzLm9wZW5EYXRhQ2FudmFzRGlzUGxheSA9IHRoaXMuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIC8vdGhpcy53eFN1YkNvbnRleHQuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIC8vdGhpcy53eFN1YkNvbnRleHQudXBkYXRlU3ViQ29udGV4dFZpZXdwb3J0KCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVPcGVuRGF0YUNhbnZhcygpO1xyXG5cclxuICAgICAgICBpZighdGhpcy5zaG93T3BlbkRhdGEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjYy5zeXN0ZW1FdmVudC5vbihcInNoYXJlVGlja2V0VXBkYXRlXCIsdGhpcy5vblNoYXJlVGlja2V0VXBkYXRlLHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25TaGFyZVRpY2tldFVwZGF0ZSgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIXRoaXMuc2hvd09wZW5EYXRhKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIGlmKFdYU2RrLmluc3RhbmNlLnNoYXJlVGlja2V0ICE9IFwiXCIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5Hcm91cFJhbmtVSSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkRlc3Ryb3koKVxyXG4gICAgeyBcclxuICAgICAgICBjYy5zeXN0ZW1FdmVudC5vZmYoXCJzaGFyZVRpY2tldFVwZGF0ZVwiLHRoaXMub25TaGFyZVRpY2tldFVwZGF0ZSx0aGlzKTsgICBcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG5cclxuICAgIHVwZGF0ZShkdClcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLnNob3dPcGVuRGF0YSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlT3BlbkRhdGFDYW52YXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlT3BlbkRhdGFDYW52YXMoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMudGV4LmluaXRXaXRoRWxlbWVudChXWFNkay5pbnN0YW5jZS5zaGFyZWRDYW52YXMpO1xyXG4gICAgICAgIHRoaXMudGV4LmhhbmRsZUxvYWRlZFRleHR1cmUoKTtcclxuICAgICAgICB0aGlzLm9wZW5EYXRhQ2FudmFzRGlzUGxheS5zcHJpdGVGcmFtZS5zZXRUZXh0dXJlKHRoaXMudGV4KTtcclxuICAgICAgICAvL3RoaXMub3BlbkRhdGFDYW52YXNEaXNQbGF5LnNwcml0ZUZyYW1lID0gbmV3IGNjLlNwcml0ZUZyYW1lKHRoaXMudGV4KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYvuekuuW8gOWPkeaVsOaNruWfn1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2hvd09wZW5EYXRhRmllbGQoKVxyXG4gICAge1xyXG4gICAgICAgIGlmKCFXWFNkay5pbnN0YW5jZS5pc1dYUGxhdGZvcm0oKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vdGhpcy53eFN1YkNvbnRleHQgPSB0aGlzLmdldENvbXBvbmVudChjYy5XWFN1YkNvbnRleHRWaWV3KTtcclxuICAgICAgICB0aGlzLnNob3dPcGVuRGF0YSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IHRydWVcclxuXHJcbiAgICAgICAgLy90aGlzLnd4U3ViQ29udGV4dC5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAvLyh0aGlzLnd4U3ViQ29udGV4dFtcInVwZGF0ZVwiXSBhcyBGdW5jdGlvbikoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIG9wZW5SYW5rVUkoKVxyXG4gICAge1xyXG4gICAgICAgIGlmKFdYU2RrLmluc3RhbmNlLnNoYXJlVGlja2V0ICE9IFwiXCIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5Hcm91cFJhbmtVSSgpO1xyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAge1xyXG5cclxuICAgICAgICAgICAgV1hTZGsuaW5zdGFuY2UuZ2V0VXNlclNjb3JlV29ybGRSYW5rKChkYXRhKT0+e1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuV29ybGRSYW5rVUkoZGF0YSk7XHJcbiAgICAgICAgICAgIH0sKCk9Pnt9KTtcclxuXHJcbiAgICAgICAgICAgIC8vdGhpcy5vcGVuRnJpZW5kUmFua1VJKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaJk+W8gOWlveWPi+aOkuihjOamnFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb3BlbkZyaWVuZFJhbmtVSSgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIVdYU2RrLmluc3RhbmNlLmlzV1hQbGF0Zm9ybSgpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zaGFyZUluZGV4ID0gMTtcclxuICAgICAgICB0aGlzLnNoYXJlQnRuLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJCYWNrZ3JvdW5kXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5zaGFyZUJ0blNraW5BcnJbdGhpcy5zaGFyZUluZGV4IC0gMV07XHJcblxyXG4gICAgICAgIHRoaXMuc2hvd09wZW5EYXRhRmllbGQoKTtcclxuICAgICAgICBXWFNkay5pbnN0YW5jZS53eC5wb3N0TWVzc2FnZSh7bmFtZTpcImZyaWVuZFwifSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmiZPlvIDnvqTmjpLooYzmppxcclxuICAgICAqL1xyXG4gICAgcHVibGljIG9wZW5Hcm91cFJhbmtVSSgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIVdYU2RrLmluc3RhbmNlLmlzV1hQbGF0Zm9ybSgpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zaGFyZUluZGV4ID0gMjtcclxuICAgICAgICB0aGlzLnNoYXJlQnRuLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJCYWNrZ3JvdW5kXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5zaGFyZUJ0blNraW5BcnJbdGhpcy5zaGFyZUluZGV4IC0gMV07XHJcblxyXG5cclxuICAgICAgICB0aGlzLnNob3dPcGVuRGF0YUZpZWxkKCk7XHJcbiAgICAgICAgV1hTZGsuaW5zdGFuY2Uud3gucG9zdE1lc3NhZ2Uoe25hbWU6XCJncm91cFwiLHNoYXJlVGlja2V0OldYU2RrLmluc3RhbmNlLnNoYXJlVGlja2V0fSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmiZPlvIDkuJbnlYzmjpLooYzmppxcclxuICAgICAqL1xyXG4gICAgcHVibGljIG9wZW5Xb3JsZFJhbmtVSShyYW5rRGF0YTphbnkpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIVdYU2RrLmluc3RhbmNlLmlzV1hQbGF0Zm9ybSgpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zaGFyZUluZGV4ID0gMztcclxuICAgICAgICB0aGlzLnNoYXJlQnRuLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJCYWNrZ3JvdW5kXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5zaGFyZUJ0blNraW5BcnJbdGhpcy5zaGFyZUluZGV4IC0gMV07XHJcblxyXG4gICAgICAgIHRoaXMuc2hvd09wZW5EYXRhRmllbGQoKTtcclxuICAgICAgICBXWFNkay5pbnN0YW5jZS53eC5wb3N0TWVzc2FnZSh7bmFtZTpcIndvcmxkXCIscmFua0RhdGE6cmFua0RhdGF9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWFs+mXreW8gOaUvuaVsOaNruWfn1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY2xvc2VPcGVuRGF0YUZpZWxkKClcclxuICAgIHtcclxuICAgICAgICBpZighV1hTZGsuaW5zdGFuY2UuaXNXWFBsYXRmb3JtKCkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2hvd09wZW5EYXRhID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICBXWFNkay5pbnN0YW5jZS53eC5wb3N0TWVzc2FnZSh7bmFtZTpcImNsb3NlXCJ9KTtcclxuICAgICAgICAvL3RoaXMud3hTdWJDb250ZXh0ID0gdGhpcy5nZXRDb21wb25lbnQoY2MuV1hTdWJDb250ZXh0Vmlldyk7XHJcbiAgICAgICAgLy90aGlzLnd4U3ViQ29udGV4dC5lbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgLy8odGhpcy53eFN1YkNvbnRleHRbXCJ1cGRhdGVcIl0gYXMgRnVuY3Rpb24pKCk7XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/rank/RankItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2e241NFGeFI0aRL3ryh8mzv', 'RankItem');
// script/tscript/ui/rank/RankItem.ts

// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var RankItem = /** @class */ (function (_super) {
    __extends(RankItem, _super);
    function RankItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.mark = null;
        _this.nameTxt = null;
        _this.rankTxt = null;
        return _this;
        // update (dt) {}
    }
    // LIFE-CYCLE CALLBACKS:
    RankItem.prototype.onLoad = function () { };
    RankItem.prototype.start = function () {
    };
    __decorate([
        property(cc.Sprite)
    ], RankItem.prototype, "mark", void 0);
    __decorate([
        property(cc.Label)
    ], RankItem.prototype, "nameTxt", void 0);
    __decorate([
        property(cc.Label)
    ], RankItem.prototype, "rankTxt", void 0);
    RankItem = __decorate([
        ccclass
    ], RankItem);
    return RankItem;
}(cc.Component));
exports.default = RankItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxccmFua1xcUmFua0l0ZW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGtGQUFrRjtBQUNsRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDRGQUE0RjtBQUM1RixtR0FBbUc7O0FBRTdGLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFHMUM7SUFBc0MsNEJBQVk7SUFEbEQ7UUFBQSxxRUFxQkM7UUFqQlUsVUFBSSxHQUFjLElBQUksQ0FBQztRQUd2QixhQUFPLEdBQWEsSUFBSSxDQUFDO1FBR3pCLGFBQU8sR0FBYSxJQUFJLENBQUM7O1FBVWhDLGlCQUFpQjtJQUNyQixDQUFDO0lBVEcsd0JBQXdCO0lBRXhCLHlCQUFNLEdBQU4sY0FBVyxDQUFDO0lBRVosd0JBQUssR0FBTDtJQUVBLENBQUM7SUFkRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzBDQUNVO0lBRzlCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7NkNBQ2E7SUFHaEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzs2Q0FDYTtJQVRmLFFBQVE7UUFENUIsT0FBTztPQUNhLFFBQVEsQ0FvQjVCO0lBQUQsZUFBQztDQXBCRCxBQW9CQyxDQXBCcUMsRUFBRSxDQUFDLFNBQVMsR0FvQmpEO2tCQXBCb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYW5rSXRlbSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIHB1YmxpYyBtYXJrOiBjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHB1YmxpYyBuYW1lVHh0OiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgcHVibGljIHJhbmtUeHQ6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcbiAgICBvbkxvYWQgKCkge31cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/result/SuccessPanel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c5bf9IbcQJHtLeLpeQbul8E', 'SuccessPanel');
// script/tscript/ui/result/SuccessPanel.ts

Object.defineProperty(exports, "__esModule", { value: true });
var GameScene_1 = require("../../gamescene/GameScene");
var BaseUI_1 = require("../base/BaseUI");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var SuccessPanel = /** @class */ (function (_super) {
    __extends(SuccessPanel, _super);
    function SuccessPanel() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.nextLevelBtn = null;
        _this.exitBtn = null;
        return _this;
        // update (dt) {}
    }
    // LIFE-CYCLE CALLBACKS:
    SuccessPanel.prototype.onLoad = function () { };
    SuccessPanel.prototype.start = function () {
        this.nextLevelBtn.node.on(cc.Node.EventType.TOUCH_START, function (event) {
            GameScene_1.default.levelMin++;
            if (GameScene_1.default.levelMin > 5) {
                GameScene_1.default.levelMin = 1;
            }
            window.main.randombg();
            //cc.director.loadScene("level" + GameScene.levelMax + "-" + GameScene.levelMin);
            cc.director.loadScene(cc.director.getScene().name);
        });
        /*this.exitBtn.node.on(cc.Node.EventType.TOUCH_START,(event)=>{

            cc.director.loadScene("selector");

        });*/
    };
    __decorate([
        property(cc.Button)
    ], SuccessPanel.prototype, "nextLevelBtn", void 0);
    __decorate([
        property(cc.Button)
    ], SuccessPanel.prototype, "exitBtn", void 0);
    SuccessPanel = __decorate([
        ccclass
    ], SuccessPanel);
    return SuccessPanel;
}(BaseUI_1.default));
exports.default = SuccessPanel;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxccmVzdWx0XFxTdWNjZXNzUGFuZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLHVEQUFrRDtBQUNsRCx5Q0FBb0M7QUFFcEMsb0JBQW9CO0FBQ3BCLGtGQUFrRjtBQUNsRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFFN0YsSUFBQSxrQkFBbUMsRUFBbEMsb0JBQU8sRUFBRSxzQkFBeUIsQ0FBQztBQUcxQztJQUEwQyxnQ0FBTTtJQURoRDtRQUFBLHFFQXNDQztRQWxDRyxrQkFBWSxHQUFjLElBQUksQ0FBQztRQUcvQixhQUFPLEdBQWMsSUFBSSxDQUFDOztRQThCMUIsaUJBQWlCO0lBQ3JCLENBQUM7SUE1Qkcsd0JBQXdCO0lBRXhCLDZCQUFNLEdBQU4sY0FBVyxDQUFDO0lBRVosNEJBQUssR0FBTDtRQUVJLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUMsVUFBQyxLQUFLO1lBRzFELG1CQUFTLENBQUMsUUFBUSxFQUFHLENBQUM7WUFDdEIsSUFBRyxtQkFBUyxDQUFDLFFBQVEsR0FBRyxDQUFDLEVBQ3pCO2dCQUNJLG1CQUFTLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQzthQUMxQjtZQUNULE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDZixpRkFBaUY7WUFDakYsRUFBRSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUV2RCxDQUFDLENBQUMsQ0FBQztRQUVIOzs7O2FBSUs7SUFDVCxDQUFDO0lBL0JEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7c0RBQ1c7SUFHL0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztpREFDTTtJQU5ULFlBQVk7UUFEaEMsT0FBTztPQUNhLFlBQVksQ0FxQ2hDO0lBQUQsbUJBQUM7Q0FyQ0QsQUFxQ0MsQ0FyQ3lDLGdCQUFNLEdBcUMvQztrQkFyQ29CLFlBQVkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVmlldyBmcm9tIFwiLi4vYmFzZS9WaWV3XCI7XHJcbmltcG9ydCBHYW1lU2NlbmUgZnJvbSBcIi4uLy4uL2dhbWVzY2VuZS9HYW1lU2NlbmVcIjtcclxuaW1wb3J0IEJhc2VVSSBmcm9tIFwiLi4vYmFzZS9CYXNlVUlcIjtcclxuXHJcbi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdWNjZXNzUGFuZWwgZXh0ZW5kcyBCYXNlVUkge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5CdXR0b24pXHJcbiAgICBuZXh0TGV2ZWxCdG46IGNjLkJ1dHRvbiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkJ1dHRvbilcclxuICAgIGV4aXRCdG46IGNjLkJ1dHRvbiA9IG51bGw7XHJcblxyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIG9uTG9hZCAoKSB7fVxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5uZXh0TGV2ZWxCdG4ubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCwoZXZlbnQpPT57XHJcblxyXG5cdFx0XHJcbiAgICAgICAgICAgIEdhbWVTY2VuZS5sZXZlbE1pbiArKztcclxuICAgICAgICAgICAgaWYoR2FtZVNjZW5lLmxldmVsTWluID4gNSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgR2FtZVNjZW5lLmxldmVsTWluID0gMTtcclxuICAgICAgICAgICAgfVxyXG5cdFx0XHQgd2luZG93Lm1haW4ucmFuZG9tYmcoKTtcclxuICAgICAgICAgICAgLy9jYy5kaXJlY3Rvci5sb2FkU2NlbmUoXCJsZXZlbFwiICsgR2FtZVNjZW5lLmxldmVsTWF4ICsgXCItXCIgKyBHYW1lU2NlbmUubGV2ZWxNaW4pO1xyXG4gICAgICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKS5uYW1lKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qdGhpcy5leGl0QnRuLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsKGV2ZW50KT0+e1xyXG5cclxuICAgICAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKFwic2VsZWN0b3JcIik7XHJcblxyXG4gICAgICAgIH0pOyovXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/util/Random.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2900d0hDJpF16INet9u32+C', 'Random');
// script/tscript/util/Random.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var Random = /** @class */ (function () {
    function Random() {
    }
    Random.Range = function (num1, num2) {
        if (num2 > num1) {
            return Math.random() * (num2 - num1) + num1;
        }
        return Math.random() * (num1 - num2) + num2;
    };
    Random.RangeInteger = function (num1, num2) {
        return Math.floor(this.Range(num1, num2));
    };
    return Random;
}());
exports.default = Random;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1dGlsXFxSYW5kb20udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7O0FBR25HO0lBQUE7SUFpQkEsQ0FBQztJQWZpQixZQUFLLEdBQW5CLFVBQW9CLElBQVcsRUFBQyxJQUFXO1FBRXZDLElBQUcsSUFBSSxHQUFHLElBQUksRUFDZDtZQUNJLE9BQU8sSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQztTQUMvQztRQUNELE9BQU8sSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQztJQUNoRCxDQUFDO0lBR2EsbUJBQVksR0FBMUIsVUFBMkIsSUFBVyxFQUFDLElBQVc7UUFFOUMsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVMLGFBQUM7QUFBRCxDQWpCQSxBQWlCQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFuZG9tIHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFJhbmdlKG51bTE6bnVtYmVyLG51bTI6bnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIGlmKG51bTIgPiBudW0xKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobnVtMiAtIG51bTEpICsgbnVtMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobnVtMSAtIG51bTIpICsgbnVtMjtcclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIHB1YmxpYyBzdGF0aWMgUmFuZ2VJbnRlZ2VyKG51bTE6bnVtYmVyLG51bTI6bnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMuUmFuZ2UobnVtMSxudW0yKSk7XHJcbiAgICB9XHJcbiAgICBcclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/ui/main/NavigateOtherGameIcon.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3fd23EnIfpJR4hWqNwgO2hQ', 'NavigateOtherGameIcon');
// script/tscript/ui/main/NavigateOtherGameIcon.ts

Object.defineProperty(exports, "__esModule", { value: true });
var WXSdk_1 = require("../../wx/WXSdk");
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var NavigateOtherGameIcon = /** @class */ (function (_super) {
    __extends(NavigateOtherGameIcon, _super);
    function NavigateOtherGameIcon() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.gameIcon = null;
        _this.gameIconImgArr = [];
        _this.iconIndex = 0;
        _this.appIdArr = ["wx1b0de075c16e0e29"];
        return _this;
        // update (dt) {}
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    NavigateOtherGameIcon.prototype.start = function () {
        //"navigateToMiniProgramAppIdList": ["wx1b0de075c16e0e29"]
        var _this = this;
        this.node.on(cc.Node.EventType.TOUCH_START, function (event) {
            if (!WXSdk_1.default.instance.isWXPlatform())
                return;
            WXSdk_1.default.instance.wx.navigateToMiniProgram({
                appId: _this.appIdArr[_this.iconIndex],
                //path: 'page/index/index?from=xqfd',
                extraData: {
                    from: 'xqfd_dzz'
                },
                //envVersion: 'release',//release develop trial
                success: function (res) {
                    // 打开成功
                }
            });
        }, this);
        this.schedule(function () {
            _this.iconIndex++;
            _this.iconIndex %= _this.gameIconImgArr.length;
            _this.gameIcon.spriteFrame = _this.gameIconImgArr[_this.iconIndex];
            //this.addknifeBtn.node.position = cc.v2(-200,0);
            //this.addknifeBtn.node.runAction(cc.moveTo(0.25,0,0));
        }, 3.2);
    };
    __decorate([
        property(cc.Sprite)
    ], NavigateOtherGameIcon.prototype, "gameIcon", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], NavigateOtherGameIcon.prototype, "gameIconImgArr", void 0);
    NavigateOtherGameIcon = __decorate([
        ccclass
    ], NavigateOtherGameIcon);
    return NavigateOtherGameIcon;
}(cc.Component));
exports.default = NavigateOtherGameIcon;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1aVxcbWFpblxcTmF2aWdhdGVPdGhlckdhbWVJY29uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx3Q0FBbUM7QUFFbkMsb0JBQW9CO0FBQ3BCLGtGQUFrRjtBQUNsRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFFN0YsSUFBQSxrQkFBbUMsRUFBbEMsb0JBQU8sRUFBRSxzQkFBeUIsQ0FBQztBQUcxQztJQUFtRCx5Q0FBWTtJQUQvRDtRQUFBLHFFQXVEQztRQW5ERyxjQUFRLEdBQWMsSUFBSSxDQUFDO1FBRzNCLG9CQUFjLEdBQXFCLEVBQUUsQ0FBQztRQUUvQixlQUFTLEdBQVUsQ0FBQyxDQUFDO1FBRXJCLGNBQVEsR0FBWSxDQUFDLG9CQUFvQixDQUFDLENBQUM7O1FBMkNsRCxpQkFBaUI7SUFDckIsQ0FBQztJQTFDRyx3QkFBd0I7SUFFeEIsZUFBZTtJQUVmLHFDQUFLLEdBQUw7UUFFSSwwREFBMEQ7UUFGOUQsaUJBbUNDO1FBL0JHLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBQyxVQUFDLEtBQUs7WUFFN0MsSUFBRyxDQUFDLGVBQUssQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFO2dCQUM3QixPQUFPO1lBRVgsZUFBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMscUJBQXFCLENBQUM7Z0JBQ3BDLEtBQUssRUFBRSxLQUFJLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxTQUFTLENBQUM7Z0JBQ3BDLHFDQUFxQztnQkFDckMsU0FBUyxFQUFFO29CQUNQLElBQUksRUFBRSxVQUFVO2lCQUNuQjtnQkFDRCwrQ0FBK0M7Z0JBQy9DLE9BQU8sWUFBQyxHQUFHO29CQUNQLE9BQU87Z0JBQ1gsQ0FBQzthQUNKLENBQUMsQ0FBQztRQUVQLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztRQUdSLElBQUksQ0FBQyxRQUFRLENBQUM7WUFFVixLQUFJLENBQUMsU0FBUyxFQUFHLENBQUM7WUFDbEIsS0FBSSxDQUFDLFNBQVMsSUFBSSxLQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQztZQUU3QyxLQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsR0FBRyxLQUFJLENBQUMsY0FBYyxDQUFDLEtBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUVoRSxpREFBaUQ7WUFDakQsdURBQXVEO1FBQzNELENBQUMsRUFBQyxHQUFHLENBQUMsQ0FBQztJQUVYLENBQUM7SUFoREQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzsyREFDTztJQUczQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDO2lFQUNhO0lBTnJCLHFCQUFxQjtRQUR6QyxPQUFPO09BQ2EscUJBQXFCLENBc0R6QztJQUFELDRCQUFDO0NBdERELEFBc0RDLENBdERrRCxFQUFFLENBQUMsU0FBUyxHQXNEOUQ7a0JBdERvQixxQkFBcUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgV1hTZGsgZnJvbSBcIi4uLy4uL3d4L1dYU2RrXCI7XHJcblxyXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmF2aWdhdGVPdGhlckdhbWVJY29uIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgZ2FtZUljb246IGNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZUZyYW1lKVxyXG4gICAgZ2FtZUljb25JbWdBcnI6IGNjLlNwcml0ZUZyYW1lW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgaWNvbkluZGV4Om51bWJlciA9IDA7XHJcblxyXG4gICAgcHVibGljIGFwcElkQXJyOnN0cmluZ1tdID0gW1wid3gxYjBkZTA3NWMxNmUwZTI5XCJdO1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIC8vIG9uTG9hZCAoKSB7fVxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuXHJcbiAgICAgICAgLy9cIm5hdmlnYXRlVG9NaW5pUHJvZ3JhbUFwcElkTGlzdFwiOiBbXCJ3eDFiMGRlMDc1YzE2ZTBlMjlcIl1cclxuXHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULChldmVudCk9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoIVdYU2RrLmluc3RhbmNlLmlzV1hQbGF0Zm9ybSgpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgV1hTZGsuaW5zdGFuY2Uud3gubmF2aWdhdGVUb01pbmlQcm9ncmFtKHtcclxuICAgICAgICAgICAgICAgIGFwcElkOiB0aGlzLmFwcElkQXJyW3RoaXMuaWNvbkluZGV4XSxcclxuICAgICAgICAgICAgICAgIC8vcGF0aDogJ3BhZ2UvaW5kZXgvaW5kZXg/ZnJvbT14cWZkJyxcclxuICAgICAgICAgICAgICAgIGV4dHJhRGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGZyb206ICd4cWZkX2R6eidcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvL2VudlZlcnNpb246ICdyZWxlYXNlJywvL3JlbGVhc2UgZGV2ZWxvcCB0cmlhbFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzcyhyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyDmiZPlvIDmiJDlip9cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0sdGhpcyk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnNjaGVkdWxlKCgpPT57XHJcblxyXG4gICAgICAgICAgICB0aGlzLmljb25JbmRleCArKztcclxuICAgICAgICAgICAgdGhpcy5pY29uSW5kZXggJT0gdGhpcy5nYW1lSWNvbkltZ0Fyci5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdhbWVJY29uLnNwcml0ZUZyYW1lID0gdGhpcy5nYW1lSWNvbkltZ0Fyclt0aGlzLmljb25JbmRleF07XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vdGhpcy5hZGRrbmlmZUJ0bi5ub2RlLnBvc2l0aW9uID0gY2MudjIoLTIwMCwwKTtcclxuICAgICAgICAgICAgLy90aGlzLmFkZGtuaWZlQnRuLm5vZGUucnVuQWN0aW9uKGNjLm1vdmVUbygwLjI1LDAsMCkpO1xyXG4gICAgICAgIH0sMy4yKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/util/Quake.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '390c1a5gv9Mqa5w+RUhJNNc', 'Quake');
// script/tscript/util/Quake.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Random_1 = require("./Random");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Quake = /** @class */ (function (_super) {
    __extends(Quake, _super);
    function Quake() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        // 震动幅度
        _this.shakeLevel = 3;
        // 震动时间
        _this.setShakeTime = 0.2;
        // 震动的FPS
        _this.shakeFps = 45;
        _this.shakeTime = 0.0;
        _this.frameTime = 0.0;
        _this.shakeDelta = 0.005;
        _this.isShake = false;
        return _this;
    }
    Quake.prototype.onLoad = function () {
        this.basePos = this.node.position;
        //this.shakeLevel = 5;
        //changeRect = new Rect(0.0f, 0.0f, 1.0f, 1.0f);
    };
    // Use this for initialization
    Quake.prototype.start = function () {
        this.shakeTime = this.setShakeTime;
        this.fps = this.shakeFps;
        this.frameTime = 0.03;
        this.shakeDelta = 0.005;
    };
    // Update is called once per frame
    Quake.prototype.update = function (dt) {
        if (this.isShake) {
            if (this.shakeTime > 0) {
                this.shakeTime -= dt;
                if (this.shakeTime <= 0) {
                    //changeRect.xMin = 0.0f;
                    //changeRect.yMin = 0.0f;
                    //selfCamera.rect = changeRect;
                    this.node.position = this.basePos;
                    this.isShake = false;
                    this.shakeTime = this.setShakeTime;
                    this.fps = this.shakeFps;
                    this.frameTime = 0.03;
                    this.shakeDelta = 0.005;
                }
                else {
                    this.frameTime += dt;
                    if (this.frameTime > 1.0 / this.fps) {
                        this.frameTime = 0;
                        //changeRect.xMin = shakeDelta * (-1.0f + shakeLevel * Random.value);
                        //changeRect.yMin = shakeDelta * (-1.0f + shakeLevel * Random.value);
                        //selfCamera.rect = changeRect;
                        this.node.position = this.basePos.add(cc.v2(Random_1.default.Range(-this.shakeLevel, this.shakeLevel), Random_1.default.Range(-this.shakeLevel, this.shakeLevel)));
                    }
                }
            }
        }
    };
    Quake.prototype.shake = function (time) {
        if (time === void 0) { time = 0; }
        this.isShake = true;
        if (time != 0) {
            this.shakeTime = time;
        }
        else {
            this.shakeTime = this.setShakeTime;
        }
    };
    __decorate([
        property
    ], Quake.prototype, "shakeLevel", void 0);
    __decorate([
        property
    ], Quake.prototype, "setShakeTime", void 0);
    __decorate([
        property
    ], Quake.prototype, "shakeFps", void 0);
    Quake = __decorate([
        ccclass
    ], Quake);
    return Quake;
}(cc.Component));
exports.default = Quake;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1dGlsXFxRdWFrZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbUNBQThCO0FBRTlCLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBRTdGLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFHMUM7SUFBbUMseUJBQVk7SUFEL0M7UUFBQSxxRUEyRkM7UUF4RkcsT0FBTztRQUVDLGdCQUFVLEdBQVUsQ0FBQyxDQUFDO1FBQzlCLE9BQU87UUFFQyxrQkFBWSxHQUFVLEdBQUcsQ0FBQztRQUNsQyxTQUFTO1FBRUQsY0FBUSxHQUFVLEVBQUUsQ0FBQztRQUdwQixlQUFTLEdBQUcsR0FBRyxDQUFDO1FBQ2hCLGVBQVMsR0FBRyxHQUFHLENBQUM7UUFDaEIsZ0JBQVUsR0FBRyxLQUFLLENBQUM7UUFHckIsYUFBTyxHQUFXLEtBQUssQ0FBQzs7SUF3RW5DLENBQUM7SUFuRUcsc0JBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7UUFFbEMsc0JBQXNCO1FBQ3RCLGdEQUFnRDtJQUNwRCxDQUFDO0lBRUQsOEJBQThCO0lBQzlCLHFCQUFLLEdBQUw7UUFFSSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7UUFDbkMsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO0lBQzVCLENBQUM7SUFFTCxrQ0FBa0M7SUFDOUIsc0JBQU0sR0FBTixVQUFPLEVBQUU7UUFFTCxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQ2hCO1lBQ0ksSUFBSSxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsRUFDdEI7Z0JBQ0ksSUFBSSxDQUFDLFNBQVMsSUFBSSxFQUFFLENBQUM7Z0JBQ3JCLElBQUksSUFBSSxDQUFDLFNBQVMsSUFBSSxDQUFDLEVBQ3ZCO29CQUNJLHlCQUF5QjtvQkFDekIseUJBQXlCO29CQUN6QiwrQkFBK0I7b0JBQy9CLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7b0JBQ2xDLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO29CQUNyQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7b0JBQ25DLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztvQkFDekIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7b0JBQ3RCLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO2lCQUMzQjtxQkFFRDtvQkFDSSxJQUFJLENBQUMsU0FBUyxJQUFJLEVBQUUsQ0FBQztvQkFFckIsSUFBSSxJQUFJLENBQUMsU0FBUyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUNuQzt3QkFDSSxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQzt3QkFDbkIscUVBQXFFO3dCQUNyRSxxRUFBcUU7d0JBQ3JFLCtCQUErQjt3QkFDL0IsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxnQkFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLGdCQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO3FCQUMvSTtpQkFDSjthQUNKO1NBQ0o7SUFDTCxDQUFDO0lBRU0scUJBQUssR0FBWixVQUFhLElBQWU7UUFBZixxQkFBQSxFQUFBLFFBQWU7UUFFeEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7UUFFcEIsSUFBRyxJQUFJLElBQUksQ0FBQyxFQUNaO1lBQ0ksSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7U0FDekI7YUFDRDtZQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQztTQUN0QztJQUNMLENBQUM7SUFwRkQ7UUFEQyxRQUFROzZDQUNxQjtJQUc5QjtRQURDLFFBQVE7K0NBQ3lCO0lBR2xDO1FBREMsUUFBUTsyQ0FDb0I7SUFWWixLQUFLO1FBRHpCLE9BQU87T0FDYSxLQUFLLENBMEZ6QjtJQUFELFlBQUM7Q0ExRkQsQUEwRkMsQ0ExRmtDLEVBQUUsQ0FBQyxTQUFTLEdBMEY5QztrQkExRm9CLEtBQUsiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmFuZG9tIGZyb20gXCIuL1JhbmRvbVwiO1xyXG5cclxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1YWtlIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICAvLyDpnIfliqjluYXluqZcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHVibGljICBzaGFrZUxldmVsOm51bWJlciA9IDM7XHJcbiAgICAvLyDpnIfliqjml7bpl7RcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHVibGljICBzZXRTaGFrZVRpbWU6bnVtYmVyID0gMC4yO1xyXG4gICAgLy8g6ZyH5Yqo55qERlBTXHJcbiAgICBAcHJvcGVydHlcclxuICAgIHB1YmxpYyAgc2hha2VGcHM6bnVtYmVyID0gNDU7XHJcblxyXG4gICAgcHJpdmF0ZSAgZnBzO1xyXG4gICAgcHJpdmF0ZSAgc2hha2VUaW1lID0gMC4wO1xyXG4gICAgcHJpdmF0ZSAgZnJhbWVUaW1lID0gMC4wO1xyXG4gICAgcHJpdmF0ZSAgc2hha2VEZWx0YSA9IDAuMDA1O1xyXG5cclxuXHJcbiAgICBwdWJsaWMgaXNTaGFrZTpib29sZWFuID0gZmFsc2U7XHJcblxyXG5cclxuICAgIHByaXZhdGUgYmFzZVBvczpjYy5WZWMyO1xyXG5cclxuICAgIG9uTG9hZCgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5iYXNlUG9zID0gdGhpcy5ub2RlLnBvc2l0aW9uO1xyXG5cclxuICAgICAgICAvL3RoaXMuc2hha2VMZXZlbCA9IDU7XHJcbiAgICAgICAgLy9jaGFuZ2VSZWN0ID0gbmV3IFJlY3QoMC4wZiwgMC4wZiwgMS4wZiwgMS4wZik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXNlIHRoaXMgZm9yIGluaXRpYWxpemF0aW9uXHJcbiAgICBzdGFydCgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5zaGFrZVRpbWUgPSB0aGlzLnNldFNoYWtlVGltZTtcclxuICAgICAgICB0aGlzLmZwcyA9IHRoaXMuc2hha2VGcHM7XHJcbiAgICAgICAgdGhpcy5mcmFtZVRpbWUgPSAwLjAzO1xyXG4gICAgICAgIHRoaXMuc2hha2VEZWx0YSA9IDAuMDA1O1xyXG4gICAgfVxyXG5cclxuLy8gVXBkYXRlIGlzIGNhbGxlZCBvbmNlIHBlciBmcmFtZVxyXG4gICAgdXBkYXRlKGR0KVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLmlzU2hha2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaGFrZVRpbWUgPiAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWtlVGltZSAtPSBkdDtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNoYWtlVGltZSA8PSAwKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2hhbmdlUmVjdC54TWluID0gMC4wZjtcclxuICAgICAgICAgICAgICAgICAgICAvL2NoYW5nZVJlY3QueU1pbiA9IDAuMGY7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9zZWxmQ2FtZXJhLnJlY3QgPSBjaGFuZ2VSZWN0O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5wb3NpdGlvbiA9IHRoaXMuYmFzZVBvcztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzU2hha2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYWtlVGltZSA9IHRoaXMuc2V0U2hha2VUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnBzID0gdGhpcy5zaGFrZUZwcztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYW1lVGltZSA9IDAuMDM7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGFrZURlbHRhID0gMC4wMDU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFtZVRpbWUgKz0gZHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lVGltZSA+IDEuMCAvIHRoaXMuZnBzKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFtZVRpbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoYW5nZVJlY3QueE1pbiA9IHNoYWtlRGVsdGEgKiAoLTEuMGYgKyBzaGFrZUxldmVsICogUmFuZG9tLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jaGFuZ2VSZWN0LnlNaW4gPSBzaGFrZURlbHRhICogKC0xLjBmICsgc2hha2VMZXZlbCAqIFJhbmRvbS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2VsZkNhbWVyYS5yZWN0ID0gY2hhbmdlUmVjdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2RlLnBvc2l0aW9uID0gdGhpcy5iYXNlUG9zLmFkZChjYy52MihSYW5kb20uUmFuZ2UoLXRoaXMuc2hha2VMZXZlbCx0aGlzLnNoYWtlTGV2ZWwpLFJhbmRvbS5SYW5nZSgtdGhpcy5zaGFrZUxldmVsLHRoaXMuc2hha2VMZXZlbCkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNoYWtlKHRpbWU6bnVtYmVyID0gMClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmlzU2hha2UgPSB0cnVlO1xyXG5cclxuICAgICAgICBpZih0aW1lICE9IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnNoYWtlVGltZSA9IHRpbWU7XHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hha2VUaW1lID0gdGhpcy5zZXRTaGFrZVRpbWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/util/AnimationController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bd208TAM6hOe5rynE0i/9TS', 'AnimationController');
// script/tscript/util/AnimationController.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var AnimationController = /** @class */ (function (_super) {
    __extends(AnimationController, _super);
    function AnimationController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.images = [];
        _this.frameTime = 0.1;
        /// <summary>
        /// 播放次数
        /// </summary>
        _this.playTimes = 0;
        /// <summary>
        /// 播放完自动销毁
        /// </summary>
        _this.autoDestroy = false;
        _this.frameNum = 0;
        _this.frameIndex = 0;
        _this.running = true;
        _this.time = 0;
        _this.currentTimes = 0;
        return _this;
    }
    AnimationController.prototype.onLoad = function () {
        this.m_render = this.getComponent(cc.Sprite);
    };
    // Use this for initialization
    AnimationController.prototype.start = function () {
        if (this.images.length != 0) {
            this.frameNum = this.images.length;
        }
        this.time = this.frameTime;
    };
    // Update is called once per frame
    AnimationController.prototype.update = function (dt) {
        if (!this.running)
            return;
        if (this.images.length == 0)
            return;
        this.time -= dt;
        if (this.playTimes != 0 && this.currentTimes == this.playTimes)
            return;
        if (this.time <= 0) {
            this.time = this.frameTime;
            this.frameIndex = this.frameIndex % this.frameNum;
            this.m_render.spriteFrame = this.images[this.frameIndex];
            if (this.frameCallback != null) {
                this.frameCallback(this.frameIndex);
            }
            if (this.frameIndex == this.frameNum - 1) {
                this.currentTimes++;
                if (this.completeCallback != null) {
                    this.completeCallback();
                }
                if (this.autoDestroy) {
                    this.node.destroy();
                }
            }
            this.frameIndex++;
        }
    };
    /// <summary>
    /// 播放
    /// </summary>
    AnimationController.prototype.play = function (completeCallback, frameCallback) {
        if (completeCallback === void 0) { completeCallback = null; }
        if (frameCallback === void 0) { frameCallback = null; }
        this.completeCallback = completeCallback;
        this.frameCallback = frameCallback;
        this.running = true;
        this.frameIndex = 0;
        this.currentTimes = 0;
        this.time = this.frameTime;
        if (this.images.length != 0) {
            this.frameNum = this.images.length;
        }
        if (this.m_render)
            this.m_render.spriteFrame = this.images[0];
    };
    AnimationController.prototype.gotoAndPlay = function (frameIndex) {
    };
    /// <summary>
    /// 停止
    /// </summary>
    AnimationController.prototype.stop = function () {
        this.running = false;
    };
    AnimationController.prototype.gotoAndStop = function (frameIndex) {
        if (this.frameIndex < 0)
            this.frameIndex = 0;
        if (this.frameIndex > this.images.length - 1)
            this.frameIndex = this.images.length - 1;
        this.m_render.spriteFrame = this.images[this.frameIndex];
        this.running = false;
    };
    AnimationController.prototype.isPlayEnd = function () {
        return this.frameIndex == this.frameNum;
    };
    __decorate([
        property(cc.SpriteFrame)
    ], AnimationController.prototype, "images", void 0);
    __decorate([
        property()
    ], AnimationController.prototype, "frameTime", void 0);
    __decorate([
        property()
    ], AnimationController.prototype, "playTimes", void 0);
    __decorate([
        property()
    ], AnimationController.prototype, "autoDestroy", void 0);
    AnimationController = __decorate([
        ccclass
    ], AnimationController);
    return AnimationController;
}(cc.Component));
exports.default = AnimationController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1dGlsXFxBbmltYXRpb25Db250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQWlELHVDQUFZO0lBRDdEO1FBQUEscUVBd0pDO1FBcEpVLFlBQU0sR0FBb0IsRUFBRSxDQUFDO1FBRzdCLGVBQVMsR0FBVSxHQUFHLENBQUM7UUFFOUIsYUFBYTtRQUNiLFFBQVE7UUFDUixjQUFjO1FBRVAsZUFBUyxHQUFVLENBQUMsQ0FBQztRQUU1QixhQUFhO1FBQ2IsV0FBVztRQUNYLGNBQWM7UUFFUCxpQkFBVyxHQUFXLEtBQUssQ0FBQztRQUU1QixjQUFRLEdBQVUsQ0FBQyxDQUFDO1FBRXBCLGdCQUFVLEdBQVUsQ0FBQyxDQUFDO1FBR3RCLGFBQU8sR0FBVyxJQUFJLENBQUM7UUFJdEIsVUFBSSxHQUFVLENBQUMsQ0FBQztRQU1oQixrQkFBWSxHQUFVLENBQUMsQ0FBQzs7SUFvSHBDLENBQUM7SUFsSEcsb0NBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVKLDhCQUE4QjtJQUM5QixtQ0FBSyxHQUFMO1FBQ08sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQzNCO1lBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztTQUN0QztRQUVELElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxD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QyxVQUFVLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBRTdDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBRXpELElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO0lBQ3pCLENBQUM7SUFFTSx1Q0FBUyxHQUFoQjtRQUVJLE9BQU8sSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQzVDLENBQUM7SUFqSkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzt1REFDVztJQUdwQztRQURDLFFBQVEsRUFBRTswREFDbUI7SUFNOUI7UUFEQyxRQUFRLEVBQUU7MERBQ2lCO0lBTTVCO1FBREMsUUFBUSxFQUFFOzREQUN3QjtJQWxCbEIsbUJBQW1CO1FBRHZDLE9BQU87T0FDYSxtQkFBbUIsQ0F1SnZDO0lBQUQsMEJBQUM7Q0F2SkQsQUF1SkMsQ0F2SmdELEVBQUUsQ0FBQyxTQUFTLEdBdUo1RDtrQkF2Sm9CLG1CQUFtQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbmltYXRpb25Db250cm9sbGVyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBwdWJsaWMgaW1hZ2VzOmNjLlNwcml0ZUZyYW1lW10gPSBbXTtcclxuXHJcbiAgICBAcHJvcGVydHkoKVxyXG4gICAgcHVibGljIGZyYW1lVGltZTpudW1iZXIgPSAwLjE7XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOaSreaUvuasoeaVsFxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIEBwcm9wZXJ0eSgpXHJcbiAgICBwdWJsaWMgcGxheVRpbWVzOm51bWJlciA9IDA7XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOaSreaUvuWujOiHquWKqOmUgOavgVxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIEBwcm9wZXJ0eSgpXHJcbiAgICBwdWJsaWMgYXV0b0Rlc3Ryb3k6Ym9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHB1YmxpYyBmcmFtZU51bTpudW1iZXIgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBmcmFtZUluZGV4Om51bWJlciA9IDA7XHJcblxyXG5cclxuICAgIHB1YmxpYyBydW5uaW5nOmJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICAgIHByaXZhdGUgbV9yZW5kZXI6Y2MuU3ByaXRlO1xyXG5cclxuICAgIHByaXZhdGUgdGltZTpudW1iZXIgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgY29tcGxldGVDYWxsYmFjazpGdW5jdGlvbjtcclxuXHJcbiAgICBwcml2YXRlIGZyYW1lQ2FsbGJhY2s6RnVuY3Rpb247XHJcblxyXG4gICAgcHJpdmF0ZSBjdXJyZW50VGltZXM6bnVtYmVyID0gMDtcclxuXHJcbiAgICBvbkxvYWQoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubV9yZW5kZXIgPSB0aGlzLmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xyXG4gICAgfVxyXG5cclxuXHQvLyBVc2UgdGhpcyBmb3IgaW5pdGlhbGl6YXRpb25cclxuXHRzdGFydCAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VzLmxlbmd0aCAhPSAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZU51bSA9IHRoaXMuaW1hZ2VzLmxlbmd0aDsgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRpbWUgPSB0aGlzLmZyYW1lVGltZTtcclxuXHR9XHJcblx0XHJcblx0Ly8gVXBkYXRlIGlzIGNhbGxlZCBvbmNlIHBlciBmcmFtZVxyXG4gICAgdXBkYXRlIChkdCkge1xyXG4gICAgICBcclxuICAgICAgICBpZiAoIXRoaXMucnVubmluZylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VzLmxlbmd0aCA9PSAwKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMudGltZSAtPSBkdDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGxheVRpbWVzICE9IDAgJiYgdGhpcy5jdXJyZW50VGltZXMgPT0gdGhpcy5wbGF5VGltZXMpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudGltZSA8PSAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lID0gdGhpcy5mcmFtZVRpbWU7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZyYW1lSW5kZXggPSB0aGlzLmZyYW1lSW5kZXggJSB0aGlzLmZyYW1lTnVtO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tX3JlbmRlci5zcHJpdGVGcmFtZSA9IHRoaXMuaW1hZ2VzW3RoaXMuZnJhbWVJbmRleF07XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5mcmFtZUNhbGxiYWNrICE9IG51bGwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVDYWxsYmFjayh0aGlzLmZyYW1lSW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5mcmFtZUluZGV4ID09IHRoaXMuZnJhbWVOdW0gLSAxKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUaW1lcysrO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbXBsZXRlQ2FsbGJhY2sgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdXRvRGVzdHJveSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZyYW1lSW5kZXgrKztcclxuXHJcbiAgICAgICAgfVxyXG5cdH1cclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g5pKt5pS+XHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljIHBsYXkoY29tcGxldGVDYWxsYmFjazpGdW5jdGlvbiA9IG51bGwsIGZyYW1lQ2FsbGJhY2s6RnVuY3Rpb24gPSBudWxsKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY29tcGxldGVDYWxsYmFjayA9IGNvbXBsZXRlQ2FsbGJhY2s7XHJcbiAgICAgICAgdGhpcy5mcmFtZUNhbGxiYWNrID0gZnJhbWVDYWxsYmFjaztcclxuXHJcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmZyYW1lSW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFRpbWVzID0gMDtcclxuICAgICAgICB0aGlzLnRpbWUgPSB0aGlzLmZyYW1lVGltZTtcclxuICAgICAgICBpZiAodGhpcy5pbWFnZXMubGVuZ3RoICE9IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmZyYW1lTnVtID0gdGhpcy5pbWFnZXMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5tX3JlbmRlcilcclxuICAgICAgICAgICAgdGhpcy5tX3JlbmRlci5zcHJpdGVGcmFtZSA9IHRoaXMuaW1hZ2VzWzBdO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ290b0FuZFBsYXkoZnJhbWVJbmRleDpudW1iZXIpXHJcbiAgICB7XHJcbiAgICB9XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOWBnOatolxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBzdG9wKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ290b0FuZFN0b3AoZnJhbWVJbmRleDpGdW5jdGlvbilcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5mcmFtZUluZGV4IDwgMClcclxuICAgICAgICAgICAgdGhpcy5mcmFtZUluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZnJhbWVJbmRleCA+IHRoaXMuaW1hZ2VzLmxlbmd0aCAtIDEpXHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWVJbmRleCA9IHRoaXMuaW1hZ2VzLmxlbmd0aCAtIDE7XHJcblxyXG4gICAgICAgIHRoaXMubV9yZW5kZXIuc3ByaXRlRnJhbWUgPSB0aGlzLmltYWdlc1t0aGlzLmZyYW1lSW5kZXhdO1xyXG5cclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNQbGF5RW5kKCk6Ym9vbGVhblxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZyYW1lSW5kZXggPT0gdGhpcy5mcmFtZU51bTtcclxuICAgIH1cclxuXHJcblxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/util/Clock.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '83782/Oy9lC2ZGy9VcARPZY', 'Clock');
// script/tscript/util/Clock.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Clock = /** @class */ (function (_super) {
    __extends(Clock, _super);
    function Clock() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /// <summary>
        /// 1只显示秒，2只显示分秒，3只显示时分秒
        /// </summary>
        _this.hms = 3;
        _this.timeText = null;
        /// <summary>
        /// 0是倒计时，1是顺计时
        /// </summary>
        _this.increse = 0;
        /// <summary>
        /// 时长
        /// </summary>
        _this.timeLength = 0;
        /// <summary>
        /// 每个时间步的间隔，单位为秒
        /// </summary>
        _this.timeStep = 1.0;
        _this._stime = 0;
        _this._etime = 0;
        _this._currentCount = 0;
        _this._hour = 0; //时
        _this._minute = 0; //分
        _this._second = 0; //秒
        _this._isStop = true;
        /// <summary>
        /// 没一个时间步执行的会掉
        /// </summary>
        _this._callback = null;
        /// <summary>
        /// 时间结束时执行的回调
        /// </summary>
        _this._completeCallback = null;
        return _this;
        // update (dt) {}
    }
    /// <summary>
    /// 开始计时
    /// </summary>
    /// <param name="callback">计时执行的回调</param>
    Clock.prototype.Play = function (callback, completeCallback) {
        if (callback === void 0) { callback = null; }
        if (completeCallback === void 0) { completeCallback = null; }
        if (!this.timeText) {
            this.timeText = this.getComponent(cc.Label);
        }
        this._callback = callback;
        this._completeCallback = completeCallback;
        this._isStop = false;
        this.unschedule(this.ClockTime);
        this.ClockTime(this.timeStep);
        this.schedule(this.ClockTime, this.timeStep);
    };
    /// <summary>
    /// 停止计时
    /// </summary>
    Clock.prototype.Stop = function () {
        this.unschedule(this.ClockTime);
        this._isStop = true;
    };
    /// <summary>
    /// 计时重置
    /// </summary>
    Clock.prototype.Reset = function () {
        this._currentCount = 0;
        this._isStop = true;
    };
    /// <summary>
    /// 时钟计时
    /// </summary>
    /// <returns></returns>
    Clock.prototype.ClockTime = function (dt) {
        if (this._isStop) {
            this.unschedule(this.ClockTime);
            return;
        }
        if (this._currentCount < this.timeLength) {
            this._currentCount++;
            var num = 0;
            if (this.increse == 1) {
                num = this._stime + this._currentCount;
            }
            else if (this.increse == 0) {
                num = this.timeLength - this._currentCount + this._stime;
            }
            else {
                this.unschedule(this.ClockTime);
                return;
            }
            //this._hour = Math.floor(num / 3600) % 24;//转换小时 24小时制
            this._hour = Math.floor(num / 3600); //转换小时 
            this._minute = Math.floor((num - this.hour * 3600) / 60); //转换分钟
            this._second = num - (this.hour * 3600 + this.minute * 60); //转换秒数
            var str = "";
            if (this.hms == 1) {
                str = this.second >= 10 ? "" + this.second : "0" + this.second;
            }
            else if (this.hms == 2) {
                str = this.minute + ":" + (this.second >= 10 ? "" + this.second : "0" + this.second);
            }
            else if (this.hms == 3) {
                str = (this.hour >= 10 ? this.hour + ":" : "0" + this.hour + ":") +
                    (this.minute >= 10 ? this.minute + ":" : "0" + this.minute + ":") + (this.second >= 10 ? "" + this.second : "0" + this.second);
            }
            if (this._callback != null) {
                this._callback(this.second, this.minute, this.hour, str, num);
            }
            if (this.timeText != null) {
                this.timeText.string = str;
            }
        }
        else {
            this._isStop = true;
            if (this._completeCallback != null) {
                this._completeCallback();
            }
            this.unschedule(this.ClockTime);
            return;
        }
    };
    Object.defineProperty(Clock.prototype, "currentCount", {
        /// <summary>
        /// 当前计时了多少步
        /// </summary>
        get: function () {
            return this._currentCount;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Clock.prototype, "hour", {
        /// <summary>
        /// 小时
        /// </summary>
        get: function () {
            return this._hour;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Clock.prototype, "minute", {
        /// <summary>
        /// 分钟
        /// </summary>
        get: function () {
            return this._minute;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Clock.prototype, "second", {
        /// <summary>
        /// 秒钟
        /// </summary>
        get: function () {
            return this._second;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Clock.prototype, "running", {
        get: function () {
            return !this._isStop;
        },
        enumerable: true,
        configurable: true
    });
    Clock.prototype.onLoad = function () {
        if (!this.timeText) {
            this.timeText = this.getComponent(cc.Label);
        }
    };
    Clock.prototype.start = function () {
    };
    __decorate([
        property({ type: cc.Integer, tooltip: "1只显示秒，2只显示分秒，3只显示时分秒" })
    ], Clock.prototype, "hms", void 0);
    __decorate([
        property({ type: cc.Label, tooltip: "显示倒计时的文本" })
    ], Clock.prototype, "timeText", void 0);
    __decorate([
        property({ type: cc.Integer, tooltip: "0是倒计时，1是顺计时" })
    ], Clock.prototype, "increse", void 0);
    __decorate([
        property({ type: cc.Integer, tooltip: "时长" })
    ], Clock.prototype, "timeLength", void 0);
    __decorate([
        property({ type: cc.Integer, tooltip: "每个时间步的间隔，单位为秒" })
    ], Clock.prototype, "timeStep", void 0);
    Clock = __decorate([
        ccclass
    ], Clock);
    return Clock;
}(cc.Component));
exports.default = Clock;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1dGlsXFxDbG9jay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRzs7QUFFN0YsSUFBQSxrQkFBbUMsRUFBbEMsb0JBQU8sRUFBRSxzQkFBeUIsQ0FBQztBQUcxQztJQUFtQyx5QkFBWTtJQUQvQztRQUFBLHFFQTJOQztRQXhORyxhQUFhO1FBQ2Isd0JBQXdCO1FBQ3hCLGNBQWM7UUFFUCxTQUFHLEdBQVUsQ0FBQyxDQUFDO1FBR2YsY0FBUSxHQUFZLElBQUksQ0FBQztRQUVoQyxhQUFhO1FBQ2IsZUFBZTtRQUNmLGNBQWM7UUFFUCxhQUFPLEdBQVUsQ0FBQyxDQUFDO1FBRTFCLGFBQWE7UUFDYixNQUFNO1FBQ04sY0FBYztRQUVQLGdCQUFVLEdBQVUsQ0FBQyxDQUFDO1FBRTdCLGFBQWE7UUFDYixpQkFBaUI7UUFDakIsY0FBYztRQUVQLGNBQVEsR0FBVSxHQUFHLENBQUM7UUFFckIsWUFBTSxHQUFVLENBQUMsQ0FBQztRQUNsQixZQUFNLEdBQVUsQ0FBQyxDQUFDO1FBRWxCLG1CQUFhLEdBQVUsQ0FBQyxDQUFDO1FBRXpCLFdBQUssR0FBVSxDQUFDLENBQUMsQ0FBQSxHQUFHO1FBQ3BCLGFBQU8sR0FBVSxDQUFDLENBQUMsQ0FBQSxHQUFHO1FBQ3RCLGFBQU8sR0FBVSxDQUFDLENBQUMsQ0FBQSxHQUFHO1FBRXRCLGFBQU8sR0FBVyxJQUFJLENBQUM7UUFFL0IsYUFBYTtRQUNiLGVBQWU7UUFDZixjQUFjO1FBQ0wsZUFBUyxHQUFZLElBQUksQ0FBQztRQUVuQyxhQUFhO1FBQ2IsY0FBYztRQUNkLGNBQWM7UUFDTix1QkFBaUIsR0FBWSxJQUFJLENBQUM7O1FBeUsxQyxpQkFB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LEVBQ2pCO2dCQUNJLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO2FBQ2xFO2lCQUNJLElBQUksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQ3RCO2dCQUNJLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUN4RjtpQkFDSSxJQUFJLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUN0QjtnQkFDSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztvQkFDN0QsQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQ3RJO1lBRUQsSUFBSSxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksRUFDMUI7Z0JBQ0ksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUMsR0FBRyxDQUFDLENBQUM7YUFDaEU7WUFFRCxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxFQUN6QjtnQkFDSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7YUFDOUI7U0FDSjthQUNEO1lBQ0ksSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7WUFFcEIsSUFBSSxJQUFJLENBQUMsaUJBQWlCLElBQUksSUFBSSxFQUNsQztnQkFDSSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQzthQUM1QjtZQUVELElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ2hDLE9BQU87U0FDVjtJQUVMLENBQUM7SUFLRCxzQkFBVywrQkFBWTtRQUh2QixhQUFhO1FBQ2IsWUFBWTtRQUNaLGNBQWM7YUFDZDtZQUVJLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQztRQUM5QixDQUFDOzs7T0FBQTtJQUtELHNCQUFXLHVCQUFJO1FBSGYsYUFBYTtRQUNiLE1BQU07UUFDTixjQUFjO2FBQ2Q7WUFHSSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7UUFFdEIsQ0FBQzs7O09BQUE7SUFLRCxzQkFBVyx5QkFBTTtRQUhqQixhQUFhO1FBQ2IsTUFBTTtRQUNOLGNBQWM7YUFDZDtZQUVJLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUN4QixDQUFDOzs7T0FBQTtJQUtELHNCQUFXLHlCQUFNO1FBSGpCLGFBQWE7UUFDYixNQUFNO1FBQ04sY0FBYzthQUNkO1lBR0ksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQ3hCLENBQUM7OztPQUFBO0lBRUQsc0JBQVcsMEJBQU87YUFBbEI7WUFFSSxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUN6QixDQUFDOzs7T0FBQTtJQUVELHNCQUFNLEdBQU47UUFFSSxJQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFDakI7WUFDSSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQy9DO0lBQ0wsQ0FBQztJQUVELHFCQUFLLEdBQUw7SUFHQSxDQUFDO0lBak5EO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLHNCQUFzQixFQUFDLENBQUM7c0NBQ3JDO0lBR3RCO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUMsT0FBTyxFQUFDLFVBQVUsRUFBQyxDQUFDOzJDQUNiO0lBTWhDO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLGFBQWEsRUFBQyxDQUFDOzBDQUN4QjtJQU0xQjtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBQyxFQUFFLENBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxJQUFJLEVBQUMsQ0FBQzs2Q0FDWjtJQU03QjtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBQyxFQUFFLENBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsQ0FBQzsyQ0FDdkI7SUEzQlosS0FBSztRQUR6QixPQUFPO09BQ2EsS0FBSyxDQTBOekI7SUFBRCxZQUFDO0NBMU5ELEFBME5DLENBMU5rQyxFQUFFLENBQUMsU0FBUyxHQTBOOUM7a0JBMU5vQixLQUFLIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsb2NrIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8gMeWPquaYvuekuuenku+8jDLlj6rmmL7npLrliIbnp5LvvIwz5Y+q5pi+56S65pe25YiG56eSXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLkludGVnZXIsdG9vbHRpcDpcIjHlj6rmmL7npLrnp5LvvIwy5Y+q5pi+56S65YiG56eS77yMM+WPquaYvuekuuaXtuWIhuenklwifSlcclxuICAgIHB1YmxpYyBobXM6bnVtYmVyID0gMztcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuTGFiZWwsdG9vbHRpcDpcIuaYvuekuuWAkuiuoeaXtueahOaWh+acrFwifSlcclxuICAgIHB1YmxpYyB0aW1lVGV4dDpjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIDDmmK/lgJLorqHml7bvvIwx5piv6aG66K6h5pe2XHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLkludGVnZXIsdG9vbHRpcDpcIjDmmK/lgJLorqHml7bvvIwx5piv6aG66K6h5pe2XCJ9KVxyXG4gICAgcHVibGljIGluY3Jlc2U6bnVtYmVyID0gMDtcclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g5pe26ZW/XHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLkludGVnZXIsdG9vbHRpcDpcIuaXtumVv1wifSlcclxuICAgIHB1YmxpYyB0aW1lTGVuZ3RoOm51bWJlciA9IDA7XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOavj+S4quaXtumXtOatpeeahOmXtOmalO+8jOWNleS9jeS4uuenklxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5JbnRlZ2VyLHRvb2x0aXA6XCLmr4/kuKrml7bpl7TmraXnmoTpl7TpmpTvvIzljZXkvY3kuLrnp5JcIn0pXHJcbiAgICBwdWJsaWMgdGltZVN0ZXA6bnVtYmVyID0gMS4wO1xyXG5cclxuICAgIHByaXZhdGUgX3N0aW1lOm51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIF9ldGltZTpudW1iZXIgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgX2N1cnJlbnRDb3VudDpudW1iZXIgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgX2hvdXI6bnVtYmVyID0gMDsvL+aXtlxyXG4gICAgcHJpdmF0ZSBfbWludXRlOm51bWJlciA9IDA7Ly/liIZcclxuICAgIHByaXZhdGUgX3NlY29uZDpudW1iZXIgPSAwOy8v56eSXHJcblxyXG4gICAgcHJpdmF0ZSBfaXNTdG9wOmJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDmsqHkuIDkuKrml7bpl7TmraXmiafooYznmoTkvJrmjolcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwcml2YXRlICBfY2FsbGJhY2s6RnVuY3Rpb24gPSBudWxsO1xyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDml7bpl7Tnu5PmnZ/ml7bmiafooYznmoTlm57osINcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwcml2YXRlIF9jb21wbGV0ZUNhbGxiYWNrOkZ1bmN0aW9uID0gbnVsbDtcclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g5byA5aeL6K6h5pe2XHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgLy8vIDxwYXJhbSBuYW1lPVwiY2FsbGJhY2tcIj7orqHml7bmiafooYznmoTlm57osIM8L3BhcmFtPlxyXG4gICAgcHVibGljIFBsYXkoY2FsbGJhY2s6RnVuY3Rpb24gPSBudWxsLCBjb21wbGV0ZUNhbGxiYWNrOkZ1bmN0aW9uID0gbnVsbClcclxuICAgIHtcclxuICAgICAgICBpZighdGhpcy50aW1lVGV4dClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZVRleHQgPSB0aGlzLmdldENvbXBvbmVudChjYy5MYWJlbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMuX2NvbXBsZXRlQ2FsbGJhY2sgPSBjb21wbGV0ZUNhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMuX2lzU3RvcCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudW5zY2hlZHVsZSh0aGlzLkNsb2NrVGltZSk7XHJcbiAgICAgICAgdGhpcy5DbG9ja1RpbWUodGhpcy50aW1lU3RlcCk7XHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZSh0aGlzLkNsb2NrVGltZSx0aGlzLnRpbWVTdGVwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g5YGc5q2i6K6h5pe2XHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljIFN0b3AoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMudW5zY2hlZHVsZSh0aGlzLkNsb2NrVGltZSk7XHJcbiAgICAgICAgdGhpcy5faXNTdG9wID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g6K6h5pe26YeN572uXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljIFJlc2V0KClcclxuICAgIHtcclxuICAgICAgICB0aGlzLl9jdXJyZW50Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuX2lzU3RvcCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDml7bpkp/orqHml7ZcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAvLy8gPHJldHVybnM+PC9yZXR1cm5zPlxyXG4gICAgcHJpdmF0ZSBDbG9ja1RpbWUoZHQ6bnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLl9pc1N0b3ApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnVuc2NoZWR1bGUodGhpcy5DbG9ja1RpbWUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLl9jdXJyZW50Q291bnQgPCB0aGlzLnRpbWVMZW5ndGgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50Q291bnQrKztcclxuXHJcbiAgICAgICAgICAgIHZhciBudW06bnVtYmVyID0gMDtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmluY3Jlc2UgPT0gMSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbnVtID0gdGhpcy5fc3RpbWUgKyB0aGlzLl9jdXJyZW50Q291bnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5pbmNyZXNlID09IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG51bSA9IHRoaXMudGltZUxlbmd0aCAtIHRoaXMuX2N1cnJlbnRDb3VudCArIHRoaXMuX3N0aW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMuQ2xvY2tUaW1lKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy90aGlzLl9ob3VyID0gTWF0aC5mbG9vcihudW0gLyAzNjAwKSAlIDI0Oy8v6L2s5o2i5bCP5pe2IDI05bCP5pe25Yi2XHJcbiAgICAgICAgICAgIHRoaXMuX2hvdXIgPSBNYXRoLmZsb29yKG51bSAvIDM2MDApOy8v6L2s5o2i5bCP5pe2IFxyXG4gICAgICAgICAgICB0aGlzLl9taW51dGUgPSBNYXRoLmZsb29yKChudW0gLSB0aGlzLmhvdXIgKiAzNjAwKSAvIDYwKTsvL+i9rOaNouWIhumSn1xyXG4gICAgICAgICAgICB0aGlzLl9zZWNvbmQgPSBudW0gLSAodGhpcy5ob3VyICogMzYwMCArIHRoaXMubWludXRlICogNjApOy8v6L2s5o2i56eS5pWwXHJcblxyXG4gICAgICAgICAgICB2YXIgc3RyOnN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhtcyA9PSAxKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdHIgPSB0aGlzLnNlY29uZCA+PSAxMCA/IFwiXCIgKyB0aGlzLnNlY29uZCA6IFwiMFwiICsgdGhpcy5zZWNvbmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5obXMgPT0gMilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RyID0gdGhpcy5taW51dGUgKyBcIjpcIiArICh0aGlzLnNlY29uZCA+PSAxMCA/IFwiXCIgKyB0aGlzLnNlY29uZCA6IFwiMFwiICsgdGhpcy5zZWNvbmQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaG1zID09IDMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0ciA9ICh0aGlzLmhvdXIgPj0gMTAgPyB0aGlzLmhvdXIgKyBcIjpcIiA6IFwiMFwiICsgdGhpcy5ob3VyICsgXCI6XCIpICtcclxuICAgICAgICAgICAgICAgICAgICAodGhpcy5taW51dGUgPj0gMTAgPyB0aGlzLm1pbnV0ZSArIFwiOlwiIDogXCIwXCIgKyB0aGlzLm1pbnV0ZSArIFwiOlwiKSArICh0aGlzLnNlY29uZCA+PSAxMCA/IFwiXCIgKyB0aGlzLnNlY29uZCA6IFwiMFwiICsgdGhpcy5zZWNvbmQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5fY2FsbGJhY2sgIT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2sodGhpcy5zZWNvbmQsIHRoaXMubWludXRlLCB0aGlzLmhvdXIsIHN0cixudW0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lVGV4dCAhPSBudWxsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVUZXh0LnN0cmluZyA9IHN0cjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9pc1N0b3AgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbXBsZXRlQ2FsbGJhY2sgIT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcGxldGVDYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMuQ2xvY2tUaW1lKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOW9k+WJjeiuoeaXtuS6huWkmuWwkeatpVxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBnZXQgY3VycmVudENvdW50KClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudENvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDlsI/ml7ZcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwdWJsaWMgZ2V0IGhvdXIoKTpudW1iZXJcclxuICAgIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hvdXI7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDliIbpkp9cclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwdWJsaWMgZ2V0IG1pbnV0ZSgpOm51bWJlclxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9taW51dGU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOenkumSn1xyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBnZXQgc2Vjb25kKCk6bnVtYmVyXHJcbiAgICB7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZWNvbmQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBydW5uaW5nKCk6Ym9vbGVhblxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5faXNTdG9wO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTG9hZCgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIXRoaXMudGltZVRleHQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVUZXh0ID0gdGhpcy5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/util/Mathf.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f65b5ocyA9FdLnQaCyUjigM', 'Mathf');
// script/tscript/util/Mathf.ts

// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var Mathf = /** @class */ (function () {
    function Mathf() {
    }
    /**
     *
     * @param dirNum 获得向量方向
     */
    Mathf.prototype.getDirValue = function (dirNum) {
        if (dirNum > 0) {
            return 1;
        }
        if (dirNum < 0) {
            return -1;
        }
        return 0;
    };
    /**
     * 获得随机方向
     */
    Mathf.prototype.getRandomDir = function () {
        if (Math.random() >= 0.5) {
            return 1;
        }
        return -1;
    };
    Mathf.lerp = function (numStart, numEnd, t) {
        if (t > 1) {
            t = 1;
        }
        else if (t < 0) {
            t = 0;
        }
        return numStart * (1 - t) + (numEnd * t);
    };
    Mathf.clamp = function (value, minLimit, maxLimit) {
        if (value < minLimit) {
            return minLimit;
        }
        if (value > maxLimit) {
            return maxLimit;
        }
        return value;
    };
    /**
     *
     * @param value 获得一个值的概率
     */
    Mathf.probability = function (value) {
        return Math.random() < value;
    };
    return Mathf;
}());
exports.default = Mathf;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1dGlsXFxNYXRoZi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsa0ZBQWtGO0FBQ2xGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsNEZBQTRGO0FBQzVGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsNEZBQTRGO0FBQzVGLG1HQUFtRzs7QUFHbkc7SUFBQTtJQXdFQSxDQUFDO0lBdEVHOzs7T0FHRztJQUNJLDJCQUFXLEdBQWxCLFVBQW1CLE1BQWE7UUFFNUIsSUFBRyxNQUFNLEdBQUcsQ0FBQyxFQUNiO1lBQ0ksT0FBTyxDQUFDLENBQUM7U0FDWjtRQUVELElBQUcsTUFBTSxHQUFHLENBQUMsRUFDYjtZQUNJLE9BQVEsQ0FBQyxDQUFDLENBQUM7U0FDZDtRQUVELE9BQU8sQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQUVEOztPQUVHO0lBQ0ksNEJBQVksR0FBbkI7UUFFSSxJQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxHQUFHLEVBQ3ZCO1lBQ0ksT0FBTyxDQUFDLENBQUM7U0FDWjtRQUVELE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDZCxDQUFDO0lBRWEsVUFBSSxHQUFsQixVQUFtQixRQUFlLEVBQUMsTUFBYSxFQUFDLENBQVE7UUFFckQsSUFBRyxDQUFDLEdBQUcsQ0FBQyxFQUNSO1lBQ0ksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNUO2FBQUssSUFBRyxDQUFDLEdBQUcsQ0FBQyxFQUNkO1lBQ0ksQ0FBQyxHQUFHLENBQUMsQ0FBQTtTQUNSO1FBRUQsT0FBTyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVhLFdBQUssR0FBbkIsVUFBb0IsS0FBWSxFQUFDLFFBQWUsRUFBQyxRQUFlO1FBRTVELElBQUcsS0FBSyxHQUFHLFFBQVEsRUFDbkI7WUFDSSxPQUFPLFFBQVEsQ0FBQztTQUNuQjtRQUVELElBQUcsS0FBSyxHQUFHLFFBQVEsRUFDbkI7WUFDSSxPQUFPLFFBQVEsQ0FBQztTQUNuQjtRQUVELE9BQU8sS0FBSyxDQUFDO0lBRWpCLENBQUM7SUFFRDs7O09BR0c7SUFDVyxpQkFBVyxHQUF6QixVQUEwQixLQUFZO1FBRWxDLE9BQU8sSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEtBQUssQ0FBQztJQUNqQyxDQUFDO0lBRUwsWUFBQztBQUFELENBeEVBLEFBd0VDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXRoZiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBkaXJOdW0g6I635b6X5ZCR6YeP5pa55ZCRXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREaXJWYWx1ZShkaXJOdW06bnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIGlmKGRpck51bSA+IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKGRpck51bSA8IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gIC0xO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflvpfpmo/mnLrmlrnlkJFcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFJhbmRvbURpcigpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoTWF0aC5yYW5kb20oKSA+PSAwLjUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGxlcnAobnVtU3RhcnQ6bnVtYmVyLG51bUVuZDpudW1iZXIsdDpudW1iZXIpOm51bWJlclxyXG4gICAge1xyXG4gICAgICAgIGlmKHQgPiAxKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdCA9IDE7XHJcbiAgICAgICAgfWVsc2UgaWYodCA8IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0ID0gMFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bVN0YXJ0ICogKDEgLSB0KSArIChudW1FbmQgKiB0KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIHN0YXRpYyBjbGFtcCh2YWx1ZTpudW1iZXIsbWluTGltaXQ6bnVtYmVyLG1heExpbWl0Om51bWJlcilcclxuICAgIHtcclxuICAgICAgICBpZih2YWx1ZSA8IG1pbkxpbWl0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1pbkxpbWl0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodmFsdWUgPiBtYXhMaW1pdClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXhMaW1pdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB2YWx1ZSDojrflvpfkuIDkuKrlgLznmoTmpoLnjodcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBwcm9iYWJpbGl0eSh2YWx1ZTpudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgPCB2YWx1ZTtcclxuICAgIH1cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/wx/SystemTools.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a26d3p99ilP1ZqFHCYHQRqX', 'SystemTools');
// script/tscript/wx/SystemTools.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var SystemTools = /** @class */ (function () {
    function SystemTools() {
    }
    SystemTools.format = function (str) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var result = str;
        if (args.length > 0) {
            var value = void 0;
            for (var key in args) {
                value = args[key];
                if (value != null && value.length != 0) {
                    var reg = new RegExp("\\{" + key + "\\}", "g");
                    result = result.replace(reg, value);
                }
            }
        }
        return result;
    };
    SystemTools = __decorate([
        ccclass
    ], SystemTools);
    return SystemTools;
}());
exports.default = SystemTools;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx3eFxcU3lzdGVtVG9vbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7O0FBRTdGLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFHMUM7SUFBQTtJQXNCQSxDQUFDO0lBcEJpQixrQkFBTSxHQUFwQixVQUFxQixHQUFVO1FBQUMsY0FBYTthQUFiLFVBQWEsRUFBYixxQkFBYSxFQUFiLElBQWE7WUFBYiw2QkFBYTs7UUFFekMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDO1FBQ2pCLElBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQ2xCO1lBQ0ksSUFBSSxLQUFLLFNBQUEsQ0FBQztZQUNWLEtBQUssSUFBSSxHQUFHLElBQUksSUFBSSxFQUNwQjtnQkFDSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNsQixJQUFHLEtBQUssSUFBSSxJQUFJLElBQUksS0FBSyxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQ3JDO29CQUNJLElBQUksR0FBRyxHQUFHLElBQUksTUFBTSxDQUFDLFFBQU0sR0FBRyxRQUFLLEVBQUMsR0FBRyxDQUFDLENBQUM7b0JBQ3pDLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztpQkFDdkM7YUFDSjtTQUNKO1FBR0QsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQXJCZ0IsV0FBVztRQUQvQixPQUFPO09BQ2EsV0FBVyxDQXNCL0I7SUFBRCxrQkFBQztDQXRCRCxBQXNCQyxJQUFBO2tCQXRCb0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTeXN0ZW1Ub29sc3tcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZvcm1hdChzdHI6c3RyaW5nLC4uLmFyZ3M6YW55W10pOnN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBzdHI7XHJcbiAgICAgICAgaWYoYXJncy5sZW5ndGggPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYXJncykgXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gYXJnc1trZXldO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsdWUgIT0gbnVsbCAmJiB2YWx1ZS5sZW5ndGggIT0gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cChgXFxcXHske2tleX1cXFxcfWAsXCJnXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKHJlZywgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/util/Vector2.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e92a0MK9VVImIf+/qVez0xa', 'Vector2');
// script/tscript/util/Vector2.ts

// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var Vector2 = /** @class */ (function () {
    function Vector2() {
    }
    /**
     *
     * @param posStart 插值运算
     * @param posEnd
     * @param t
     */
    Vector2.lerp = function (posStart, posEnd, t) {
        return this.bezierOne(t, posStart, posEnd);
    };
    //一次贝塞尔即为线性插值函数
    Vector2.bezierOne = function (t, posStart, posEnd) {
        if (t > 1) {
            t = 1;
        }
        else if (t < 0) {
            t = 0;
        }
        //return posStart.addSelf(posEnd.subSelf(posStart).mulSelf(t));
        return posStart.mul(1 - t).add(posEnd.mul(t));
    };
    //二次贝塞尔曲线
    Vector2.bezierTwo = function (t, posStart, posCon, posEnd) {
        if (t > 1) {
            t = 1;
        }
        else if (t < 0) {
            t = 0;
        }
        var n = (1 - t);
        var tt = t * t;
        var pos = posStart;
        pos.addSelf(posStart.mul(n * n));
        pos.addSelf(posCon.mul(2 * n * t));
        pos.addSelf(posEnd.mul(tt));
        return pos;
    };
    //三次贝塞尔
    Vector2.bezierThree = function (t, posStart, posCon1, posCon2, posEnd) {
        if (t > 1) {
            t = 1;
        }
        else if (t < 0) {
            t = 0;
        }
        var n = (1 - t);
        var nn = n * n;
        var nnn = nn * n;
        var tt = t * t;
        var ttt = tt * t;
        var pos = posStart;
        pos.addSelf(posStart.mul(nnn));
        pos.addSelf(posCon1.mul(3 * nn * t));
        pos.addSelf(posCon2.mul(3 * n * tt));
        pos.addSelf(posEnd.mul(ttt));
        return pos;
    };
    Vector2.distance = function (pos1, pos2) {
        return pos2.sub(pos1).mag();
    };
    return Vector2;
}());
exports.default = Vector2;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1dGlsXFxWZWN0b3IyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixrRkFBa0Y7QUFDbEYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5Qiw0RkFBNEY7QUFDNUYsbUdBQW1HOztBQUVuRztJQUFBO0lBc0ZBLENBQUM7SUFwRkc7Ozs7O09BS0c7SUFDVyxZQUFJLEdBQWxCLFVBQW1CLFFBQWdCLEVBQUMsTUFBYyxFQUFDLENBQVE7UUFFdkQsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBQyxRQUFRLEVBQUMsTUFBTSxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVELGVBQWU7SUFDRCxpQkFBUyxHQUF2QixVQUF3QixDQUFRLEVBQUMsUUFBZ0IsRUFBQyxNQUFjO1FBRzVELElBQUcsQ0FBQyxHQUFHLENBQUMsRUFDUjtZQUNJLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDVDthQUFLLElBQUcsQ0FBQyxHQUFHLENBQUMsRUFDZDtZQUNJLENBQUMsR0FBRyxDQUFDLENBQUE7U0FDUjtRQUVELCtEQUErRDtRQUMvRCxPQUFPLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFbEQsQ0FBQztJQUVELFNBQVM7SUFDSyxpQkFBUyxHQUF2QixVQUF3QixDQUFRLEVBQUMsUUFBZ0IsRUFBQyxNQUFjLEVBQUMsTUFBYztRQUczRSxJQUFHLENBQUMsR0FBRyxDQUFDLEVBQ1I7WUFDSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ1Q7YUFBSyxJQUFHLENBQUMsR0FBRyxDQUFDLEVBQ2Q7WUFDSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1NBQ1I7UUFFRCxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNoQixJQUFJLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRWYsSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDO1FBRW5CLEdBQUcsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqQyxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25DLEdBQUcsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRTVCLE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUVELE9BQU87SUFDTyxtQkFBVyxHQUF6QixVQUEwQixDQUFRLEVBQUMsUUFBZ0IsRUFBQyxPQUFlLEVBQUMsT0FBZSxFQUFDLE1BQWM7UUFFOUYsSUFBRyxDQUFDLEdBQUcsQ0FBQyxFQUNSO1lBQ0ksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNUO2FBQUssSUFBRyxDQUFDLEdBQUcsQ0FBQyxFQUNkO1lBQ0ksQ0FBQyxHQUFHLENBQUMsQ0FBQTtTQUNSO1FBRUQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDaEIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNmLElBQUksR0FBRyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDakIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNmLElBQUksR0FBRyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFFakIsSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDO1FBQ25CLEdBQUcsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQy9CLEdBQUcsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBQyxDQUFDLEdBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNqQyxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUU3QixPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFYSxnQkFBUSxHQUF0QixVQUF1QixJQUFZLEVBQUMsSUFBWTtRQUU1QyxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDaEMsQ0FBQztJQUdMLGNBQUM7QUFBRCxDQXRGQSxBQXNGQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWZWN0b3IyIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHBvc1N0YXJ0IOaPkuWAvOi/kOeul1xyXG4gICAgICogQHBhcmFtIHBvc0VuZCBcclxuICAgICAqIEBwYXJhbSB0IFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGxlcnAocG9zU3RhcnQ6Y2MuVmVjMixwb3NFbmQ6Y2MuVmVjMix0Om51bWJlcik6Y2MuVmVjMlxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJlemllck9uZSh0LHBvc1N0YXJ0LHBvc0VuZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/kuIDmrKHotJ3loZ7lsJTljbPkuLrnur/mgKfmj5LlgLzlh73mlbBcclxuICAgIHB1YmxpYyBzdGF0aWMgYmV6aWVyT25lKHQ6bnVtYmVyLHBvc1N0YXJ0OmNjLlZlYzIscG9zRW5kOmNjLlZlYzIpOmNjLlZlYzJcclxuICAgIHtcclxuICAgICAgICBcclxuICAgICAgICBpZih0ID4gMSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHQgPSAxO1xyXG4gICAgICAgIH1lbHNlIGlmKHQgPCAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdCA9IDBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy9yZXR1cm4gcG9zU3RhcnQuYWRkU2VsZihwb3NFbmQuc3ViU2VsZihwb3NTdGFydCkubXVsU2VsZih0KSk7XHJcbiAgICAgICAgcmV0dXJuIHBvc1N0YXJ0Lm11bCgxIC0gdCkuYWRkKHBvc0VuZC5tdWwodCkpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvL+S6jOasoei0neWhnuWwlOabsue6v1xyXG4gICAgcHVibGljIHN0YXRpYyBiZXppZXJUd28odDpudW1iZXIscG9zU3RhcnQ6Y2MuVmVjMixwb3NDb246Y2MuVmVjMixwb3NFbmQ6Y2MuVmVjMik6Y2MuVmVjMlxyXG4gICAge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKHQgPiAxKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdCA9IDE7XHJcbiAgICAgICAgfWVsc2UgaWYodCA8IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0ID0gMFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB2YXIgbiA9ICgxIC0gdCk7XHJcbiAgICAgICAgdmFyIHR0ID0gdCAqIHQ7XHJcblxyXG4gICAgICAgIHZhciBwb3MgPSBwb3NTdGFydDtcclxuXHJcbiAgICAgICAgcG9zLmFkZFNlbGYocG9zU3RhcnQubXVsKG4gKiBuKSk7XHJcbiAgICAgICAgcG9zLmFkZFNlbGYocG9zQ29uLm11bCgyICogbiAqIHQpKTtcclxuICAgICAgICBwb3MuYWRkU2VsZihwb3NFbmQubXVsKHR0KSk7XHJcblxyXG4gICAgICAgIHJldHVybiBwb3M7XHJcbiAgICB9XHJcblxyXG4gICAgLy/kuInmrKHotJ3loZ7lsJRcclxuICAgIHB1YmxpYyBzdGF0aWMgYmV6aWVyVGhyZWUodDpudW1iZXIscG9zU3RhcnQ6Y2MuVmVjMixwb3NDb24xOmNjLlZlYzIscG9zQ29uMjpjYy5WZWMyLHBvc0VuZDpjYy5WZWMyKTpjYy5WZWMyXHJcbiAgICB7XHJcbiAgICAgICAgaWYodCA+IDEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0ID0gMTtcclxuICAgICAgICB9ZWxzZSBpZih0IDwgMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHQgPSAwXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbiA9ICgxIC0gdCk7XHJcbiAgICAgICAgdmFyIG5uID0gbiAqIG47XHJcbiAgICAgICAgdmFyIG5ubiA9IG5uICogbjtcclxuICAgICAgICB2YXIgdHQgPSB0ICogdDtcclxuICAgICAgICB2YXIgdHR0ID0gdHQgKiB0O1xyXG5cclxuICAgICAgICB2YXIgcG9zID0gcG9zU3RhcnQ7XHJcbiAgICAgICAgcG9zLmFkZFNlbGYocG9zU3RhcnQubXVsKG5ubikpO1xyXG4gICAgICAgIHBvcy5hZGRTZWxmKHBvc0NvbjEubXVsKDMqbm4gKiB0KSk7XHJcbiAgICAgICAgcG9zLmFkZFNlbGYocG9zQ29uMi5tdWwoMypuKnR0KSk7XHJcbiAgICAgICAgcG9zLmFkZFNlbGYocG9zRW5kLm11bCh0dHQpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHBvcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGRpc3RhbmNlKHBvczE6Y2MuVmVjMixwb3MyOmNjLlZlYzIpOm51bWJlclxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBwb3MyLnN1Yihwb3MxKS5tYWcoKTtcclxuICAgIH1cclxuICAgIFxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/util/SplashScreen.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '638f9JPW4JF/KhrDz/2HdK5', 'SplashScreen');
// script/tscript/util/SplashScreen.ts

// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/// <summary>
/// 渐入渐出的状态
/// </summary>
var FadeStatus;
(function (FadeStatus) {
    FadeStatus[FadeStatus["None"] = 0] = "None";
    FadeStatus[FadeStatus["FadeIn"] = 1] = "FadeIn";
    FadeStatus[FadeStatus["FadeWait"] = 2] = "FadeWait";
    FadeStatus[FadeStatus["FadeOut"] = 3] = "FadeOut";
    FadeStatus[FadeStatus["FadeFinish"] = 4] = "FadeFinish";
})(FadeStatus = exports.FadeStatus || (exports.FadeStatus = {}));
/// <summary>
/// 渐入渐出的类型  
/// </summary>
var SplashType;
(function (SplashType) {
    SplashType[SplashType["None"] = 0] = "None";
    /// <summary>
    /// 只执行淡入或者淡出中的一种
    /// </summary>
    SplashType[SplashType["SingleOnly"] = 1] = "SingleOnly";
    /// <summary>
    /// 加载完场景才淡出
    /// </summary>
    SplashType[SplashType["LoadSceneThenFadeOut"] = 2] = "LoadSceneThenFadeOut";
})(SplashType = exports.SplashType || (exports.SplashType = {}));
var SplashScreen = /** @class */ (function (_super) {
    __extends(SplashScreen, _super);
    function SplashScreen() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        //渐入渐出速度
        _this.fadeSpeed = 0.5;
        //等待时间
        _this.waitDuration = 0.84;
        /// <summary>
        /// 渐入渐出类型
        /// </summary>
        _this.splashType = SplashType.None;
        /// <summary>
        /// 渐入渐出的状态
        /// </summary>
        _this.mStatus = FadeStatus.None;
        //当前透明度
        _this.mAlpha = 0.0;
        return _this;
        /*void OnLevelWasLoaded(int index)
        {
            if(splashType == SplashType.LoadSceneThenFadeOut)
            {
                mStatus = FadeStatus.FadeOut;
            }
    
            //PlaySplashFadeOut(0.5f,0.25f);
    
            OnFadeInFinish = null;
            OnFadeOutFinish = null;
        }*/
        // LIFE-CYCLE CALLBACKS:
        // onLoad () {}
        // update (dt) {}
    }
    SplashScreen.prototype.onLoad = function () {
    };
    SplashScreen.prototype.start = function () {
        //计算Logo绘制的位置
        //this.mSplashLogoPos.x = (cc.winSize.width * 0.5 - 1920 * 0.5);
        //this.mSplashLogoPos.y = (cc.winSize.height * 0.5 - 1080 * 0.5);
        this.mSplashLogoPos.x = 0;
        this.mSplashLogoPos.y = 0;
        this.mSplashLogoPos.width = cc.winSize.width;
        this.mSplashLogoPos.height = cc.winSize.height;
    };
    /// <summary>
    /// 播发特效
    /// </summary>
    /// <param name="sceneLoadedFadeOut">是否是加载完场景后才淡出</param>
    SplashScreen.prototype.PlaySplash = function (fadeSpeed, waitDuration, delay) {
        if (fadeSpeed === void 0) { fadeSpeed = 1.0; }
        if (waitDuration === void 0) { waitDuration = 0.85; }
        if (delay === void 0) { delay = 0; }
        this.fadeSpeed = fadeSpeed;
        this.waitDuration = waitDuration;
        this.delay = delay;
        this.splashType = SplashType.None;
        this.mStatus = FadeStatus.FadeIn;
    };
    /// <summary>
    /// 播放淡入特效
    /// </summary>
    SplashScreen.prototype.PlaySplashFadeIn = function (fadeSpeed, delay) {
        if (fadeSpeed === void 0) { fadeSpeed = 1.0; }
        if (delay === void 0) { delay = 0; }
        this.fadeSpeed = fadeSpeed;
        this.delay = delay;
        this.splashType = SplashType.SingleOnly;
        this.mStatus = FadeStatus.FadeIn;
        this.mAlpha = 0.0;
    };
    /// <summary>
    /// 播放淡出特效
    /// </summary>
    SplashScreen.prototype.PlaySplashFadeOut = function (fadeSpeed, delay) {
        if (fadeSpeed === void 0) { fadeSpeed = 1.0; }
        if (delay === void 0) { delay = 0; }
        this.fadeSpeed = fadeSpeed;
        this.delay = delay;
        this.splashType = SplashType.SingleOnly;
        this.mStatus = FadeStatus.FadeOut;
        this.mAlpha = 1.0;
    };
    SplashScreen.prototype.update = function (dt) {
        if (this.delay > 0) {
            this.delay -= dt;
            return;
        }
        switch (this.mStatus) {
            case FadeStatus.FadeIn:
                this.mAlpha += this.fadeSpeed * dt;
                if (this.mAlpha >= 1.0) {
                    if (this.splashType != SplashType.SingleOnly) {
                        this.mStatus = FadeStatus.FadeWait;
                        this.waitTime = this.waitDuration;
                    }
                    this.mAlpha = 1.0;
                    if (this.OnFadeInFinish != null)
                        this.OnFadeInFinish();
                }
                break;
            case FadeStatus.FadeOut:
                this.mAlpha -= this.fadeSpeed * dt;
                if (this.mAlpha <= 0.0) {
                    this.mStatus = FadeStatus.FadeFinish;
                    this.mAlpha = 0.0;
                    if (this.OnFadeOutFinish != null)
                        this.OnFadeOutFinish();
                }
                break;
            case FadeStatus.FadeWait:
                if (this.splashType != SplashType.SingleOnly) {
                    this.waitTime -= dt;
                    if (this.waitTime <= 0) {
                        this.mStatus = FadeStatus.FadeOut;
                        this.waitTime = 0;
                    }
                }
                break;
        }
    };
    SplashScreen.prototype.lateUpdate = function () {
        if (this.splashLogo != null) {
            //绘制Logo
            //GUI.color = new Color(GUI.color.r, GUI.color.g, GUI.color.b, Mathf.Clamp(mAlpha, 0, 1));
            //GUI.DrawTexture(mSplashLogoPos, splashLogo);
        }
    };
    __decorate([
        property({ type: cc.Enum(SplashType) })
    ], SplashScreen.prototype, "splashType", void 0);
    __decorate([
        property({ type: cc.Enum(FadeStatus) })
    ], SplashScreen.prototype, "mStatus", void 0);
    SplashScreen = __decorate([
        ccclass
    ], SplashScreen);
    return SplashScreen;
}(cc.Component));
exports.default = SplashScreen;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1dGlsXFxTcGxhc2hTY3JlZW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGtGQUFrRjtBQUNsRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDRGQUE0RjtBQUM1RixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDRGQUE0RjtBQUM1RixtR0FBbUc7O0FBRTdGLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFHMUMsYUFBYTtBQUNiLFdBQVc7QUFDWCxjQUFjO0FBQ2QsSUFBWSxVQU9YO0FBUEQsV0FBWSxVQUFVO0lBRWxCLDJDQUFJLENBQUE7SUFDSiwrQ0FBTSxDQUFBO0lBQ04sbURBQVEsQ0FBQTtJQUNSLGlEQUFPLENBQUE7SUFDUCx1REFBVSxDQUFBO0FBQ2QsQ0FBQyxFQVBXLFVBQVUsR0FBVixrQkFBVSxLQUFWLGtCQUFVLFFBT3JCO0FBRUQsYUFBYTtBQUNiLGFBQWE7QUFDYixjQUFjO0FBQ2QsSUFBWSxVQWNYO0FBZEQsV0FBWSxVQUFVO0lBRWxCLDJDQUFJLENBQUE7SUFFSixhQUFhO0lBQ2IsaUJBQWlCO0lBQ2pCLGNBQWM7SUFDZCx1REFBVSxDQUFBO0lBRVYsYUFBYTtJQUNiLFlBQVk7SUFDWixjQUFjO0lBQ2QsMkVBQW9CLENBQUE7QUFFeEIsQ0FBQyxFQWRXLFVBQVUsR0FBVixrQkFBVSxLQUFWLGtCQUFVLFFBY3JCO0FBR0Q7SUFBMEMsZ0NBQVk7SUFEdEQ7UUFBQSxxRUEwTEM7UUFoTEcsUUFBUTtRQUNELGVBQVMsR0FBVSxHQUFHLENBQUM7UUFFOUIsTUFBTTtRQUNDLGtCQUFZLEdBQVUsSUFBSSxDQUFDO1FBRWxDLGFBQWE7UUFDYixVQUFVO1FBQ1YsY0FBYztRQUVOLGdCQUFVLEdBQWMsVUFBVSxDQUFDLElBQUksQ0FBQztRQUVoRCxhQUFhO1FBQ2IsV0FBVztRQUNYLGNBQWM7UUFFTixh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Q0FBQztJQWxKRDtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLENBQUM7b0RBQ1c7SUFNaEQ7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxDQUFDO2lEQUNRO0lBekI1QixZQUFZO1FBRGhDLE9BQU87T0FDYSxZQUFZLENBeUxoQztJQUFELG1CQUFDO0NBekxELEFBeUxDLENBekx5QyxFQUFFLENBQUMsU0FBUyxHQXlMckQ7a0JBekxvQixZQUFZIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcblxyXG4vLy8gPHN1bW1hcnk+XHJcbi8vLyDmuJDlhaXmuJDlh7rnmoTnirbmgIFcclxuLy8vIDwvc3VtbWFyeT5cclxuZXhwb3J0IGVudW0gRmFkZVN0YXR1c1xyXG57XHJcbiAgICBOb25lLFxyXG4gICAgRmFkZUluLFxyXG4gICAgRmFkZVdhaXQsXHJcbiAgICBGYWRlT3V0LFxyXG4gICAgRmFkZUZpbmlzaFxyXG59XHJcblxyXG4vLy8gPHN1bW1hcnk+XHJcbi8vLyDmuJDlhaXmuJDlh7rnmoTnsbvlnosgIFxyXG4vLy8gPC9zdW1tYXJ5PlxyXG5leHBvcnQgZW51bSBTcGxhc2hUeXBlXHJcbntcclxuICAgIE5vbmUsXHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOWPquaJp+ihjOa3oeWFpeaIluiAhea3oeWHuuS4reeahOS4gOenjVxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIFNpbmdsZU9ubHksXHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOWKoOi9veWujOWcuuaZr+aJjea3oeWHulxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIExvYWRTY2VuZVRoZW5GYWRlT3V0LFxyXG5cclxufVxyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3BsYXNoU2NyZWVuIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBwdWJsaWMgT25GYWRlSW5GaW5pc2g6RnVuY3Rpb247XHJcblxyXG4gICAgcHVibGljIE9uRmFkZU91dEZpbmlzaDpGdW5jdGlvbjtcclxuXHJcbiAgICAvL0xvZ2/otLTlm75cclxuICAgIHB1YmxpYyBzcGxhc2hMb2dvOmNjLlNwcml0ZTtcclxuXHJcbiAgICAvL+a4kOWFpea4kOWHuumAn+W6plxyXG4gICAgcHVibGljIGZhZGVTcGVlZDpudW1iZXIgPSAwLjU7XHJcblxyXG4gICAgLy/nrYnlvoXml7bpl7RcclxuICAgIHB1YmxpYyB3YWl0RHVyYXRpb246bnVtYmVyID0gMC44NDtcclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g5riQ5YWl5riQ5Ye657G75Z6LXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLkVudW0oU3BsYXNoVHlwZSl9KVxyXG4gICAgcHJpdmF0ZSBzcGxhc2hUeXBlOlNwbGFzaFR5cGUgPSBTcGxhc2hUeXBlLk5vbmU7XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOa4kOWFpea4kOWHuueahOeKtuaAgVxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5FbnVtKEZhZGVTdGF0dXMpfSlcclxuICAgIHByaXZhdGUgbVN0YXR1czpGYWRlU3RhdHVzID0gRmFkZVN0YXR1cy5Ob25lO1xyXG5cclxuXHJcbiAgICAvL0xvZ2/otLTlm77kvY3nva5cclxuICAgIHByaXZhdGUgbVNwbGFzaExvZ29Qb3M6Y2MuUmVjdDtcclxuXHJcbiAgICAvL+W9k+WJjemAj+aYjuW6plxyXG4gICAgcHJpdmF0ZSBtQWxwaGE6bnVtYmVyID0gMC4wO1xyXG5cclxuICAgIC8v5riQ5YWl57uT5p2f5Yiw5riQ5Ye655qE5pe26Ze0XHJcbiAgICBwcml2YXRlIHdhaXRUaW1lOm51bWJlcjtcclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g5bu26L+f5pe26Ze0XHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHJpdmF0ZSBkZWxheTpudW1iZXI7XHJcblxyXG4gICAgb25Mb2FkKClcclxuICAgIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKVxyXG4gICAge1xyXG4gICAgICAgIC8v6K6h566XTG9nb+e7mOWItueahOS9jee9rlxyXG4gICAgICAgIC8vdGhpcy5tU3BsYXNoTG9nb1Bvcy54ID0gKGNjLndpblNpemUud2lkdGggKiAwLjUgLSAxOTIwICogMC41KTtcclxuICAgICAgICAvL3RoaXMubVNwbGFzaExvZ29Qb3MueSA9IChjYy53aW5TaXplLmhlaWdodCAqIDAuNSAtIDEwODAgKiAwLjUpO1xyXG4gICAgICAgIHRoaXMubVNwbGFzaExvZ29Qb3MueCA9IDA7XHJcbiAgICAgICAgdGhpcy5tU3BsYXNoTG9nb1Bvcy55ID0gMDtcclxuICAgICAgICB0aGlzLm1TcGxhc2hMb2dvUG9zLndpZHRoID0gY2Mud2luU2l6ZS53aWR0aDtcclxuICAgICAgICB0aGlzLm1TcGxhc2hMb2dvUG9zLmhlaWdodCA9IGNjLndpblNpemUuaGVpZ2h0O1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8g5pKt5Y+R54m55pWIXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgLy8vIDxwYXJhbSBuYW1lPVwic2NlbmVMb2FkZWRGYWRlT3V0XCI+5piv5ZCm5piv5Yqg6L295a6M5Zy65pmv5ZCO5omN5reh5Ye6PC9wYXJhbT5cclxuICAgIHB1YmxpYyBQbGF5U3BsYXNoKGZhZGVTcGVlZDpudW1iZXIgPSAxLjAsd2FpdER1cmF0aW9uOm51bWJlciA9IDAuODUsZGVsYXk6bnVtYmVyID0gMCk6dm9pZFxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZmFkZVNwZWVkID0gZmFkZVNwZWVkO1xyXG4gICAgICAgIHRoaXMud2FpdER1cmF0aW9uID0gd2FpdER1cmF0aW9uO1xyXG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcclxuICAgICAgICB0aGlzLnNwbGFzaFR5cGUgPSBTcGxhc2hUeXBlLk5vbmU7XHJcbiAgICAgICAgdGhpcy5tU3RhdHVzID0gRmFkZVN0YXR1cy5GYWRlSW47XHJcbiAgICB9XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIOaSreaUvua3oeWFpeeJueaViFxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBQbGF5U3BsYXNoRmFkZUluKGZhZGVTcGVlZDpudW1iZXIgPSAxLjAsIGRlbGF5Om51bWJlciA9IDApOnZvaWRcclxuICAgIHtcclxuICAgICAgICB0aGlzLmZhZGVTcGVlZCA9IGZhZGVTcGVlZDtcclxuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XHJcbiAgICAgICAgdGhpcy5zcGxhc2hUeXBlID0gU3BsYXNoVHlwZS5TaW5nbGVPbmx5O1xyXG4gICAgICAgIHRoaXMubVN0YXR1cyA9IEZhZGVTdGF0dXMuRmFkZUluO1xyXG4gICAgICAgIHRoaXMubUFscGhhID0gMC4wO1xyXG4gICAgfVxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyDmkq3mlL7mt6Hlh7rnibnmlYhcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwdWJsaWMgUGxheVNwbGFzaEZhZGVPdXQoZmFkZVNwZWVkOm51bWJlciA9IDEuMCxkZWxheTpudW1iZXIgPSAwKTp2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5mYWRlU3BlZWQgPSBmYWRlU3BlZWQ7XHJcbiAgICAgICAgdGhpcy5kZWxheSA9IGRlbGF5O1xyXG4gICAgICAgIHRoaXMuc3BsYXNoVHlwZSA9IFNwbGFzaFR5cGUuU2luZ2xlT25seTtcclxuICAgICAgICB0aGlzLm1TdGF0dXMgPSBGYWRlU3RhdHVzLkZhZGVPdXQ7XHJcbiAgICAgICAgdGhpcy5tQWxwaGEgPSAxLjA7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGR0KVxyXG4gICAge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5kZWxheSA+IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmRlbGF5IC09IGR0O1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzd2l0Y2ggKHRoaXMubVN0YXR1cylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNhc2UgRmFkZVN0YXR1cy5GYWRlSW46XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5tQWxwaGEgKz0gdGhpcy5mYWRlU3BlZWQgKiBkdDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tQWxwaGEgPj0gMS4wKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc3BsYXNoVHlwZSAhPSBTcGxhc2hUeXBlLlNpbmdsZU9ubHkpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1TdGF0dXMgPSBGYWRlU3RhdHVzLkZhZGVXYWl0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndhaXRUaW1lID0gdGhpcy53YWl0RHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubUFscGhhID0gMS4wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5PbkZhZGVJbkZpbmlzaCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuT25GYWRlSW5GaW5pc2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGYWRlU3RhdHVzLkZhZGVPdXQ6XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1BbHBoYSAtPSB0aGlzLmZhZGVTcGVlZCAqIGR0O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1BbHBoYSA8PSAwLjApXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tU3RhdHVzID0gRmFkZVN0YXR1cy5GYWRlRmluaXNoO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubUFscGhhID0gMC4wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5PbkZhZGVPdXRGaW5pc2ggIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLk9uRmFkZU91dEZpbmlzaCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGYWRlU3RhdHVzLkZhZGVXYWl0OlxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNwbGFzaFR5cGUgIT0gU3BsYXNoVHlwZS5TaW5nbGVPbmx5KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2FpdFRpbWUgLT0gZHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2FpdFRpbWUgPD0gMClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubVN0YXR1cyA9IEZhZGVTdGF0dXMuRmFkZU91dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53YWl0VGltZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsYXRlVXBkYXRlKClcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5zcGxhc2hMb2dvICE9IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL+e7mOWItkxvZ29cclxuICAgICAgICAgICAgLy9HVUkuY29sb3IgPSBuZXcgQ29sb3IoR1VJLmNvbG9yLnIsIEdVSS5jb2xvci5nLCBHVUkuY29sb3IuYiwgTWF0aGYuQ2xhbXAobUFscGhhLCAwLCAxKSk7XHJcbiAgICAgICAgICAgIC8vR1VJLkRyYXdUZXh0dXJlKG1TcGxhc2hMb2dvUG9zLCBzcGxhc2hMb2dvKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKnZvaWQgT25MZXZlbFdhc0xvYWRlZChpbnQgaW5kZXgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoc3BsYXNoVHlwZSA9PSBTcGxhc2hUeXBlLkxvYWRTY2VuZVRoZW5GYWRlT3V0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbVN0YXR1cyA9IEZhZGVTdGF0dXMuRmFkZU91dDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vUGxheVNwbGFzaEZhZGVPdXQoMC41ZiwwLjI1Zik7XHJcblxyXG4gICAgICAgIE9uRmFkZUluRmluaXNoID0gbnVsbDtcclxuICAgICAgICBPbkZhZGVPdXRGaW5pc2ggPSBudWxsO1xyXG4gICAgfSovXHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgLy8gb25Mb2FkICgpIHt9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/util/CommonUils.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd4d69/p1JFKgId+Qa96rIlv', 'CommonUils');
// script/tscript/util/CommonUils.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var CommonUils = /** @class */ (function () {
    function CommonUils() {
    }
    /**
     * 获得相对于某个节点的位置
     * @param relaNode
     * @param targetNode
     */
    CommonUils.transRelativePos = function (relaNode, targetNode) {
        var worldPos = targetNode.parent.convertToWorldSpaceAR(targetNode.position);
        var relaPos = relaNode.parent.convertToNodeSpaceAR(worldPos);
        return relaPos;
    };
    CommonUils.transRelativeFromPos = function (relaNode, position) {
        var worldPos = relaNode.convertToWorldSpaceAR(position);
        var pos = cc.v2(worldPos.x - cc.winSize.width * 0.5, worldPos.y - cc.winSize.height * 0.5);
        return pos;
    };
    CommonUils.converCHNumber = function (num) {
        num = Math.floor(num);
        if (num < 0)
            num = 0;
        if (num > 9)
            num = 9;
        return this.chNumArr[num];
    };
    CommonUils.chNumArr = ["零", "一", "二", "三", "四", "五", "六", "七", "八", "九"];
    CommonUils = __decorate([
        ccclass
    ], CommonUils);
    return CommonUils;
}());
exports.default = CommonUils;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx1dGlsXFxDb21tb25VaWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQUE7SUFzQ0EsQ0FBQztJQWpDRTs7OztPQUlHO0lBQ1csMkJBQWdCLEdBQTlCLFVBQStCLFFBQWdCLEVBQUMsVUFBa0I7UUFFN0QsSUFBSSxRQUFRLEdBQVcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDcEYsSUFBSSxPQUFPLEdBQVcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNyRSxPQUFPLE9BQU8sQ0FBQztJQUNwQixDQUFDO0lBSWEsK0JBQW9CLEdBQWxDLFVBQW1DLFFBQWdCLEVBQUMsUUFBZ0I7UUFFL0QsSUFBSSxRQUFRLEdBQUcsUUFBUSxDQUFDLHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3hELElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRyxHQUFHLEVBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQztRQUMxRixPQUFPLEdBQUcsQ0FBQztJQUNoQixDQUFDO0lBRWEseUJBQWMsR0FBNUIsVUFBNkIsR0FBVTtRQUVyQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN0QixJQUFHLEdBQUcsR0FBRyxDQUFDO1lBQ0wsR0FBRyxHQUFHLENBQUMsQ0FBQztRQUViLElBQUcsR0FBRyxHQUFHLENBQUM7WUFDTCxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBRWIsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFqQ2dCLG1CQUFRLEdBQVksQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLENBQUMsQ0FBQztJQUg3RCxVQUFVO1FBRDlCLE9BQU87T0FDYSxVQUFVLENBc0M5QjtJQUFELGlCQUFDO0NBdENELEFBc0NDLElBQUE7a0JBdENvQixVQUFVIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW1vblVpbHMge1xyXG5cclxuXHJcbiAgICAgcHJpdmF0ZSBzdGF0aWMgY2hOdW1BcnI6c3RyaW5nW10gPSBbXCLpm7ZcIixcIuS4gFwiLFwi5LqMXCIsXCLkuIlcIixcIuWbm1wiLFwi5LqUXCIsXCLlha1cIixcIuS4g1wiLFwi5YWrXCIsXCLkuZ1cIl07XHJcblxyXG4gICAvKipcclxuICAgICog6I635b6X55u45a+55LqO5p+Q5Liq6IqC54K555qE5L2N572uXHJcbiAgICAqIEBwYXJhbSByZWxhTm9kZSBcclxuICAgICogQHBhcmFtIHRhcmdldE5vZGUgXHJcbiAgICAqL1xyXG4gICBwdWJsaWMgc3RhdGljIHRyYW5zUmVsYXRpdmVQb3MocmVsYU5vZGU6Y2MuTm9kZSx0YXJnZXROb2RlOmNjLk5vZGUpOmNjLlZlYzJcclxuICAge1xyXG4gICAgICAgIHZhciB3b3JsZFBvczpjYy5WZWMyID0gdGFyZ2V0Tm9kZS5wYXJlbnQuY29udmVydFRvV29ybGRTcGFjZUFSKHRhcmdldE5vZGUucG9zaXRpb24pO1xyXG4gICAgICAgIHZhciByZWxhUG9zOmNjLlZlYzIgPSByZWxhTm9kZS5wYXJlbnQuY29udmVydFRvTm9kZVNwYWNlQVIod29ybGRQb3MpO1xyXG4gICAgICAgIHJldHVybiByZWxhUG9zO1xyXG4gICB9XHJcblxyXG4gICBcclxuXHJcbiAgIHB1YmxpYyBzdGF0aWMgdHJhbnNSZWxhdGl2ZUZyb21Qb3MocmVsYU5vZGU6Y2MuTm9kZSxwb3NpdGlvbjpjYy5WZWMyKTpjYy5WZWMyXHJcbiAgIHtcclxuICAgICAgICB2YXIgd29ybGRQb3MgPSByZWxhTm9kZS5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIocG9zaXRpb24pO1xyXG4gICAgICAgIHZhciBwb3MgPSBjYy52Mih3b3JsZFBvcy54IC0gY2Mud2luU2l6ZS53aWR0aCAqIDAuNSx3b3JsZFBvcy55IC0gY2Mud2luU2l6ZS5oZWlnaHQgKiAwLjUpO1xyXG4gICAgICAgIHJldHVybiBwb3M7XHJcbiAgIH1cclxuXHJcbiAgIHB1YmxpYyBzdGF0aWMgY29udmVyQ0hOdW1iZXIobnVtOm51bWJlcik6c3RyaW5nXHJcbiAgIHtcclxuICAgICBudW0gPSBNYXRoLmZsb29yKG51bSk7XHJcbiAgICAgaWYobnVtIDwgMClcclxuICAgICAgICAgIG51bSA9IDA7XHJcbiAgICAgXHJcbiAgICAgaWYobnVtID4gOSlcclxuICAgICAgICAgIG51bSA9IDk7XHJcblxyXG4gICAgIHJldHVybiB0aGlzLmNoTnVtQXJyW251bV07XHJcbiAgIH1cclxuICAgXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/tscript/wx/WXRank.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fec21c2Ce1BMaGT8QgDMifw', 'WXRank');
// script/tscript/wx/WXRank.ts

// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var WXRank = /** @class */ (function (_super) {
    __extends(WXRank, _super);
    function WXRank() {
        var _this_1 = _super !== null && _super.apply(this, arguments) || this;
        _this_1.label = null;
        _this_1.text = 'hello';
        _this_1.shareTime = 0;
        _this_1.shareCnt = 0;
        return _this_1;
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    WXRank.prototype.start = function () {
    };
    WXRank.prototype.onBtnShareTest = function () {
        var date = new Date();
        this.shareTime = Date.now() / 1000;
        var _this = this;
        var callfunc = function () {
            var curTime = Date.now() / 1000;
            if (curTime - _this.shareTime <= 3) {
                if (_this.shareCnt >= 1)
                    _this.onShowTip("短时间内,不要分享同一个群");
                else
                    _this.onShowTip("请换个群试试哦~~");
                _this.shareCnt++;
            }
            else {
                _this.onShowTip("恭喜,获得xxx奖励");
                _this.shareCnt = 0;
            }
        };
        window["wx"].shareAppMessage({ title: "世界唯一被猪统治的岛，被遗忘却幸福", imageUrl: "https://pigwander-1258819150.file.myqcloud.com/share/share_2.png", query: "" });
        this.scheduleOnce(callfunc, 0.1);
    };
    //系统提示
    WXRank.prototype.onShowTip = function (msg) {
        /*this.sysMessage.active = true;
        this.sysMessage.width = String(msg).length * 40
        let labMsg = this.sysMessage.getChildByName("lab_msg")
        labMsg.getComponent(cc.Label).string = msg
        let _this = this;
        let callfunc = function(){

            _this.sysMessage.active = false;
        }
        this.scheduleOnce(callfunc,1);*/
    };
    __decorate([
        property(cc.Label)
    ], WXRank.prototype, "label", void 0);
    __decorate([
        property
    ], WXRank.prototype, "text", void 0);
    WXRank = __decorate([
        ccclass
    ], WXRank);
    return WXRank;
}(cc.Component));
exports.default = WXRank;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx0c2NyaXB0XFx3eFxcV1hSYW5rLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixrRkFBa0Y7QUFDbEYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5Qiw0RkFBNEY7QUFDNUYsbUdBQW1HOztBQUU3RixJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQW9DLDBCQUFZO0lBRGhEO1FBQUEsdUVBNERDO1FBeERHLGFBQUssR0FBYSxJQUFJLENBQUM7UUFHdkIsWUFBSSxHQUFXLE9BQU8sQ0FBQztRQWNYLGlCQUFTLEdBQVUsQ0FBQyxDQUFDO1FBRXJCLGdCQUFRLEdBQVUsQ0FBQyxDQUFDOztJQXFDcEMsQ0FBQztJQW5ERyx3QkFBd0I7SUFFeEIsZUFBZTtJQUVmLHNCQUFLLEdBQUw7SUFFQSxDQUFDO0lBVUcsK0JBQWMsR0FBZDtRQUNJLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUMsSUFBSSxDQUFBO1FBQ2hDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLFFBQVEsR0FBRztZQUNYLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBQyxJQUFJLENBQUM7WUFDOUIsSUFBRyxPQUFPLEdBQUcsS0FBSyxDQUFDLFNBQVMsSUFBSSxDQUFDLEVBQUM7Z0JBQzlCLElBQUcsS0FBSyxDQUFDLFFBQVEsSUFBSSxDQUFDO29CQUNsQixLQUFLLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDOztvQkFFakMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFFakMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO2FBQ3BCO2lCQUFJO2dCQUNELEtBQUssQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQzlCLEtBQUssQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO2FBQ3RCO1FBQ0wsQ0FBQyxDQUFBO1FBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLGVBQWUsQ0FBQyxFQUFDLEtBQUssRUFBQyxtQkFBbUIsRUFBQyxRQUFRLEVBQUMsa0VBQWtFLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxDQUFDLENBQUE7UUFDOUksSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUNELE1BQU07SUFDTiwwQkFBUyxHQUFULFVBQVUsR0FBRztRQUNUOzs7Ozs7Ozs7d0NBU2dDO0lBQ3BDLENBQUM7SUF0REw7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzt5Q0FDSTtJQUd2QjtRQURDLFFBQVE7d0NBQ2M7SUFOTixNQUFNO1FBRDFCLE9BQU87T0FDYSxNQUFNLENBMkQxQjtJQUFELGFBQUM7Q0EzREQsQUEyREMsQ0EzRG1DLEVBQUUsQ0FBQyxTQUFTLEdBMkQvQztrQkEzRG9CLE1BQU0iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV1hSYW5rIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBsYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgdGV4dDogc3RyaW5nID0gJ2hlbGxvJztcclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcbiAgICAvLyBvbkxvYWQgKCkge31cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgXHJcblxyXG5cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzaGFyZVRpbWU6bnVtYmVyID0gMDtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzaGFyZUNudDpudW1iZXIgPSAwO1xyXG5cclxuICAgICAgICBvbkJ0blNoYXJlVGVzdCgpe1xyXG4gICAgICAgICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hhcmVUaW1lID0gRGF0ZS5ub3coKS8xMDAwXHJcbiAgICAgICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIGxldCBjYWxsZnVuYyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyVGltZSA9IERhdGUubm93KCkvMTAwMDtcclxuICAgICAgICAgICAgICAgIGlmKGN1clRpbWUgLSBfdGhpcy5zaGFyZVRpbWUgPD0gMyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoX3RoaXMuc2hhcmVDbnQgPj0gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMub25TaG93VGlwKFwi55+t5pe26Ze05YaFLOS4jeimgeWIhuS6q+WQjOS4gOS4que+pFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9uU2hvd1RpcChcIuivt+aNouS4que+pOivleivleWTpn5+XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNoYXJlQ250Kys7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vblNob3dUaXAoXCLmga3llpws6I635b6XeHh45aWW5YqxXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNoYXJlQ250ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aW5kb3dbXCJ3eFwiXS5zaGFyZUFwcE1lc3NhZ2Uoe3RpdGxlOlwi5LiW55WM5ZSv5LiA6KKr54yq57uf5rK755qE5bKb77yM6KKr6YGX5b+Y5Y205bm456aPXCIsaW1hZ2VVcmw6XCJodHRwczovL3BpZ3dhbmRlci0xMjU4ODE5MTUwLmZpbGUubXlxY2xvdWQuY29tL3NoYXJlL3NoYXJlXzIucG5nXCIscXVlcnk6XCJcIn0pXHJcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKGNhbGxmdW5jLDAuMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v57O757uf5o+Q56S6XHJcbiAgICAgICAgb25TaG93VGlwKG1zZyl7XHJcbiAgICAgICAgICAgIC8qdGhpcy5zeXNNZXNzYWdlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc3lzTWVzc2FnZS53aWR0aCA9IFN0cmluZyhtc2cpLmxlbmd0aCAqIDQwXHJcbiAgICAgICAgICAgIGxldCBsYWJNc2cgPSB0aGlzLnN5c01lc3NhZ2UuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJfbXNnXCIpXHJcbiAgICAgICAgICAgIGxhYk1zZy5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IG1zZ1xyXG4gICAgICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICBsZXQgY2FsbGZ1bmMgPSBmdW5jdGlvbigpe1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zeXNNZXNzYWdlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKGNhbGxmdW5jLDEpOyovXHJcbiAgICAgICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------
