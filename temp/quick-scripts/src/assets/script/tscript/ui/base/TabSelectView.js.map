{"version":3,"sources":["assets\\script\\tscript\\ui\\base\\TabSelectView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import SelectView from \"./SelectView\";\r\nimport TabButton from \"./TabButton\";\r\nimport View from \"./View\";\r\nimport UIManager from \"../UIManager\";\r\nimport SoundManager from \"../../core/SoundManager\";\r\nimport { SoundClipType } from \"../../audio/SoundClip\";\r\n\r\n// Learn TypeScript:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n\r\n\r\n@ccclass\r\nexport default class TabSelectView extends View {\r\n\r\n    @property(TabButton)\r\n    private tabBtns:Array<TabButton> = [];\r\n\r\n    @property(SelectView)\r\n    private selevtViews:Array<SelectView> = [];\r\n\r\n    @property(cc.Node)\r\n    private showView:cc.Node = null;\r\n    \r\n    private currentView:SelectView;\r\n\r\n    onLoad () {\r\n\r\n        super.onLoad();\r\n\r\n        for(var i = 0 ; i < this.tabBtns.length; i++)\r\n        {\r\n            this.tabBtns[i].node.on(cc.Node.EventType.TOUCH_START,(event:cc.Event.EventTouch)=>{\r\n                //SoundManager.instance.playAudioClip(SoundClipType.click);\r\n            },this);\r\n            this.tabBtns[i].node.on(cc.Node.EventType.TOUCH_END,this.onTouchUp,this);\r\n        }\r\n\r\n        this.selectTab(0);\r\n    }\r\n\r\n\r\n    public open()\r\n    {\r\n        super.open();\r\n        if(this.currentView)\r\n        {\r\n            this.currentView.awake();\r\n        }\r\n    }\r\n\r\n    public close()\r\n    {\r\n        super.close();\r\n        if(this.currentView)\r\n        {\r\n            this.currentView.sleep();\r\n        }\r\n    }\r\n\r\n    public selectTab(index:number = -1)\r\n    {\r\n        for(var i = 0 ; i < this.tabBtns.length; i++)\r\n        {\r\n\r\n            if(i != index )\r\n            {\r\n                if(this.tabBtns[i].selected)\r\n                {\r\n                    this.tabBtns[i].selected = false;\r\n                }\r\n                \r\n            }else\r\n            {\r\n                if(!this.tabBtns[i].selected)\r\n                {\r\n                    this.tabBtns[i].selected = true;\r\n\r\n                    if(this.currentView)\r\n                    {\r\n                        this.currentView.sleep();\r\n                    }\r\n    \r\n                    this.currentView = this.selevtViews[i];\r\n                    this.currentView.node.setParent(this.showView);\r\n                    this.currentView.node.position = cc.Vec2.ZERO;\r\n                    this.currentView.awake();\r\n                }\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\n    private onTouchUp(event:cc.Event.EventTouch)\r\n    {\r\n        var btnNode:cc.Node = event.currentTarget as cc.Node;\r\n        \r\n        var index:number = this.tabBtns.indexOf(btnNode.getComponent(TabButton));\r\n\r\n        this.selectTab(index);\r\n    }\r\n    \r\n    // update (dt) {}\r\n}\r\n\r\n\r\n"]}