{"version":3,"sources":["assets\\script\\tscript\\ui\\main\\DuanWei.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import DataManager from \"../../core/DataManager\";\r\n\r\n// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class DuanWei extends cc.Component {\r\n\r\n    @property(cc.Sprite)\r\n    icon: cc.Sprite = null;\r\n\r\n    @property(cc.Label)\r\n    nameTxt: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    valueTxt: cc.Label = null;\r\n\r\n    @property(cc.SpriteFrame)\r\n    skins:cc.SpriteFrame[] = []\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n\r\n    start () {\r\n        this.showDuanWei();\r\n    }\r\n\r\n    public showDuanWei()\r\n    {\r\n        var star:number = DataManager.instance.getPlayerData().star;\r\n\r\n        var leveCnfdatas = DataManager.instance.levelConfigDatas;\r\n\r\n        var index:number = 0;\r\n\r\n        if(star >= leveCnfdatas[leveCnfdatas.length - 1].stars)\r\n        {\r\n            index = leveCnfdatas.length - 1; \r\n        }else\r\n        {\r\n            for(var i = 0 ; i < leveCnfdatas.length - 1; i++)\r\n            {\r\n                if(star >= leveCnfdatas[i].stars && star < leveCnfdatas[i + 1].stars)\r\n                {\r\n                    index = i;\r\n                    break;\r\n                }\r\n                \r\n            }\r\n        }\r\n\r\n        if(index == leveCnfdatas.length - 1)\r\n        {\r\n            this.nameTxt.string = leveCnfdatas[index].name;\r\n            this.valueTxt.string =  \"\" + DataManager.instance.getPlayerData().star;\r\n            var spriteFrame = this.skins[this.skins.length - 1];\r\n            this.icon.spriteFrame = spriteFrame;\r\n            this.icon.node.width = spriteFrame.getOriginalSize().width;\r\n            this.icon.node.height = spriteFrame.getOriginalSize().width;\r\n\r\n        }else\r\n        {\r\n            this.nameTxt.string = leveCnfdatas[index].name;\r\n            this.valueTxt.string =  DataManager.instance.getPlayerData().star + \"/\" + leveCnfdatas[index + 1].stars;\r\n            var spriteFrame = this.skins[leveCnfdatas[index].id - 1];\r\n            this.icon.spriteFrame = spriteFrame;\r\n            this.icon.node.width = spriteFrame.getOriginalSize().width;\r\n            this.icon.node.height = spriteFrame.getOriginalSize().width;\r\n        }\r\n\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}