{"version":3,"sources":["assets\\script\\tscript\\ui\\base\\CustomButton.ts"],"names":[],"mappings":";;;;;AAAA,mDAAsD;AACtD,wDAAmD;AAEnD,oBAAoB;AACpB,iFAAiF;AACjF,yFAAyF;AACzF,mBAAmB;AACnB,2FAA2F;AAC3F,mGAAmG;AACnG,8BAA8B;AAC9B,2FAA2F;AAC3F,mGAAmG;AAE7F,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAE1C,IAAY,OAMX;AAND,WAAY,OAAO;IAEf,yCAAU,CAAA;IACV,2CAAO,CAAA;IACP,uCAAK,CAAA;IACL,6CAAQ,CAAA;AACZ,CAAC,EANW,OAAO,GAAP,eAAO,KAAP,eAAO,QAMlB;AAGD;IAA0C,gCAAY;IADtD;QAAA,qEAsHC;QAnHG;;WAEG;QAEI,gBAAU,GAAiB,yBAAa,CAAC,IAAI,CAAC;QAErD;;WAEG;QAEI,YAAM,GAAkB,IAAI,CAAC;QAEpC;;WAEG;QAEI,aAAO,GAAkB,IAAI,CAAC;QAErC;;WAEG;QAEI,WAAK,GAAkB,IAAI,CAAC;QAEnC;;WAEG;QAEI,cAAQ,GAAkB,IAAI,CAAC;QAc9B,YAAM,GAAY,OAAO,CAAC,MAAM,CAAC;;QAwEzC,iBAAiB;IACrB,CAAC;IAnFG,sBAAW,gCAAM;aAAjB;YAEI,IAAG,CAAC,IAAI,CAAC,OAAO,EAChB;gBACI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;aAC/C;YAED,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;;;OAAA;IAGD,sBAAW,+BAAK;aAAhB;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;aACD,UAAiB,KAAc;YAE3B,IAAG,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EACtC;gBACI,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;aAClD;YAED,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACxB,CAAC;;;OATA;IAWD,6BAAM,GAAN;QAEI,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IAED;;OAEG;IAEK,2BAAI,GAAZ;QAAA,iBA+CC;QA7CG,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,MAAM,CAAC;QAE5B,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAC,UAAC,KAAyB;YACjE,IAAG,KAAI,CAAC,KAAK,IAAI,OAAO,CAAC,QAAQ;gBAC7B,OAAO;YACX,sBAAY,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAI,CAAC,UAAU,CAAC,CAAC;YACrD,KAAI,CAAC,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC;QACjC,CAAC,EAAC,IAAI,CAAC,CAAC;QAER,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAC,UAAC,KAAyB;YAC/D,IAAG,KAAI,CAAC,KAAK,IAAI,OAAO,CAAC,QAAQ;gBAC7B,OAAO;YAEX,KAAI,CAAC,KAAK,GAAG,OAAO,CAAC,MAAM,CAAC;QAChC,CAAC,EAAC,IAAI,CAAC,CAAC;QAER,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,EAAC,UAAC,KAAyB;YAClE,IAAG,KAAI,CAAC,KAAK,IAAI,OAAO,CAAC,QAAQ;gBAC7B,OAAO;YAEX,KAAI,CAAC,KAAK,GAAG,OAAO,CAAC,MAAM,CAAC;QAChC,CAAC,EAAC,IAAI,CAAC,CAAC;QAGR,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAC,UAAC,KAAyB;YACjE,IAAG,KAAI,CAAC,KAAK,IAAI,OAAO,CAAC,QAAQ;gBAC7B,OAAO;YAEX,KAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;QAC/B,CAAC,EAAC,IAAI,CAAC,CAAC;QAER,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAC,UAAC,KAAyB;YAC9D,IAAG,KAAI,CAAC,KAAK,IAAI,OAAO,CAAC,QAAQ;gBAC7B,OAAO;YAEX,KAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;QAC/B,CAAC,EAAC,IAAI,CAAC,CAAC;QAER,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAC,UAAC,KAAyB;YACjE,IAAG,KAAI,CAAC,KAAK,IAAI,OAAO,CAAC,QAAQ;gBAC7B,OAAO;YAEX,KAAI,CAAC,KAAK,GAAG,OAAO,CAAC,MAAM,CAAC;QAChC,CAAC,EAAC,IAAI,CAAC,CAAC;IAEZ,CAAC;IA5GD;QADC,QAAQ,CAAC,EAAC,IAAI,EAAC,EAAE,CAAC,IAAI,CAAC,yBAAa,CAAC,EAAC,CAAC;oDACa;IAMrD;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;gDACW;IAMpC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;iDACY;IAMrC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;+CACU;IAMnC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;kDACa;IA9BrB,YAAY;QADhC,OAAO;OACa,YAAY,CAqHhC;IAAD,mBAAC;CArHD,AAqHC,CArHyC,EAAE,CAAC,SAAS,GAqHrD;kBArHoB,YAAY","file":"","sourceRoot":"/","sourcesContent":["import { SoundClipType } from \"../../audio/SoundClip\";\r\nimport SoundManager from \"../../core/SoundManager\";\r\n\r\n// Learn TypeScript:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\nexport enum CBState\r\n{\r\n    normal = 0,\r\n    pressed,\r\n    hover,\r\n    disabled,\r\n}\r\n\r\n@ccclass\r\nexport default class CustomButton extends cc.Component {\r\n\r\n    /**\r\n     * 点击时的播放声音\r\n     */\r\n    @property({type:cc.Enum(SoundClipType)})\r\n    public clickSound:SoundClipType = SoundClipType.none;\r\n\r\n    /**\r\n     * 正常状态\r\n     */\r\n    @property(cc.SpriteFrame)\r\n    public normal:cc.SpriteFrame = null;\r\n\r\n    /**\r\n     *  按下状态\r\n     */\r\n    @property(cc.SpriteFrame)\r\n    public pressed:cc.SpriteFrame = null;\r\n\r\n    /**\r\n     * 划过状态\r\n     */\r\n    @property(cc.SpriteFrame)\r\n    public hover:cc.SpriteFrame = null;\r\n\r\n    /**\r\n     * 无效状态\r\n     */\r\n    @property(cc.SpriteFrame)\r\n    public disabled:cc.SpriteFrame = null;\r\n\r\n  \r\n    private _sprite: cc.Sprite;\r\n    public get sprite(): cc.Sprite {\r\n\r\n        if(!this._sprite)\r\n        {\r\n            this._sprite = this.getComponent(cc.Sprite);\r\n        }\r\n\r\n        return this._sprite;\r\n    }\r\n\r\n    private _state: CBState = CBState.normal;\r\n    public get state(): CBState {\r\n        return this._state;\r\n    }\r\n    public set state(value: CBState) {\r\n\r\n        if(this.sprite && this[CBState[value]])\r\n        {\r\n            this.sprite.spriteFrame = this[CBState[value]];\r\n        }\r\n\r\n        this._state = value;\r\n    }\r\n\r\n    onLoad () \r\n    {\r\n        this.init();\r\n    }\r\n\r\n    /*start () {\r\n\r\n    }*/\r\n\r\n    private init()\r\n    {\r\n        this.state = CBState.normal;\r\n\r\n        this.node.on(cc.Node.EventType.TOUCH_START,(event:cc.Event.EventTouch)=>{\r\n            if(this.state == CBState.disabled)\r\n                return;\r\n            SoundManager.instance.playAudioClip(this.clickSound);\r\n            this.state = CBState.pressed;\r\n        },this);\r\n\r\n        this.node.on(cc.Node.EventType.TOUCH_END,(event:cc.Event.EventTouch)=>{\r\n            if(this.state == CBState.disabled)\r\n                return;\r\n\r\n            this.state = CBState.normal;\r\n        },this);\r\n\r\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL,(event:cc.Event.EventTouch)=>{\r\n            if(this.state == CBState.disabled)\r\n                return;\r\n\r\n            this.state = CBState.normal;\r\n        },this);\r\n\r\n        \r\n        this.node.on(cc.Node.EventType.MOUSE_ENTER,(event:cc.Event.EventTouch)=>{\r\n            if(this.state == CBState.disabled)\r\n                return;\r\n\r\n            this.state = CBState.hover;\r\n        },this);\r\n\r\n        this.node.on(cc.Node.EventType.MOUSE_UP,(event:cc.Event.EventTouch)=>{\r\n            if(this.state == CBState.disabled)\r\n                return;\r\n\r\n            this.state = CBState.hover;\r\n        },this);\r\n\r\n        this.node.on(cc.Node.EventType.MOUSE_LEAVE,(event:cc.Event.EventTouch)=>{\r\n            if(this.state == CBState.disabled)\r\n                return;\r\n\r\n            this.state = CBState.normal;\r\n        },this);\r\n\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}