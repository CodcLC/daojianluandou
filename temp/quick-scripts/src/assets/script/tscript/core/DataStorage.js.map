{"version":3,"sources":["assets\\script\\tscript\\core\\DataStorage.ts"],"names":[],"mappings":";;;;AAAA,oBAAoB;AACpB,iFAAiF;AACjF,yFAAyF;AACzF,mBAAmB;AACnB,2FAA2F;AAC3F,mGAAmG;AACnG,8BAA8B;AAC9B,2FAA2F;AAC3F,mGAAmG;;AAE7F,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAG1C;IAAA;IAwFA,CAAC;IArFG,sBAAkB,iBAAE;aAApB;YACI,IAAG,CAAC,IAAI,CAAC,GAAG,EACZ;gBACI,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;aAC3B;YACD,OAAO,IAAI,CAAC,GAAG,CAAC;QACpB,CAAC;;;OAAA;IAGa,mBAAO,GAArB,UAAsB,GAAU,EAAC,YAAuB;QAAvB,6BAAA,EAAA,mBAAuB;QAEpD,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;QAEjC,IAAG,CAAC,KAAK;YACL,OAAO,YAAY,CAAC;QAExB,OAAO,KAAK,CAAC;IACjB,CAAC;IAGa,sBAAU,GAAxB,UAAyB,GAAU,EAAC,YAAmB;QAEnD,IAAI,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;QAE3C,IAAG,CAAC,KAAK;YACL,OAAO,YAAY,CAAC;QAExB,OAAO,KAAK,CAAC;IACjB,CAAC;IAEa,wBAAY,GAA1B,UAA2B,GAAU,EAAC,YAAmB;QAErD,IAAI,KAAK,GAAG,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;QAE7C,IAAG,CAAC,KAAK;YACL,OAAO,YAAY,CAAC;QAExB,OAAO,KAAK,CAAC;IACjB,CAAC;IAEa,mBAAO,GAArB,UAAsB,GAAU,EAAC,KAAS;QAGtC,8BAA8B;QAC9B,mBAAmB;QAEnB,IAAI,CAAC,UAAU,CAAC,GAAG,EAAC,KAAK,CAAC,CAAC;IAE/B,CAAC;IAEa,sBAAU,GAAxB,UAAyB,GAAU;QAG/B,IAAG,IAAI,CAAC,EAAE,EACV;YACI,OAAO,IAAI,CAAC,EAAE,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;SACtC;QAED,OAAO,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5C,CAAC;IAEa,sBAAU,GAAxB,UAAyB,GAAU,EAAC,KAAS;QAEzC,IAAG,IAAI,CAAC,EAAE,EACV;YACI,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,EAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,EAAC,CAAC,CAAC;SAC/C;aACD;YACI,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,EAAC,KAAK,CAAC,CAAC;SAC1C;IACL,CAAC;IAEa,sBAAU,GAAxB,UAAyB,GAAU;QAE/B,OAAO,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;IAC/C,CAAC;IAEa,wBAAY,GAA1B;QAEI,IAAG,IAAI,CAAC,EAAE,EACV;YACI,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;SAC1B;IACL,CAAC;IApFc,eAAG,GAAQ,IAAI,CAAC;IAFd,WAAW;QAD/B,OAAO;OACa,WAAW,CAwF/B;IAAD,kBAAC;CAxFD,AAwFC,IAAA;kBAxFoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class DataStorage  {\r\n\r\n    private static _wx: any = null;\r\n    public static get wx(): any {\r\n        if(!this._wx)\r\n        {\r\n            this._wx = window[\"wx\"];\r\n        }\r\n        return this._wx;\r\n    }\r\n\r\n\r\n    public static getItem(key:string,defaultValue:any = null):any\r\n    {\r\n        var value = this.getStorage(key);\r\n\r\n        if(!value)\r\n            return defaultValue;\r\n\r\n        return value;\r\n    }\r\n\r\n\r\n    public static getIntItem(key:string,defaultValue:number):number\r\n    {\r\n        var value = parseInt(this.getStorage(key));\r\n\r\n        if(!value)\r\n            return defaultValue;\r\n\r\n        return value;\r\n    }\r\n\r\n    public static getFloatItem(key:string,defaultValue:number):number\r\n    {\r\n        var value = parseFloat(this.getStorage(key));\r\n\r\n        if(!value)\r\n            return defaultValue;\r\n\r\n        return value;\r\n    }\r\n\r\n    public static setItem(key:string,value:any)\r\n    {\r\n\r\n        //wx.setStorage(Object object)\r\n        //wx.setStorageSync\r\n\r\n        this.setStorage(key,value);\r\n\r\n    }\r\n\r\n    public static getStorage(key:string):any\r\n    {\r\n\r\n        if(this.wx)\r\n        {\r\n            return this.wx.getStorageSync(key);\r\n        }\r\n\r\n        return cc.sys.localStorage.getItem(key);\r\n    }\r\n\r\n    public static setStorage(key:string,value:any):any\r\n    {\r\n        if(this.wx)\r\n        {\r\n            this.wx.setStorage({key: key, data: value});\r\n        }else\r\n        {\r\n            cc.sys.localStorage.setItem(key,value);\r\n        }\r\n    }\r\n\r\n    public static removeItem(key:string)\r\n    {\r\n        return cc.sys.localStorage.removeItem(key);\r\n    }\r\n\r\n    public static clearStorage()\r\n    {\r\n        if(this.wx)\r\n        {\r\n            this.wx.clearStorage();\r\n        }\r\n    }\r\n\r\n}\r\n"]}