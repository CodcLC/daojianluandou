{"version":3,"sources":["assets\\script\\tscript\\ui\\main\\UpgradeUI.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import BaseUI from \"../base/BaseUI\";\r\nimport WXSdk from \"../../wx/WXSdk\";\r\nimport LevelIcon from \"./LevelIcon\";\r\n\r\n// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class UpgradeUI extends BaseUI {\r\n\r\n\r\n    @property(cc.Button)\r\n    public turnbackBtn:cc.Button = null;\r\n\r\n    @property(cc.Button)\r\n    public showBtn:cc.Button = null;\r\n\r\n    @property(cc.Button)\r\n    public recoverBtn:cc.Button = null;\r\n    \r\n    @property(cc.Sprite)\r\n    title: cc.Sprite = null;\r\n\r\n    @property(cc.SpriteFrame)\r\n    titleSkins: cc.SpriteFrame[] = [];\r\n\r\n    @property(LevelIcon)\r\n    levelIcon: LevelIcon = null;\r\n\r\n    @property(cc.SpriteFrame)\r\n    iconSkins: cc.SpriteFrame[] = [];\r\n\r\n\r\n    public onExit:Function = null;\r\n\r\n    public onRecover:Function = null;\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n\r\n    start () {\r\n\r\n        this.turnbackBtn.node.on(cc.Node.EventType.TOUCH_END,(event:cc.Event.EventTouch)=>\r\n        {\r\n            this.close();\r\n            this.onExit && this.onExit();\r\n        },this);\r\n\r\n        this.showBtn.node.on(cc.Node.EventType.TOUCH_END,(event:cc.Event.EventTouch)=>\r\n        {\r\n            WXSdk.instance.shareToAnyOne(()=>{\r\n\r\n                this.close();\r\n                this.onExit && this.onExit();\r\n\r\n            },()=>{});\r\n\r\n            \r\n        },this);\r\n\r\n        this.recoverBtn.node.on(cc.Node.EventType.TOUCH_START,(event:cc.Event.EventTouch)=>\r\n        {\r\n\r\n            WXSdk.instance.shareToAnyOne(()=>{\r\n\r\n                this.close();\r\n                this.onRecover && this.onRecover();\r\n\r\n            },()=>{});\r\n\r\n            \r\n        },this);\r\n    }\r\n\r\n    // update (dt) {}\r\n\r\n    public open()\r\n    {\r\n        super.open();\r\n        WXSdk.instance.showBottomBanner(\"adunit-d39672ca59cf15a2\");\r\n    }\r\n\r\n    public close()\r\n    {\r\n        super.close();\r\n        WXSdk.instance.removeBanner();\r\n    }\r\n\r\n    public showUpgrade(levelId:number,up:boolean)\r\n    {\r\n        this.levelIcon.updateSkin(levelId);\r\n\r\n        if(up)\r\n        {\r\n            this.showBtn.node.active = true;\r\n            this.recoverBtn.node.active = false;\r\n            this.title.spriteFrame = this.titleSkins[0];\r\n        }else\r\n        {\r\n            this.showBtn.node.active = false;\r\n            this.recoverBtn.node.active = true;\r\n            this.title.spriteFrame = this.titleSkins[1];\r\n        }\r\n\r\n    }\r\n}\r\n"]}